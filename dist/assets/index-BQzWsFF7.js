var QI=Object.defineProperty;var y0=e=>{throw TypeError(e)};var KI=(e,t,n)=>t in e?QI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>KI(e,typeof t!="symbol"?t+"":t,n),ym=(e,t,n)=>t.has(e)||y0("Cannot "+n);var W=(e,t,n)=>(ym(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?y0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,r)=>(ym(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),nn=(e,t,n)=>(ym(e,t,"access private method"),n);var Md=(e,t,n,r)=>({set _(i){_e(e,t,i,n)},get _(){return W(e,t,r)}});function GI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function YI(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var mE={exports:{}},Yh={},gE={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=Symbol.for("react.element"),XI=Symbol.for("react.portal"),JI=Symbol.for("react.fragment"),ZI=Symbol.for("react.strict_mode"),eD=Symbol.for("react.profiler"),tD=Symbol.for("react.provider"),nD=Symbol.for("react.context"),rD=Symbol.for("react.forward_ref"),iD=Symbol.for("react.suspense"),sD=Symbol.for("react.memo"),aD=Symbol.for("react.lazy"),x0=Symbol.iterator;function oD(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var vE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yE=Object.assign,xE={};function Nl(e,t,n){this.props=e,this.context=t,this.refs=xE,this.updater=n||vE}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bE(){}bE.prototype=Nl.prototype;function ox(e,t,n){this.props=e,this.context=t,this.refs=xE,this.updater=n||vE}var lx=ox.prototype=new bE;lx.constructor=ox;yE(lx,Nl.prototype);lx.isPureReactComponent=!0;var b0=Array.isArray,wE=Object.prototype.hasOwnProperty,cx={current:null},SE={key:!0,ref:!0,__self:!0,__source:!0};function _E(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)wE.call(t,r)&&!SE.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:rd,type:e,key:s,ref:a,props:i,_owner:cx.current}}function lD(e,t){return{$$typeof:rd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ux(e){return typeof e=="object"&&e!==null&&e.$$typeof===rd}function cD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var w0=/\/+/g;function xm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cD(""+e.key):t.toString(36)}function Pf(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case rd:case XI:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+xm(a,0):r,b0(i)?(n="",e!=null&&(n=e.replace(w0,"$&/")+"/"),Pf(i,t,n,"",function(u){return u})):i!=null&&(ux(i)&&(i=lD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(w0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",b0(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+xm(s,l);a+=Pf(s,t,n,c,i)}else if(c=oD(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+xm(s,l++),a+=Pf(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $d(e,t,n){if(e==null)return e;var r=[],i=0;return Pf(e,r,"","",function(s){return t.call(n,s,i++)}),r}function uD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rn={current:null},Nf={transition:null},dD={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:Nf,ReactCurrentOwner:cx};function jE(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:$d,forEach:function(e,t,n){$d(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $d(e,function(){t++}),t},toArray:function(e){return $d(e,function(t){return t})||[]},only:function(e){if(!ux(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=Nl;Ie.Fragment=JI;Ie.Profiler=eD;Ie.PureComponent=ox;Ie.StrictMode=ZI;Ie.Suspense=iD;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dD;Ie.act=jE;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yE({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=cx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wE.call(t,c)&&!SE.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:rd,type:e.type,key:i,ref:s,props:r,_owner:a}};Ie.createContext=function(e){return e={$$typeof:nD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tD,_context:e},e.Consumer=e};Ie.createElement=_E;Ie.createFactory=function(e){var t=_E.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:rD,render:e}};Ie.isValidElement=ux;Ie.lazy=function(e){return{$$typeof:aD,_payload:{_status:-1,_result:e},_init:uD}};Ie.memo=function(e,t){return{$$typeof:sD,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=Nf.transition;Nf.transition={};try{e()}finally{Nf.transition=t}};Ie.unstable_act=jE;Ie.useCallback=function(e,t){return Rn.current.useCallback(e,t)};Ie.useContext=function(e){return Rn.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Rn.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return Rn.current.useEffect(e,t)};Ie.useId=function(){return Rn.current.useId()};Ie.useImperativeHandle=function(e,t,n){return Rn.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return Rn.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return Rn.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return Rn.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return Rn.current.useReducer(e,t,n)};Ie.useRef=function(e){return Rn.current.useRef(e)};Ie.useState=function(e){return Rn.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return Rn.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return Rn.current.useTransition()};Ie.version="18.3.1";gE.exports=Ie;var x=gE.exports;const q=Wa(x),Xh=GI({__proto__:null,default:q},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD=x,hD=Symbol.for("react.element"),pD=Symbol.for("react.fragment"),mD=Object.prototype.hasOwnProperty,gD=fD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vD={key:!0,ref:!0,__self:!0,__source:!0};function EE(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)mD.call(t,r)&&!vD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:hD,type:e,key:s,ref:a,props:i,_owner:gD.current}}Yh.Fragment=pD;Yh.jsx=EE;Yh.jsxs=EE;mE.exports=Yh;var o=mE.exports,kE={exports:{}},cr={},CE={exports:{}},RE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,T){var j=R.length;R.push(T);e:for(;0<j;){var M=j-1>>>1,$=R[M];if(0<i($,T))R[M]=T,R[j]=$,j=M;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var T=R[0],j=R.pop();if(j!==T){R[0]=j;e:for(var M=0,$=R.length,P=$>>>1;M<P;){var Q=2*(M+1)-1,K=R[Q],J=Q+1,V=R[J];if(0>i(K,j))J<$&&0>i(V,K)?(R[M]=V,R[J]=j,M=J):(R[M]=K,R[Q]=j,M=Q);else if(J<$&&0>i(V,j))R[M]=V,R[J]=j,M=J;else break e}}return T}function i(R,T){var j=R.sortIndex-T.sortIndex;return j!==0?j:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=R)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function S(R){if(m=!1,b(R),!g)if(n(c)!==null)g=!0,U(E);else{var T=n(u);T!==null&&B(S,T.startTime-R)}}function E(R,T){g=!1,m&&(m=!1,v(N),N=-1),h=!0;var j=p;try{for(b(T),f=n(c);f!==null&&(!(f.expirationTime>T)||R&&!D());){var M=f.callback;if(typeof M=="function"){f.callback=null,p=f.priorityLevel;var $=M(f.expirationTime<=T);T=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),b(T)}else r(c);f=n(c)}if(f!==null)var P=!0;else{var Q=n(u);Q!==null&&B(S,Q.startTime-T),P=!1}return P}finally{f=null,p=j,h=!1}}var _=!1,k=null,N=-1,I=5,C=-1;function D(){return!(e.unstable_now()-C<I)}function O(){if(k!==null){var R=e.unstable_now();C=R;var T=!0;try{T=k(!0,R)}finally{T?H():(_=!1,k=null)}}else _=!1}var H;if(typeof y=="function")H=function(){y(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,F=A.port2;A.port1.onmessage=O,H=function(){F.postMessage(null)}}else H=function(){w(O,0)};function U(R){k=R,_||(_=!0,H())}function B(R,T){N=w(function(){R(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,U(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var j=p;p=T;try{return R()}finally{p=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var j=p;p=R;try{return T()}finally{p=j}},e.unstable_scheduleCallback=function(R,T,j){var M=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?M+j:M):j=M,R){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=j+$,R={id:d++,callback:T,priorityLevel:R,startTime:j,expirationTime:$,sortIndex:-1},j>M?(R.sortIndex=j,t(u,R),n(c)===null&&R===n(u)&&(m?(v(N),N=-1):m=!0,B(S,j-M))):(R.sortIndex=$,t(c,R),g||h||(g=!0,U(E))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var T=p;return function(){var j=p;p=T;try{return R.apply(this,arguments)}finally{p=j}}}})(RE);CE.exports=RE;var yD=CE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD=x,lr=yD;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PE=new Set,Qc={};function Va(e,t){fl(e,t),fl(e+"Capture",t)}function fl(e,t){for(Qc[e]=t,e=0;e<t.length;e++)PE.add(t[e])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jg=Object.prototype.hasOwnProperty,bD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S0={},_0={};function wD(e){return Jg.call(_0,e)?!0:Jg.call(S0,e)?!1:bD.test(e)?_0[e]=!0:(S0[e]=!0,!1)}function SD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _D(e,t,n,r){if(t===null||typeof t>"u"||SD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new Pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new Pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new Pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new Pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new Pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new Pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new Pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new Pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new Pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var dx=/[\-:]([a-z])/g;function fx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dx,fx);Jt[t]=new Pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dx,fx);Jt[t]=new Pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dx,fx);Jt[t]=new Pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new Pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new Pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function hx(e,t,n,r){var i=Jt.hasOwnProperty(t)?Jt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_D(t,n,i,r)&&(n=null),r||i===null?wD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var es=xD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ud=Symbol.for("react.element"),Po=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),px=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),AE=Symbol.for("react.offscreen"),j0=Symbol.iterator;function Xl(e){return e===null||typeof e!="object"?null:(e=j0&&e[j0]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,bm;function vc(e){if(bm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bm=t&&t[1]||""}return`
`+bm+e}var wm=!1;function Sm(e,t){if(!e||wm)return"";wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{wm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vc(e):""}function jD(e){switch(e.tag){case 5:return vc(e.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return e=Sm(e.type,!1),e;case 11:return e=Sm(e.type.render,!1),e;case 1:return e=Sm(e.type,!0),e;default:return""}}function nv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case No:return"Fragment";case Po:return"Portal";case Zg:return"Profiler";case px:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TE:return(e.displayName||"Context")+".Consumer";case NE:return(e._context.displayName||"Context")+".Provider";case mx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gx:return t=e.displayName||null,t!==null?t:nv(e.type)||"Memo";case gs:t=e._payload,e=e._init;try{return nv(e(t))}catch{}}return null}function ED(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nv(t);case 8:return t===px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kD(e){var t=OE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zd(e){e._valueTracker||(e._valueTracker=kD(e))}function IE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=OE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function eh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rv(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function E0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DE(e,t){t=t.checked,t!=null&&hx(e,"checked",t,!1)}function iv(e,t){DE(e,t);var n=zs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sv(e,t.type,n):t.hasOwnProperty("defaultValue")&&sv(e,t.type,zs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function k0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sv(e,t,n){(t!=="number"||eh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yc=Array.isArray;function Ho(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function av(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(yc(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zs(n)}}function FE(e,t){var n=zs(t.value),r=zs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function R0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ov(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bd,ME=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CD=["Webkit","ms","Moz","O"];Object.keys(Rc).forEach(function(e){CD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rc[t]=Rc[e]})});function $E(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rc.hasOwnProperty(e)&&Rc[e]?(""+t).trim():t+"px"}function UE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$E(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var RD=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(e,t){if(t){if(RD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function cv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function vx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dv=null,qo=null,Wo=null;function P0(e){if(e=ad(e)){if(typeof dv!="function")throw Error(X(280));var t=e.stateNode;t&&(t=np(t),dv(e.stateNode,e.type,t))}}function zE(e){qo?Wo?Wo.push(e):Wo=[e]:qo=e}function BE(){if(qo){var e=qo,t=Wo;if(Wo=qo=null,P0(e),t)for(e=0;e<t.length;e++)P0(t[e])}}function HE(e,t){return e(t)}function qE(){}var _m=!1;function WE(e,t,n){if(_m)return e(t,n);_m=!0;try{return HE(e,t,n)}finally{_m=!1,(qo!==null||Wo!==null)&&(qE(),BE())}}function Gc(e,t){var n=e.stateNode;if(n===null)return null;var r=np(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var fv=!1;if(qi)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){fv=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{fv=!1}function PD(e,t,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Pc=!1,th=null,nh=!1,hv=null,ND={onError:function(e){Pc=!0,th=e}};function TD(e,t,n,r,i,s,a,l,c){Pc=!1,th=null,PD.apply(ND,arguments)}function AD(e,t,n,r,i,s,a,l,c){if(TD.apply(this,arguments),Pc){if(Pc){var u=th;Pc=!1,th=null}else throw Error(X(198));nh||(nh=!0,hv=u)}}function Qa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function VE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N0(e){if(Qa(e)!==e)throw Error(X(188))}function OD(e){var t=e.alternate;if(!t){if(t=Qa(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return N0(i),e;if(s===r)return N0(i),t;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function QE(e){return e=OD(e),e!==null?KE(e):null}function KE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KE(e);if(t!==null)return t;e=e.sibling}return null}var GE=lr.unstable_scheduleCallback,T0=lr.unstable_cancelCallback,ID=lr.unstable_shouldYield,DD=lr.unstable_requestPaint,bt=lr.unstable_now,FD=lr.unstable_getCurrentPriorityLevel,yx=lr.unstable_ImmediatePriority,YE=lr.unstable_UserBlockingPriority,rh=lr.unstable_NormalPriority,LD=lr.unstable_LowPriority,XE=lr.unstable_IdlePriority,Jh=null,vi=null;function MD(e){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Jh,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:zD,$D=Math.log,UD=Math.LN2;function zD(e){return e>>>=0,e===0?32:31-($D(e)/UD|0)|0}var Hd=64,qd=4194304;function xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ih(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=xc(l):(s&=a,s!==0&&(r=xc(s)))}else a=n&~i,a!==0?r=xc(a):s!==0&&(r=xc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qr(t),i=1<<n,r|=e[n],t&=~i;return r}function BD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-qr(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=BD(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function pv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JE(){var e=Hd;return Hd<<=1,!(Hd&4194240)&&(Hd=64),e}function jm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function id(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=n}function qD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function xx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var We=0;function ZE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ek,bx,tk,nk,rk,mv=!1,Wd=[],Ns=null,Ts=null,As=null,Yc=new Map,Xc=new Map,ys=[],WD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A0(e,t){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Yc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(t.pointerId)}}function Zl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ad(t),t!==null&&bx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function VD(e,t,n,r,i){switch(t){case"focusin":return Ns=Zl(Ns,e,t,n,r,i),!0;case"dragenter":return Ts=Zl(Ts,e,t,n,r,i),!0;case"mouseover":return As=Zl(As,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yc.set(s,Zl(Yc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xc.set(s,Zl(Xc.get(s)||null,e,t,n,r,i)),!0}return!1}function ik(e){var t=ya(e.target);if(t!==null){var n=Qa(t);if(n!==null){if(t=n.tag,t===13){if(t=VE(n),t!==null){e.blockedOn=t,rk(e.priority,function(){tk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return t=ad(n),t!==null&&bx(t),e.blockedOn=n,!1;t.shift()}return!0}function O0(e,t,n){Tf(e)&&n.delete(t)}function QD(){mv=!1,Ns!==null&&Tf(Ns)&&(Ns=null),Ts!==null&&Tf(Ts)&&(Ts=null),As!==null&&Tf(As)&&(As=null),Yc.forEach(O0),Xc.forEach(O0)}function ec(e,t){e.blockedOn===t&&(e.blockedOn=null,mv||(mv=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,QD)))}function Jc(e){function t(i){return ec(i,e)}if(0<Wd.length){ec(Wd[0],e);for(var n=1;n<Wd.length;n++){var r=Wd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ns!==null&&ec(Ns,e),Ts!==null&&ec(Ts,e),As!==null&&ec(As,e),Yc.forEach(t),Xc.forEach(t),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)ik(n),n.blockedOn===null&&ys.shift()}var Vo=es.ReactCurrentBatchConfig,sh=!0;function KD(e,t,n,r){var i=We,s=Vo.transition;Vo.transition=null;try{We=1,wx(e,t,n,r)}finally{We=i,Vo.transition=s}}function GD(e,t,n,r){var i=We,s=Vo.transition;Vo.transition=null;try{We=4,wx(e,t,n,r)}finally{We=i,Vo.transition=s}}function wx(e,t,n,r){if(sh){var i=gv(e,t,n,r);if(i===null)Im(e,t,r,ah,n),A0(e,r);else if(VD(i,e,t,n,r))r.stopPropagation();else if(A0(e,r),t&4&&-1<WD.indexOf(e)){for(;i!==null;){var s=ad(i);if(s!==null&&ek(s),s=gv(e,t,n,r),s===null&&Im(e,t,r,ah,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Im(e,t,r,null,n)}}var ah=null;function gv(e,t,n,r){if(ah=null,e=vx(r),e=ya(e),e!==null)if(t=Qa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=VE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ah=e,null}function sk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FD()){case yx:return 1;case YE:return 4;case rh:case LD:return 16;case XE:return 536870912;default:return 16}default:return 16}}var Cs=null,Sx=null,Af=null;function ak(){if(Af)return Af;var e,t=Sx,n=t.length,r,i="value"in Cs?Cs.value:Cs.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Af=i.slice(e,1<r?1-r:void 0)}function Of(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vd(){return!0}function I0(){return!1}function ur(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vd:I0,this.isPropagationStopped=I0,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),t}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_x=ur(Tl),sd=ft({},Tl,{view:0,detail:0}),YD=ur(sd),Em,km,tc,Zh=ft({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tc&&(tc&&e.type==="mousemove"?(Em=e.screenX-tc.screenX,km=e.screenY-tc.screenY):km=Em=0,tc=e),Em)},movementY:function(e){return"movementY"in e?e.movementY:km}}),D0=ur(Zh),XD=ft({},Zh,{dataTransfer:0}),JD=ur(XD),ZD=ft({},sd,{relatedTarget:0}),Cm=ur(ZD),eF=ft({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),tF=ur(eF),nF=ft({},Tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rF=ur(nF),iF=ft({},Tl,{data:0}),F0=ur(iF),sF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oF[e])?!!t[e]:!1}function jx(){return lF}var cF=ft({},sd,{key:function(e){if(e.key){var t=sF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Of(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jx,charCode:function(e){return e.type==="keypress"?Of(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Of(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uF=ur(cF),dF=ft({},Zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L0=ur(dF),fF=ft({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jx}),hF=ur(fF),pF=ft({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mF=ur(pF),gF=ft({},Zh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vF=ur(gF),yF=[9,13,27,32],Ex=qi&&"CompositionEvent"in window,Nc=null;qi&&"documentMode"in document&&(Nc=document.documentMode);var xF=qi&&"TextEvent"in window&&!Nc,ok=qi&&(!Ex||Nc&&8<Nc&&11>=Nc),M0=" ",$0=!1;function lk(e,t){switch(e){case"keyup":return yF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var To=!1;function bF(e,t){switch(e){case"compositionend":return ck(t);case"keypress":return t.which!==32?null:($0=!0,M0);case"textInput":return e=t.data,e===M0&&$0?null:e;default:return null}}function wF(e,t){if(To)return e==="compositionend"||!Ex&&lk(e,t)?(e=ak(),Af=Sx=Cs=null,To=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ok&&t.locale!=="ko"?null:t.data;default:return null}}var SF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SF[e.type]:t==="textarea"}function uk(e,t,n,r){zE(r),t=oh(t,"onChange"),0<t.length&&(n=new _x("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tc=null,Zc=null;function _F(e){wk(e,0)}function ep(e){var t=Io(e);if(IE(t))return e}function jF(e,t){if(e==="change")return t}var dk=!1;if(qi){var Rm;if(qi){var Pm="oninput"in document;if(!Pm){var z0=document.createElement("div");z0.setAttribute("oninput","return;"),Pm=typeof z0.oninput=="function"}Rm=Pm}else Rm=!1;dk=Rm&&(!document.documentMode||9<document.documentMode)}function B0(){Tc&&(Tc.detachEvent("onpropertychange",fk),Zc=Tc=null)}function fk(e){if(e.propertyName==="value"&&ep(Zc)){var t=[];uk(t,Zc,e,vx(e)),WE(_F,t)}}function EF(e,t,n){e==="focusin"?(B0(),Tc=t,Zc=n,Tc.attachEvent("onpropertychange",fk)):e==="focusout"&&B0()}function kF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ep(Zc)}function CF(e,t){if(e==="click")return ep(t)}function RF(e,t){if(e==="input"||e==="change")return ep(t)}function PF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:PF;function eu(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jg.call(t,i)||!Gr(e[i],t[i]))return!1}return!0}function H0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q0(e,t){var n=H0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H0(n)}}function hk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pk(){for(var e=window,t=eh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=eh(e.document)}return t}function kx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NF(e){var t=pk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hk(n.ownerDocument.documentElement,n)){if(r!==null&&kx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=q0(n,s);var a=q0(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TF=qi&&"documentMode"in document&&11>=document.documentMode,Ao=null,vv=null,Ac=null,yv=!1;function W0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yv||Ao==null||Ao!==eh(r)||(r=Ao,"selectionStart"in r&&kx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ac&&eu(Ac,r)||(Ac=r,r=oh(vv,"onSelect"),0<r.length&&(t=new _x("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ao)))}function Qd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oo={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},Nm={},mk={};qi&&(mk=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function tp(e){if(Nm[e])return Nm[e];if(!Oo[e])return e;var t=Oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mk)return Nm[e]=t[n];return e}var gk=tp("animationend"),vk=tp("animationiteration"),yk=tp("animationstart"),xk=tp("transitionend"),bk=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(e,t){bk.set(e,t),Va(t,[e])}for(var Tm=0;Tm<V0.length;Tm++){var Am=V0[Tm],AF=Am.toLowerCase(),OF=Am[0].toUpperCase()+Am.slice(1);Vs(AF,"on"+OF)}Vs(gk,"onAnimationEnd");Vs(vk,"onAnimationIteration");Vs(yk,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(xk,"onTransitionEnd");fl("onMouseEnter",["mouseout","mouseover"]);fl("onMouseLeave",["mouseout","mouseover"]);fl("onPointerEnter",["pointerout","pointerover"]);fl("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IF=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function Q0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,AD(r,t,void 0,e),e.currentTarget=null}function wk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Q0(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Q0(i,l,u),s=c}}}if(nh)throw e=hv,nh=!1,hv=null,e}function rt(e,t){var n=t[_v];n===void 0&&(n=t[_v]=new Set);var r=e+"__bubble";n.has(r)||(Sk(t,e,2,!1),n.add(r))}function Om(e,t,n){var r=0;t&&(r|=4),Sk(n,e,r,t)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[Kd]){e[Kd]=!0,PE.forEach(function(n){n!=="selectionchange"&&(IF.has(n)||Om(n,!1,e),Om(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kd]||(t[Kd]=!0,Om("selectionchange",!1,t))}}function Sk(e,t,n,r){switch(sk(t)){case 1:var i=KD;break;case 4:i=GD;break;default:i=wx}n=i.bind(null,t,n,e),i=void 0,!fv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Im(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ya(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}WE(function(){var u=s,d=vx(n),f=[];e:{var p=bk.get(e);if(p!==void 0){var h=_x,g=e;switch(e){case"keypress":if(Of(n)===0)break e;case"keydown":case"keyup":h=uF;break;case"focusin":g="focus",h=Cm;break;case"focusout":g="blur",h=Cm;break;case"beforeblur":case"afterblur":h=Cm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=JD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=hF;break;case gk:case vk:case yk:h=tF;break;case xk:h=mF;break;case"scroll":h=YD;break;case"wheel":h=vF;break;case"copy":case"cut":case"paste":h=rF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=L0}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?p!==null?p+"Capture":null:p;m=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Gc(y,v),S!=null&&m.push(nu(y,S,b)))),w)break;y=y.return}0<m.length&&(p=new h(p,g,null,n,d),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==uv&&(g=n.relatedTarget||n.fromElement)&&(ya(g)||g[Wi]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?ya(g):null,g!==null&&(w=Qa(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(m=D0,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=L0,S="onPointerLeave",v="onPointerEnter",y="pointer"),w=h==null?p:Io(h),b=g==null?p:Io(g),p=new m(S,y+"leave",h,n,d),p.target=w,p.relatedTarget=b,S=null,ya(d)===u&&(m=new m(v,y+"enter",g,n,d),m.target=b,m.relatedTarget=w,S=m),w=S,h&&g)t:{for(m=h,v=g,y=0,b=m;b;b=co(b))y++;for(b=0,S=v;S;S=co(S))b++;for(;0<y-b;)m=co(m),y--;for(;0<b-y;)v=co(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=co(m),v=co(v)}m=null}else m=null;h!==null&&K0(f,p,h,m,!1),g!==null&&w!==null&&K0(f,w,g,m,!0)}}e:{if(p=u?Io(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var E=jF;else if(U0(p))if(dk)E=RF;else{E=kF;var _=EF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=CF);if(E&&(E=E(e,u))){uk(f,E,n,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&sv(p,"number",p.value)}switch(_=u?Io(u):window,e){case"focusin":(U0(_)||_.contentEditable==="true")&&(Ao=_,vv=u,Ac=null);break;case"focusout":Ac=vv=Ao=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,W0(f,n,d);break;case"selectionchange":if(TF)break;case"keydown":case"keyup":W0(f,n,d)}var k;if(Ex)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else To?lk(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ok&&n.locale!=="ko"&&(To||N!=="onCompositionStart"?N==="onCompositionEnd"&&To&&(k=ak()):(Cs=d,Sx="value"in Cs?Cs.value:Cs.textContent,To=!0)),_=oh(u,N),0<_.length&&(N=new F0(N,e,null,n,d),f.push({event:N,listeners:_}),k?N.data=k:(k=ck(n),k!==null&&(N.data=k)))),(k=xF?bF(e,n):wF(e,n))&&(u=oh(u,"onBeforeInput"),0<u.length&&(d=new F0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}wk(f,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gc(e,n),s!=null&&r.unshift(nu(e,s,i)),s=Gc(e,t),s!=null&&r.push(nu(e,s,i))),e=e.return}return r}function co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K0(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Gc(n,s),c!=null&&a.unshift(nu(n,c,l))):i||(c=Gc(n,s),c!=null&&a.push(nu(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var DF=/\r\n?/g,FF=/\u0000|\uFFFD/g;function G0(e){return(typeof e=="string"?e:""+e).replace(DF,`
`).replace(FF,"")}function Gd(e,t,n){if(t=G0(t),G0(e)!==t&&n)throw Error(X(425))}function lh(){}var xv=null,bv=null;function wv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sv=typeof setTimeout=="function"?setTimeout:void 0,LF=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,MF=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(e){return Y0.resolve(null).then(e).catch($F)}:Sv;function $F(e){setTimeout(function(){throw e})}function Dm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jc(t)}function Os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),pi="__reactFiber$"+Al,ru="__reactProps$"+Al,Wi="__reactContainer$"+Al,_v="__reactEvents$"+Al,UF="__reactListeners$"+Al,zF="__reactHandles$"+Al;function ya(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wi]||n[pi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=X0(e);e!==null;){if(n=e[pi])return n;e=X0(e)}return t}e=n,n=e.parentNode}return null}function ad(e){return e=e[pi]||e[Wi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function np(e){return e[ru]||null}var jv=[],Do=-1;function Qs(e){return{current:e}}function st(e){0>Do||(e.current=jv[Do],jv[Do]=null,Do--)}function tt(e,t){Do++,jv[Do]=e.current,e.current=t}var Bs={},dn=Qs(Bs),zn=Qs(!1),Na=Bs;function hl(e,t){var n=e.type.contextTypes;if(!n)return Bs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(e){return e=e.childContextTypes,e!=null}function ch(){st(zn),st(dn)}function J0(e,t,n){if(dn.current!==Bs)throw Error(X(168));tt(dn,t),tt(zn,n)}function _k(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(X(108,ED(e)||"Unknown",i));return ft({},n,r)}function uh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,Na=dn.current,tt(dn,e),tt(zn,zn.current),!0}function Z0(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=_k(e,t,Na),r.__reactInternalMemoizedMergedChildContext=e,st(zn),st(dn),tt(dn,e)):st(zn),tt(zn,n)}var Mi=null,rp=!1,Fm=!1;function jk(e){Mi===null?Mi=[e]:Mi.push(e)}function BF(e){rp=!0,jk(e)}function Ks(){if(!Fm&&Mi!==null){Fm=!0;var e=0,t=We;try{var n=Mi;for(We=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mi=null,rp=!1}catch(i){throw Mi!==null&&(Mi=Mi.slice(e+1)),GE(yx,Ks),i}finally{We=t,Fm=!1}}return null}var Fo=[],Lo=0,dh=null,fh=0,vr=[],yr=0,Ta=null,zi=1,Bi="";function ca(e,t){Fo[Lo++]=fh,Fo[Lo++]=dh,dh=e,fh=t}function Ek(e,t,n){vr[yr++]=zi,vr[yr++]=Bi,vr[yr++]=Ta,Ta=e;var r=zi;e=Bi;var i=32-qr(r)-1;r&=~(1<<i),n+=1;var s=32-qr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zi=1<<32-qr(t)+i|n<<i|r,Bi=s+e}else zi=1<<s|n<<i|r,Bi=e}function Cx(e){e.return!==null&&(ca(e,1),Ek(e,1,0))}function Rx(e){for(;e===dh;)dh=Fo[--Lo],Fo[Lo]=null,fh=Fo[--Lo],Fo[Lo]=null;for(;e===Ta;)Ta=vr[--yr],vr[yr]=null,Bi=vr[--yr],vr[yr]=null,zi=vr[--yr],vr[yr]=null}var nr=null,tr=null,lt=!1,Hr=null;function kk(e,t){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,tr=Os(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ta!==null?{id:zi,overflow:Bi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nr=e,tr=null,!0):!1;default:return!1}}function Ev(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kv(e){if(lt){var t=tr;if(t){var n=t;if(!eS(e,t)){if(Ev(e))throw Error(X(418));t=Os(n.nextSibling);var r=nr;t&&eS(e,t)?kk(r,n):(e.flags=e.flags&-4097|2,lt=!1,nr=e)}}else{if(Ev(e))throw Error(X(418));e.flags=e.flags&-4097|2,lt=!1,nr=e}}}function tS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function Yd(e){if(e!==nr)return!1;if(!lt)return tS(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wv(e.type,e.memoizedProps)),t&&(t=tr)){if(Ev(e))throw Ck(),Error(X(418));for(;t;)kk(e,t),t=Os(t.nextSibling)}if(tS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tr=Os(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=nr?Os(e.stateNode.nextSibling):null;return!0}function Ck(){for(var e=tr;e;)e=Os(e.nextSibling)}function pl(){tr=nr=null,lt=!1}function Px(e){Hr===null?Hr=[e]:Hr.push(e)}var HF=es.ReactCurrentBatchConfig;function nc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function Xd(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nS(e){var t=e._init;return t(e._payload)}function Rk(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ls(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,S){return y===null||y.tag!==6?(y=Hm(b,v.mode,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function c(v,y,b,S){var E=b.type;return E===No?d(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gs&&nS(E)===y.type)?(S=i(y,b.props),S.ref=nc(v,y,b),S.return=v,S):(S=Uf(b.type,b.key,b.props,null,v.mode,S),S.ref=nc(v,y,b),S.return=v,S)}function u(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=qm(b,v.mode,S),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function d(v,y,b,S,E){return y===null||y.tag!==7?(y=Ra(b,v.mode,S,E),y.return=v,y):(y=i(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hm(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ud:return b=Uf(y.type,y.key,y.props,null,v.mode,b),b.ref=nc(v,null,y),b.return=v,b;case Po:return y=qm(y,v.mode,b),y.return=v,y;case gs:var S=y._init;return f(v,S(y._payload),b)}if(yc(y)||Xl(y))return y=Ra(y,v.mode,b,null),y.return=v,y;Xd(v,y)}return null}function p(v,y,b,S){var E=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:l(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ud:return b.key===E?c(v,y,b,S):null;case Po:return b.key===E?u(v,y,b,S):null;case gs:return E=b._init,p(v,y,E(b._payload),S)}if(yc(b)||Xl(b))return E!==null?null:d(v,y,b,S,null);Xd(v,b)}return null}function h(v,y,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,l(y,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ud:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,E);case Po:return v=v.get(S.key===null?b:S.key)||null,u(y,v,S,E);case gs:var _=S._init;return h(v,y,b,_(S._payload),E)}if(yc(S)||Xl(S))return v=v.get(b)||null,d(y,v,S,E,null);Xd(y,S)}return null}function g(v,y,b,S){for(var E=null,_=null,k=y,N=y=0,I=null;k!==null&&N<b.length;N++){k.index>N?(I=k,k=null):I=k.sibling;var C=p(v,k,b[N],S);if(C===null){k===null&&(k=I);break}e&&k&&C.alternate===null&&t(v,k),y=s(C,y,N),_===null?E=C:_.sibling=C,_=C,k=I}if(N===b.length)return n(v,k),lt&&ca(v,N),E;if(k===null){for(;N<b.length;N++)k=f(v,b[N],S),k!==null&&(y=s(k,y,N),_===null?E=k:_.sibling=k,_=k);return lt&&ca(v,N),E}for(k=r(v,k);N<b.length;N++)I=h(k,v,N,b[N],S),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?N:I.key),y=s(I,y,N),_===null?E=I:_.sibling=I,_=I);return e&&k.forEach(function(D){return t(v,D)}),lt&&ca(v,N),E}function m(v,y,b,S){var E=Xl(b);if(typeof E!="function")throw Error(X(150));if(b=E.call(b),b==null)throw Error(X(151));for(var _=E=null,k=y,N=y=0,I=null,C=b.next();k!==null&&!C.done;N++,C=b.next()){k.index>N?(I=k,k=null):I=k.sibling;var D=p(v,k,C.value,S);if(D===null){k===null&&(k=I);break}e&&k&&D.alternate===null&&t(v,k),y=s(D,y,N),_===null?E=D:_.sibling=D,_=D,k=I}if(C.done)return n(v,k),lt&&ca(v,N),E;if(k===null){for(;!C.done;N++,C=b.next())C=f(v,C.value,S),C!==null&&(y=s(C,y,N),_===null?E=C:_.sibling=C,_=C);return lt&&ca(v,N),E}for(k=r(v,k);!C.done;N++,C=b.next())C=h(k,v,N,C.value,S),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?N:C.key),y=s(C,y,N),_===null?E=C:_.sibling=C,_=C);return e&&k.forEach(function(O){return t(v,O)}),lt&&ca(v,N),E}function w(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===No&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ud:e:{for(var E=b.key,_=y;_!==null;){if(_.key===E){if(E=b.type,E===No){if(_.tag===7){n(v,_.sibling),y=i(_,b.props.children),y.return=v,v=y;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gs&&nS(E)===_.type){n(v,_.sibling),y=i(_,b.props),y.ref=nc(v,_,b),y.return=v,v=y;break e}n(v,_);break}else t(v,_);_=_.sibling}b.type===No?(y=Ra(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=Uf(b.type,b.key,b.props,null,v.mode,S),S.ref=nc(v,y,b),S.return=v,v=S)}return a(v);case Po:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=qm(b,v.mode,S),y.return=v,v=y}return a(v);case gs:return _=b._init,w(v,y,_(b._payload),S)}if(yc(b))return g(v,y,b,S);if(Xl(b))return m(v,y,b,S);Xd(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=Hm(b,v.mode,S),y.return=v,v=y),a(v)):n(v,y)}return w}var ml=Rk(!0),Pk=Rk(!1),hh=Qs(null),ph=null,Mo=null,Nx=null;function Tx(){Nx=Mo=ph=null}function Ax(e){var t=hh.current;st(hh),e._currentValue=t}function Cv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qo(e,t){ph=e,Nx=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function Rr(e){var t=e._currentValue;if(Nx!==e)if(e={context:e,memoizedValue:t,next:null},Mo===null){if(ph===null)throw Error(X(308));Mo=e,ph.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var xa=null;function Ox(e){xa===null?xa=[e]:xa.push(e)}function Nk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ox(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vi(e,r)}function Vi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vs=!1;function Ix(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Is(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vi(e,n)}return i=r.interleaved,i===null?(t.next=t,Ox(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vi(e,n)}function If(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xx(e,n)}}function rS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mh(e,t,n,r){var i=e.updateQueue;vs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var p=l.lane,h=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(p=t,h=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=ft({},f,p);break e;case 2:vs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Oa|=a,e.lanes=a,e.memoizedState=f}}function iS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var od={},yi=Qs(od),iu=Qs(od),su=Qs(od);function ba(e){if(e===od)throw Error(X(174));return e}function Dx(e,t){switch(tt(su,t),tt(iu,e),tt(yi,od),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ov(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ov(t,e)}st(yi),tt(yi,t)}function gl(){st(yi),st(iu),st(su)}function Ak(e){ba(su.current);var t=ba(yi.current),n=ov(t,e.type);t!==n&&(tt(iu,e),tt(yi,n))}function Fx(e){iu.current===e&&(st(yi),st(iu))}var ut=Qs(0);function gh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lm=[];function Lx(){for(var e=0;e<Lm.length;e++)Lm[e]._workInProgressVersionPrimary=null;Lm.length=0}var Df=es.ReactCurrentDispatcher,Mm=es.ReactCurrentBatchConfig,Aa=0,dt=null,At=null,Wt=null,vh=!1,Oc=!1,au=0,qF=0;function rn(){throw Error(X(321))}function Mx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gr(e[n],t[n]))return!1;return!0}function $x(e,t,n,r,i,s){if(Aa=s,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Df.current=e===null||e.memoizedState===null?KF:GF,e=n(r,i),Oc){s=0;do{if(Oc=!1,au=0,25<=s)throw Error(X(301));s+=1,Wt=At=null,t.updateQueue=null,Df.current=YF,e=n(r,i)}while(Oc)}if(Df.current=yh,t=At!==null&&At.next!==null,Aa=0,Wt=At=dt=null,vh=!1,t)throw Error(X(300));return e}function Ux(){var e=au!==0;return au=0,e}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?dt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Pr(){if(At===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Wt===null?dt.memoizedState:Wt.next;if(t!==null)Wt=t,At=e;else{if(e===null)throw Error(X(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Wt===null?dt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function ou(e,t){return typeof t=="function"?t(e):t}function $m(e){var t=Pr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=At,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Aa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,dt.lanes|=d,Oa|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,Gr(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,dt.lanes|=s,Oa|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Um(e){var t=Pr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Gr(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ok(){}function Ik(e,t){var n=dt,r=Pr(),i=t(),s=!Gr(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,zx(Lk.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,lu(9,Fk.bind(null,n,r,i,t),void 0,null),Vt===null)throw Error(X(349));Aa&30||Dk(n,t,i)}return i}function Dk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fk(e,t,n,r){t.value=n,t.getSnapshot=r,Mk(t)&&$k(e)}function Lk(e,t,n){return n(function(){Mk(t)&&$k(e)})}function Mk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gr(e,n)}catch{return!0}}function $k(e){var t=Vi(e,1);t!==null&&Wr(t,e,1,-1)}function sS(e){var t=oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:e},t.queue=e,e=e.dispatch=QF.bind(null,dt,e),[t.memoizedState,e]}function lu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uk(){return Pr().memoizedState}function Ff(e,t,n,r){var i=oi();dt.flags|=e,i.memoizedState=lu(1|t,n,void 0,r===void 0?null:r)}function ip(e,t,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if(At!==null){var a=At.memoizedState;if(s=a.destroy,r!==null&&Mx(r,a.deps)){i.memoizedState=lu(t,n,s,r);return}}dt.flags|=e,i.memoizedState=lu(1|t,n,s,r)}function aS(e,t){return Ff(8390656,8,e,t)}function zx(e,t){return ip(2048,8,e,t)}function zk(e,t){return ip(4,2,e,t)}function Bk(e,t){return ip(4,4,e,t)}function Hk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qk(e,t,n){return n=n!=null?n.concat([e]):null,ip(4,4,Hk.bind(null,t,e),n)}function Bx(){}function Wk(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vk(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qk(e,t,n){return Aa&21?(Gr(n,t)||(n=JE(),dt.lanes|=n,Oa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function WF(e,t){var n=We;We=n!==0&&4>n?n:4,e(!0);var r=Mm.transition;Mm.transition={};try{e(!1),t()}finally{We=n,Mm.transition=r}}function Kk(){return Pr().memoizedState}function VF(e,t,n){var r=Fs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gk(e))Yk(t,n);else if(n=Nk(e,t,n,r),n!==null){var i=Cn();Wr(n,e,r,i),Xk(n,t,r)}}function QF(e,t,n){var r=Fs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gk(e))Yk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Gr(l,a)){var c=t.interleaved;c===null?(i.next=i,Ox(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Nk(e,t,i,r),n!==null&&(i=Cn(),Wr(n,e,r,i),Xk(n,t,r))}}function Gk(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function Yk(e,t){Oc=vh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xx(e,n)}}var yh={readContext:Rr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},KF={readContext:Rr,useCallback:function(e,t){return oi().memoizedState=[e,t===void 0?null:t],e},useContext:Rr,useEffect:aS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ff(4194308,4,Hk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ff(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ff(4,2,e,t)},useMemo:function(e,t){var n=oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=VF.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=oi();return e={current:e},t.memoizedState=e},useState:sS,useDebugValue:Bx,useDeferredValue:function(e){return oi().memoizedState=e},useTransition:function(){var e=sS(!1),t=e[0];return e=WF.bind(null,e[1]),oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,i=oi();if(lt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Vt===null)throw Error(X(349));Aa&30||Dk(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,aS(Lk.bind(null,r,s,e),[e]),r.flags|=2048,lu(9,Fk.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=oi(),t=Vt.identifierPrefix;if(lt){var n=Bi,r=zi;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=au++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GF={readContext:Rr,useCallback:Wk,useContext:Rr,useEffect:zx,useImperativeHandle:qk,useInsertionEffect:zk,useLayoutEffect:Bk,useMemo:Vk,useReducer:$m,useRef:Uk,useState:function(){return $m(ou)},useDebugValue:Bx,useDeferredValue:function(e){var t=Pr();return Qk(t,At.memoizedState,e)},useTransition:function(){var e=$m(ou)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:Ok,useSyncExternalStore:Ik,useId:Kk,unstable_isNewReconciler:!1},YF={readContext:Rr,useCallback:Wk,useContext:Rr,useEffect:zx,useImperativeHandle:qk,useInsertionEffect:zk,useLayoutEffect:Bk,useMemo:Vk,useReducer:Um,useRef:Uk,useState:function(){return Um(ou)},useDebugValue:Bx,useDeferredValue:function(e){var t=Pr();return At===null?t.memoizedState=e:Qk(t,At.memoizedState,e)},useTransition:function(){var e=Um(ou)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:Ok,useSyncExternalStore:Ik,useId:Kk,unstable_isNewReconciler:!1};function Lr(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sp={isMounted:function(e){return(e=e._reactInternals)?Qa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cn(),i=Fs(e),s=Hi(r,i);s.payload=t,n!=null&&(s.callback=n),t=Is(e,s,i),t!==null&&(Wr(t,e,i,r),If(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cn(),i=Fs(e),s=Hi(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Is(e,s,i),t!==null&&(Wr(t,e,i,r),If(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cn(),r=Fs(e),i=Hi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Is(e,i,r),t!==null&&(Wr(t,e,r,n),If(t,e,r))}};function oS(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!eu(n,r)||!eu(i,s):!0}function Jk(e,t,n){var r=!1,i=Bs,s=t.contextType;return typeof s=="object"&&s!==null?s=Rr(s):(i=Bn(t)?Na:dn.current,r=t.contextTypes,s=(r=r!=null)?hl(e,i):Bs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function lS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sp.enqueueReplaceState(t,t.state,null)}function Pv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ix(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Rr(s):(s=Bn(t)?Na:dn.current,i.context=hl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rv(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&sp.enqueueReplaceState(i,i.state,null),mh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vl(e,t){try{var n="",r=t;do n+=jD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function zm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Nv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var XF=typeof WeakMap=="function"?WeakMap:Map;function Zk(e,t,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bh||(bh=!0,Uv=r),Nv(e,t)},n}function eC(e,t,n){n=Hi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Nv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Nv(e,t),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function cS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=dL.bind(null,e,t,n),t.then(e,e))}function uS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dS(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hi(-1,1),t.tag=2,Is(n,t,1))),n.lanes|=1),e)}var JF=es.ReactCurrentOwner,$n=!1;function jn(e,t,n,r){t.child=e===null?Pk(t,null,n,r):ml(t,e.child,n,r)}function fS(e,t,n,r,i){n=n.render;var s=t.ref;return Qo(t,i),r=$x(e,t,n,r,s,i),n=Ux(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qi(e,t,i)):(lt&&n&&Cx(t),t.flags|=1,jn(e,t,r,i),t.child)}function hS(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Yx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,tC(e,t,s,r,i)):(e=Uf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:eu,n(a,r)&&e.ref===t.ref)return Qi(e,t,i)}return t.flags|=1,e=Ls(s,r),e.ref=t.ref,e.return=t,t.child=e}function tC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(eu(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,Qi(e,t,i)}return Tv(e,t,n,r,i)}function nC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Uo,Xn),Xn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Uo,Xn),Xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(Uo,Xn),Xn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tt(Uo,Xn),Xn|=r;return jn(e,t,i,n),t.child}function rC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tv(e,t,n,r,i){var s=Bn(n)?Na:dn.current;return s=hl(t,s),Qo(t,i),n=$x(e,t,n,r,s,i),r=Ux(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qi(e,t,i)):(lt&&r&&Cx(t),t.flags|=1,jn(e,t,n,i),t.child)}function pS(e,t,n,r,i){if(Bn(n)){var s=!0;uh(t)}else s=!1;if(Qo(t,i),t.stateNode===null)Lf(e,t),Jk(t,n,r),Pv(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rr(u):(u=Bn(n)?Na:dn.current,u=hl(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&lS(t,a,r,u),vs=!1;var p=t.memoizedState;a.state=p,mh(t,r,a,i),c=t.memoizedState,l!==r||p!==c||zn.current||vs?(typeof d=="function"&&(Rv(t,n,d,r),c=t.memoizedState),(l=vs||oS(t,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Tk(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Lr(t.type,l),a.props=u,f=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=Bn(n)?Na:dn.current,c=hl(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&lS(t,a,r,c),vs=!1,p=t.memoizedState,a.state=p,mh(t,r,a,i);var g=t.memoizedState;l!==f||p!==g||zn.current||vs?(typeof h=="function"&&(Rv(t,n,h,r),g=t.memoizedState),(u=vs||oS(t,n,u,r,p,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Av(e,t,n,r,s,i)}function Av(e,t,n,r,i,s){rC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Z0(t,n,!1),Qi(e,t,s);r=t.stateNode,JF.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ml(t,e.child,null,s),t.child=ml(t,null,l,s)):jn(e,t,l,s),t.memoizedState=r.state,i&&Z0(t,n,!0),t.child}function iC(e){var t=e.stateNode;t.pendingContext?J0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&J0(e,t.context,!1),Dx(e,t.containerInfo)}function mS(e,t,n,r,i){return pl(),Px(i),t.flags|=256,jn(e,t,n,r),t.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function Iv(e){return{baseLanes:e,cachePool:null,transitions:null}}function sC(e,t,n){var r=t.pendingProps,i=ut.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),tt(ut,i&1),e===null)return kv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=lp(a,r,0,null),e=Ra(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Iv(n),t.memoizedState=Ov,e):Hx(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ZF(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ls(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ls(l,s):(s=Ra(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Iv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Ov,r}return s=e.child,e=s.sibling,r=Ls(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hx(e,t){return t=lp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jd(e,t,n,r){return r!==null&&Px(r),ml(t,e.child,null,n),e=Hx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZF(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=zm(Error(X(422))),Jd(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=lp({mode:"visible",children:r.children},i,0,null),s=Ra(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ml(t,e.child,null,a),t.child.memoizedState=Iv(a),t.memoizedState=Ov,s);if(!(t.mode&1))return Jd(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(X(419)),r=zm(s,r,void 0),Jd(e,t,a,r)}if(l=(a&e.childLanes)!==0,$n||l){if(r=Vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vi(e,i),Wr(r,e,i,-1))}return Gx(),r=zm(Error(X(421))),Jd(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=fL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,tr=Os(i.nextSibling),nr=t,lt=!0,Hr=null,e!==null&&(vr[yr++]=zi,vr[yr++]=Bi,vr[yr++]=Ta,zi=e.id,Bi=e.overflow,Ta=t),t=Hx(t,r.children),t.flags|=4096,t)}function gS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cv(e.return,t,n)}function Bm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aC(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(jn(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gS(e,n,t);else if(e.tag===19)gS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(ut,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bm(t,!0,n,null,s);break;case"together":Bm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Ls(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ls(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eL(e,t,n){switch(t.tag){case 3:iC(t),pl();break;case 5:Ak(t);break;case 1:Bn(t.type)&&uh(t);break;case 4:Dx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;tt(hh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?sC(e,t,n):(tt(ut,ut.current&1),e=Qi(e,t,n),e!==null?e.sibling:null);tt(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,nC(e,t,n)}return Qi(e,t,n)}var oC,Dv,lC,cC;oC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dv=function(){};lC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ba(yi.current);var s=null;switch(n){case"input":i=rv(e,i),r=rv(e,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=av(e,i),r=av(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=lh)}lv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};cC=function(e,t,n,r){n!==r&&(t.flags|=4)};function rc(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tL(e,t,n){var r=t.pendingProps;switch(Rx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Bn(t.type)&&ch(),sn(t),null;case 3:return r=t.stateNode,gl(),st(zn),st(dn),Lx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hr!==null&&(Hv(Hr),Hr=null))),Dv(e,t),sn(t),null;case 5:Fx(t);var i=ba(su.current);if(n=t.type,e!==null&&t.stateNode!=null)lC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return sn(t),null}if(e=ba(yi.current),Yd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pi]=t,r[ru]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<bc.length;i++)rt(bc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":E0(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":C0(r,s),rt("invalid",r)}lv(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Gd(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Gd(r.textContent,l,e),i=["children",""+l]):Qc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":zd(r),k0(r,s,!0);break;case"textarea":zd(r),R0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[pi]=t,e[ru]=r,oC(e,t,!1,!1),t.stateNode=e;e:{switch(a=cv(n,r),n){case"dialog":rt("cancel",e),rt("close",e),i=r;break;case"iframe":case"object":case"embed":rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<bc.length;i++)rt(bc[i],e);i=r;break;case"source":rt("error",e),i=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),i=r;break;case"details":rt("toggle",e),i=r;break;case"input":E0(e,r),i=rv(e,r),rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),rt("invalid",e);break;case"textarea":C0(e,r),i=av(e,r),rt("invalid",e);break;default:i=r}lv(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?UE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ME(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kc(e,c):typeof c=="number"&&Kc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&rt("scroll",e):c!=null&&hx(e,s,c,a))}switch(n){case"input":zd(e),k0(e,r,!1);break;case"textarea":zd(e),R0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ho(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ho(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=lh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)cC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=ba(su.current),ba(yi.current),Yd(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(s=r.nodeValue!==n)&&(e=nr,e!==null))switch(e.tag){case 3:Gd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pi]=t,t.stateNode=r}return sn(t),null;case 13:if(st(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&tr!==null&&t.mode&1&&!(t.flags&128))Ck(),pl(),t.flags|=98560,s=!1;else if(s=Yd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(X(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[pi]=t}else pl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),s=!1}else Hr!==null&&(Hv(Hr),Hr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?It===0&&(It=3):Gx())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return gl(),Dv(e,t),e===null&&tu(t.stateNode.containerInfo),sn(t),null;case 10:return Ax(t.type._context),sn(t),null;case 17:return Bn(t.type)&&ch(),sn(t),null;case 19:if(st(ut),s=t.memoizedState,s===null)return sn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)rc(s,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=gh(e),a!==null){for(t.flags|=128,rc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ut,ut.current&1|2),t.child}e=e.sibling}s.tail!==null&&bt()>yl&&(t.flags|=128,r=!0,rc(s,!1),t.lanes=4194304)}else{if(!r)if(e=gh(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return sn(t),null}else 2*bt()-s.renderingStartTime>yl&&n!==1073741824&&(t.flags|=128,r=!0,rc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bt(),t.sibling=null,n=ut.current,tt(ut,r?n&1|2:n&1),t):(sn(t),null);case 22:case 23:return Kx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function nL(e,t){switch(Rx(t),t.tag){case 1:return Bn(t.type)&&ch(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gl(),st(zn),st(dn),Lx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fx(t),null;case 13:if(st(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ut),null;case 4:return gl(),null;case 10:return Ax(t.type._context),null;case 22:case 23:return Kx(),null;case 24:return null;default:return null}}var Zd=!1,ln=!1,rL=typeof WeakSet=="function"?WeakSet:Set,se=null;function $o(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function Fv(e,t,n){try{n()}catch(r){gt(e,t,r)}}var vS=!1;function iL(e,t){if(xv=sh,e=pk(),kx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===r&&(c=a),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bv={focusedElem:e,selectionRange:n},sh=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Lr(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){gt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return g=vS,vS=!1,g}function Ic(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Fv(t,n,s)}i=i.next}while(i!==r)}}function ap(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uC(e){var t=e.alternate;t!==null&&(e.alternate=null,uC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pi],delete t[ru],delete t[_v],delete t[UF],delete t[zF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dC(e){return e.tag===5||e.tag===3||e.tag===4}function yS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=lh));else if(r!==4&&(e=e.child,e!==null))for(Mv(e,t,n),e=e.sibling;e!==null;)Mv(e,t,n),e=e.sibling}function $v(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($v(e,t,n),e=e.sibling;e!==null;)$v(e,t,n),e=e.sibling}var Yt=null,zr=!1;function ss(e,t,n){for(n=n.child;n!==null;)fC(e,t,n),n=n.sibling}function fC(e,t,n){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Jh,n)}catch{}switch(n.tag){case 5:ln||$o(n,t);case 6:var r=Yt,i=zr;Yt=null,ss(e,t,n),Yt=r,zr=i,Yt!==null&&(zr?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(zr?(e=Yt,n=n.stateNode,e.nodeType===8?Dm(e.parentNode,n):e.nodeType===1&&Dm(e,n),Jc(e)):Dm(Yt,n.stateNode));break;case 4:r=Yt,i=zr,Yt=n.stateNode.containerInfo,zr=!0,ss(e,t,n),Yt=r,zr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Fv(n,t,a),i=i.next}while(i!==r)}ss(e,t,n);break;case 1:if(!ln&&($o(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gt(n,t,l)}ss(e,t,n);break;case 21:ss(e,t,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,ss(e,t,n),ln=r):ss(e,t,n);break;default:ss(e,t,n)}}function xS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rL),t.forEach(function(r){var i=hL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ar(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Yt=l.stateNode,zr=!1;break e;case 3:Yt=l.stateNode.containerInfo,zr=!0;break e;case 4:Yt=l.stateNode.containerInfo,zr=!0;break e}l=l.return}if(Yt===null)throw Error(X(160));fC(s,a,i),Yt=null,zr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){gt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hC(t,e),t=t.sibling}function hC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ar(t,e),ri(e),r&4){try{Ic(3,e,e.return),ap(3,e)}catch(m){gt(e,e.return,m)}try{Ic(5,e,e.return)}catch(m){gt(e,e.return,m)}}break;case 1:Ar(t,e),ri(e),r&512&&n!==null&&$o(n,n.return);break;case 5:if(Ar(t,e),ri(e),r&512&&n!==null&&$o(n,n.return),e.flags&32){var i=e.stateNode;try{Kc(i,"")}catch(m){gt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&DE(i,s),cv(l,a);var u=cv(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?UE(i,f):d==="dangerouslySetInnerHTML"?ME(i,f):d==="children"?Kc(i,f):hx(i,d,f,u)}switch(l){case"input":iv(i,s);break;case"textarea":FE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Ho(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ho(i,!!s.multiple,s.defaultValue,!0):Ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[ru]=s}catch(m){gt(e,e.return,m)}}break;case 6:if(Ar(t,e),ri(e),r&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){gt(e,e.return,m)}}break;case 3:if(Ar(t,e),ri(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jc(t.containerInfo)}catch(m){gt(e,e.return,m)}break;case 4:Ar(t,e),ri(e);break;case 13:Ar(t,e),ri(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vx=bt())),r&4&&xS(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ln=(u=ln)||d,Ar(t,e),ln=u):Ar(t,e),ri(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(p=se,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ic(4,p,p.return);break;case 1:$o(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){gt(r,n,m)}}break;case 5:$o(p,p.return);break;case 22:if(p.memoizedState!==null){wS(f);continue}}h!==null?(h.return=p,se=h):wS(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$E("display",a))}catch(m){gt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){gt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ar(t,e),ri(e),r&4&&xS(e);break;case 21:break;default:Ar(t,e),ri(e)}}function ri(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kc(i,""),r.flags&=-33);var s=yS(e);$v(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=yS(e);Mv(e,l,a);break;default:throw Error(X(161))}}catch(c){gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sL(e,t,n){se=e,pC(e)}function pC(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Zd;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ln;l=Zd;var u=ln;if(Zd=a,(ln=c)&&!u)for(se=i;se!==null;)a=se,c=a.child,a.tag===22&&a.memoizedState!==null?SS(i):c!==null?(c.return=a,se=c):SS(i);for(;s!==null;)se=s,pC(s),s=s.sibling;se=i,Zd=l,ln=u}bS(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):bS(e)}}function bS(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||ap(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Lr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&iS(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iS(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Jc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}ln||t.flags&512&&Lv(t)}catch(p){gt(t,t.return,p)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function wS(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function SS(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ap(4,t)}catch(c){gt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){gt(t,i,c)}}var s=t.return;try{Lv(t)}catch(c){gt(t,s,c)}break;case 5:var a=t.return;try{Lv(t)}catch(c){gt(t,a,c)}}}catch(c){gt(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var aL=Math.ceil,xh=es.ReactCurrentDispatcher,qx=es.ReactCurrentOwner,jr=es.ReactCurrentBatchConfig,Ue=0,Vt=null,Et=null,Xt=0,Xn=0,Uo=Qs(0),It=0,cu=null,Oa=0,op=0,Wx=0,Dc=null,Ln=null,Vx=0,yl=1/0,Fi=null,bh=!1,Uv=null,Ds=null,ef=!1,Rs=null,wh=0,Fc=0,zv=null,Mf=-1,$f=0;function Cn(){return Ue&6?bt():Mf!==-1?Mf:Mf=bt()}function Fs(e){return e.mode&1?Ue&2&&Xt!==0?Xt&-Xt:HF.transition!==null?($f===0&&($f=JE()),$f):(e=We,e!==0||(e=window.event,e=e===void 0?16:sk(e.type)),e):1}function Wr(e,t,n,r){if(50<Fc)throw Fc=0,zv=null,Error(X(185));id(e,n,r),(!(Ue&2)||e!==Vt)&&(e===Vt&&(!(Ue&2)&&(op|=n),It===4&&xs(e,Xt)),Hn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(yl=bt()+500,rp&&Ks()))}function Hn(e,t){var n=e.callbackNode;HD(e,t);var r=ih(e,e===Vt?Xt:0);if(r===0)n!==null&&T0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&T0(n),t===1)e.tag===0?BF(_S.bind(null,e)):jk(_S.bind(null,e)),MF(function(){!(Ue&6)&&Ks()}),n=null;else{switch(ZE(r)){case 1:n=yx;break;case 4:n=YE;break;case 16:n=rh;break;case 536870912:n=XE;break;default:n=rh}n=SC(n,mC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mC(e,t){if(Mf=-1,$f=0,Ue&6)throw Error(X(327));var n=e.callbackNode;if(Ko()&&e.callbackNode!==n)return null;var r=ih(e,e===Vt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sh(e,r);else{t=r;var i=Ue;Ue|=2;var s=vC();(Vt!==e||Xt!==t)&&(Fi=null,yl=bt()+500,Ca(e,t));do try{cL();break}catch(l){gC(e,l)}while(!0);Tx(),xh.current=s,Ue=i,Et!==null?t=0:(Vt=null,Xt=0,t=It)}if(t!==0){if(t===2&&(i=pv(e),i!==0&&(r=i,t=Bv(e,i))),t===1)throw n=cu,Ca(e,0),xs(e,r),Hn(e,bt()),n;if(t===6)xs(e,r);else{if(i=e.current.alternate,!(r&30)&&!oL(i)&&(t=Sh(e,r),t===2&&(s=pv(e),s!==0&&(r=s,t=Bv(e,s))),t===1))throw n=cu,Ca(e,0),xs(e,r),Hn(e,bt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:ua(e,Ln,Fi);break;case 3:if(xs(e,r),(r&130023424)===r&&(t=Vx+500-bt(),10<t)){if(ih(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Cn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sv(ua.bind(null,e,Ln,Fi),t);break}ua(e,Ln,Fi);break;case 4:if(xs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-qr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aL(r/1960))-r,10<r){e.timeoutHandle=Sv(ua.bind(null,e,Ln,Fi),r);break}ua(e,Ln,Fi);break;case 5:ua(e,Ln,Fi);break;default:throw Error(X(329))}}}return Hn(e,bt()),e.callbackNode===n?mC.bind(null,e):null}function Bv(e,t){var n=Dc;return e.current.memoizedState.isDehydrated&&(Ca(e,t).flags|=256),e=Sh(e,t),e!==2&&(t=Ln,Ln=n,t!==null&&Hv(t)),e}function Hv(e){Ln===null?Ln=e:Ln.push.apply(Ln,e)}function oL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xs(e,t){for(t&=~Wx,t&=~op,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qr(t),r=1<<n;e[n]=-1,t&=~r}}function _S(e){if(Ue&6)throw Error(X(327));Ko();var t=ih(e,0);if(!(t&1))return Hn(e,bt()),null;var n=Sh(e,t);if(e.tag!==0&&n===2){var r=pv(e);r!==0&&(t=r,n=Bv(e,r))}if(n===1)throw n=cu,Ca(e,0),xs(e,t),Hn(e,bt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ua(e,Ln,Fi),Hn(e,bt()),null}function Qx(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(yl=bt()+500,rp&&Ks())}}function Ia(e){Rs!==null&&Rs.tag===0&&!(Ue&6)&&Ko();var t=Ue;Ue|=1;var n=jr.transition,r=We;try{if(jr.transition=null,We=1,e)return e()}finally{We=r,jr.transition=n,Ue=t,!(Ue&6)&&Ks()}}function Kx(){Xn=Uo.current,st(Uo)}function Ca(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LF(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Rx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ch();break;case 3:gl(),st(zn),st(dn),Lx();break;case 5:Fx(r);break;case 4:gl();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Ax(r.type._context);break;case 22:case 23:Kx()}n=n.return}if(Vt=e,Et=e=Ls(e.current,null),Xt=Xn=t,It=0,cu=null,Wx=op=Oa=0,Ln=Dc=null,xa!==null){for(t=0;t<xa.length;t++)if(n=xa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}xa=null}return e}function gC(e,t){do{var n=Et;try{if(Tx(),Df.current=yh,vh){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vh=!1}if(Aa=0,Wt=At=dt=null,Oc=!1,au=0,qx.current=null,n===null||n.return===null){It=1,cu=t,Et=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=uS(a);if(h!==null){h.flags&=-257,dS(h,a,l,s,t),h.mode&1&&cS(s,u,t),t=h,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){cS(s,u,t),Gx();break e}c=Error(X(426))}}else if(lt&&l.mode&1){var w=uS(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),dS(w,a,l,s,t),Px(vl(c,l));break e}}s=c=vl(c,l),It!==4&&(It=2),Dc===null?Dc=[s]:Dc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=Zk(s,c,t);rS(s,v);break e;case 1:l=c;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ds===null||!Ds.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=eC(s,l,t);rS(s,S);break e}}s=s.return}while(s!==null)}xC(n)}catch(E){t=E,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function vC(){var e=xh.current;return xh.current=yh,e===null?yh:e}function Gx(){(It===0||It===3||It===2)&&(It=4),Vt===null||!(Oa&268435455)&&!(op&268435455)||xs(Vt,Xt)}function Sh(e,t){var n=Ue;Ue|=2;var r=vC();(Vt!==e||Xt!==t)&&(Fi=null,Ca(e,t));do try{lL();break}catch(i){gC(e,i)}while(!0);if(Tx(),Ue=n,xh.current=r,Et!==null)throw Error(X(261));return Vt=null,Xt=0,It}function lL(){for(;Et!==null;)yC(Et)}function cL(){for(;Et!==null&&!ID();)yC(Et)}function yC(e){var t=wC(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?xC(e):Et=t,qx.current=null}function xC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nL(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Et=null;return}}else if(n=tL(n,t,Xn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);It===0&&(It=5)}function ua(e,t,n){var r=We,i=jr.transition;try{jr.transition=null,We=1,uL(e,t,n,r)}finally{jr.transition=i,We=r}return null}function uL(e,t,n,r){do Ko();while(Rs!==null);if(Ue&6)throw Error(X(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(qD(e,s),e===Vt&&(Et=Vt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ef||(ef=!0,SC(rh,function(){return Ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var a=We;We=1;var l=Ue;Ue|=4,qx.current=null,iL(e,n),hC(n,e),NF(bv),sh=!!xv,bv=xv=null,e.current=n,sL(n),DD(),Ue=l,We=a,jr.transition=s}else e.current=n;if(ef&&(ef=!1,Rs=e,wh=i),s=e.pendingLanes,s===0&&(Ds=null),MD(n.stateNode),Hn(e,bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bh)throw bh=!1,e=Uv,Uv=null,e;return wh&1&&e.tag!==0&&Ko(),s=e.pendingLanes,s&1?e===zv?Fc++:(Fc=0,zv=e):Fc=0,Ks(),null}function Ko(){if(Rs!==null){var e=ZE(wh),t=jr.transition,n=We;try{if(jr.transition=null,We=16>e?16:e,Rs===null)var r=!1;else{if(e=Rs,Rs=null,wh=0,Ue&6)throw Error(X(331));var i=Ue;for(Ue|=4,se=e.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Ic(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var p=d.sibling,h=d.return;if(uC(d),d===u){se=null;break}if(p!==null){p.return=h,se=p;break}se=h}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ic(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,se=v;break e}se=s.return}}var y=e.current;for(se=y;se!==null;){a=se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,se=b;else e:for(a=y;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ap(9,l)}}catch(E){gt(l,l.return,E)}if(l===a){se=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,se=S;break e}se=l.return}}if(Ue=i,Ks(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Jh,e)}catch{}r=!0}return r}finally{We=n,jr.transition=t}}return!1}function jS(e,t,n){t=vl(n,t),t=Zk(e,t,1),e=Is(e,t,1),t=Cn(),e!==null&&(id(e,1,t),Hn(e,t))}function gt(e,t,n){if(e.tag===3)jS(e,e,n);else for(;t!==null;){if(t.tag===3){jS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){e=vl(n,e),e=eC(t,e,1),t=Is(t,e,1),e=Cn(),t!==null&&(id(t,1,e),Hn(t,e));break}}t=t.return}}function dL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Cn(),e.pingedLanes|=e.suspendedLanes&n,Vt===e&&(Xt&n)===n&&(It===4||It===3&&(Xt&130023424)===Xt&&500>bt()-Vx?Ca(e,0):Wx|=n),Hn(e,t)}function bC(e,t){t===0&&(e.mode&1?(t=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):t=1);var n=Cn();e=Vi(e,t),e!==null&&(id(e,t,n),Hn(e,n))}function fL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bC(e,n)}function hL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),bC(e,n)}var wC;wC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,eL(e,t,n);$n=!!(e.flags&131072)}else $n=!1,lt&&t.flags&1048576&&Ek(t,fh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lf(e,t),e=t.pendingProps;var i=hl(t,dn.current);Qo(t,n),i=$x(null,t,r,e,i,n);var s=Ux();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(r)?(s=!0,uh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ix(t),i.updater=sp,t.stateNode=i,i._reactInternals=t,Pv(t,r,e,n),t=Av(null,t,r,!0,s,n)):(t.tag=0,lt&&s&&Cx(t),jn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=mL(r),e=Lr(r,e),i){case 0:t=Tv(null,t,r,e,n);break e;case 1:t=pS(null,t,r,e,n);break e;case 11:t=fS(null,t,r,e,n);break e;case 14:t=hS(null,t,r,Lr(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),Tv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),pS(e,t,r,i,n);case 3:e:{if(iC(t),e===null)throw Error(X(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Tk(e,t),mh(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=vl(Error(X(423)),t),t=mS(e,t,r,n,i);break e}else if(r!==i){i=vl(Error(X(424)),t),t=mS(e,t,r,n,i);break e}else for(tr=Os(t.stateNode.containerInfo.firstChild),nr=t,lt=!0,Hr=null,n=Pk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pl(),r===i){t=Qi(e,t,n);break e}jn(e,t,r,n)}t=t.child}return t;case 5:return Ak(t),e===null&&kv(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,wv(r,i)?a=null:s!==null&&wv(r,s)&&(t.flags|=32),rC(e,t),jn(e,t,a,n),t.child;case 6:return e===null&&kv(t),null;case 13:return sC(e,t,n);case 4:return Dx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ml(t,null,r,n):jn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),fS(e,t,r,i,n);case 7:return jn(e,t,t.pendingProps,n),t.child;case 8:return jn(e,t,t.pendingProps.children,n),t.child;case 12:return jn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,tt(hh,r._currentValue),r._currentValue=a,s!==null)if(Gr(s.value,a)){if(s.children===i.children&&!zn.current){t=Qi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Hi(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Cv(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(X(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Cv(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}jn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qo(t,n),i=Rr(i),r=r(i),t.flags|=1,jn(e,t,r,n),t.child;case 14:return r=t.type,i=Lr(r,t.pendingProps),i=Lr(r.type,i),hS(e,t,r,i,n);case 15:return tC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lr(r,i),Lf(e,t),t.tag=1,Bn(r)?(e=!0,uh(t)):e=!1,Qo(t,n),Jk(t,r,i),Pv(t,r,i,n),Av(null,t,r,!0,e,n);case 19:return aC(e,t,n);case 22:return nC(e,t,n)}throw Error(X(156,t.tag))};function SC(e,t){return GE(e,t)}function pL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,n,r){return new pL(e,t,n,r)}function Yx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mL(e){if(typeof e=="function")return Yx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mx)return 11;if(e===gx)return 14}return 2}function Ls(e,t){var n=e.alternate;return n===null?(n=Sr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uf(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Yx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case No:return Ra(n.children,i,s,t);case px:a=8,i|=8;break;case Zg:return e=Sr(12,n,t,i|2),e.elementType=Zg,e.lanes=s,e;case ev:return e=Sr(13,n,t,i),e.elementType=ev,e.lanes=s,e;case tv:return e=Sr(19,n,t,i),e.elementType=tv,e.lanes=s,e;case AE:return lp(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NE:a=10;break e;case TE:a=9;break e;case mx:a=11;break e;case gx:a=14;break e;case gs:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Sr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ra(e,t,n,r){return e=Sr(7,e,r,t),e.lanes=n,e}function lp(e,t,n,r){return e=Sr(22,e,r,t),e.elementType=AE,e.lanes=n,e.stateNode={isHidden:!1},e}function Hm(e,t,n){return e=Sr(6,e,null,t),e.lanes=n,e}function qm(e,t,n){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jm(0),this.expirationTimes=jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xx(e,t,n,r,i,s,a,l,c){return e=new gL(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Sr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ix(s),e}function vL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _C(e){if(!e)return Bs;e=e._reactInternals;e:{if(Qa(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(Bn(n))return _k(e,n,t)}return t}function jC(e,t,n,r,i,s,a,l,c){return e=Xx(n,r,!0,e,i,s,a,l,c),e.context=_C(null),n=e.current,r=Cn(),i=Fs(n),s=Hi(r,i),s.callback=t??null,Is(n,s,i),e.current.lanes=i,id(e,i,r),Hn(e,r),e}function cp(e,t,n,r){var i=t.current,s=Cn(),a=Fs(i);return n=_C(n),t.context===null?t.context=n:t.pendingContext=n,t=Hi(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Is(i,t,a),e!==null&&(Wr(e,i,a,s),If(e,i,a)),a}function _h(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ES(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jx(e,t){ES(e,t),(e=e.alternate)&&ES(e,t)}function yL(){return null}var EC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zx(e){this._internalRoot=e}up.prototype.render=Zx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));cp(e,t,null,null)};up.prototype.unmount=Zx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ia(function(){cp(null,e,null,null)}),t[Wi]=null}};function up(e){this._internalRoot=e}up.prototype.unstable_scheduleHydration=function(e){if(e){var t=nk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ys.length&&t!==0&&t<ys[n].priority;n++);ys.splice(n,0,e),n===0&&ik(e)}};function eb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kS(){}function xL(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=_h(a);s.call(u)}}var a=jC(t,r,e,0,null,!1,!1,"",kS);return e._reactRootContainer=a,e[Wi]=a.current,tu(e.nodeType===8?e.parentNode:e),Ia(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=_h(c);l.call(u)}}var c=Xx(e,0,!1,null,null,!1,!1,"",kS);return e._reactRootContainer=c,e[Wi]=c.current,tu(e.nodeType===8?e.parentNode:e),Ia(function(){cp(t,c,n,r)}),c}function fp(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=_h(a);l.call(c)}}cp(t,a,e,i)}else a=xL(n,t,e,i,r);return _h(a)}ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xc(t.pendingLanes);n!==0&&(xx(t,n|1),Hn(t,bt()),!(Ue&6)&&(yl=bt()+500,Ks()))}break;case 13:Ia(function(){var r=Vi(e,1);if(r!==null){var i=Cn();Wr(r,e,1,i)}}),Jx(e,1)}};bx=function(e){if(e.tag===13){var t=Vi(e,134217728);if(t!==null){var n=Cn();Wr(t,e,134217728,n)}Jx(e,134217728)}};tk=function(e){if(e.tag===13){var t=Fs(e),n=Vi(e,t);if(n!==null){var r=Cn();Wr(n,e,t,r)}Jx(e,t)}};nk=function(){return We};rk=function(e,t){var n=We;try{return We=e,t()}finally{We=n}};dv=function(e,t,n){switch(t){case"input":if(iv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=np(r);if(!i)throw Error(X(90));IE(r),iv(r,i)}}}break;case"textarea":FE(e,n);break;case"select":t=n.value,t!=null&&Ho(e,!!n.multiple,t,!1)}};HE=Qx;qE=Ia;var bL={usingClientEntryPoint:!1,Events:[ad,Io,np,zE,BE,Qx]},ic={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wL={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QE(e),e===null?null:e.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||yL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{Jh=tf.inject(wL),vi=tf}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bL;cr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eb(t))throw Error(X(200));return vL(e,t,null,n)};cr.createRoot=function(e,t){if(!eb(e))throw Error(X(299));var n=!1,r="",i=EC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xx(e,1,!1,null,null,n,!1,r,i),e[Wi]=t.current,tu(e.nodeType===8?e.parentNode:e),new Zx(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=QE(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return Ia(e)};cr.hydrate=function(e,t,n){if(!dp(t))throw Error(X(200));return fp(null,e,t,!0,n)};cr.hydrateRoot=function(e,t,n){if(!eb(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=EC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=jC(t,null,e,1,n??null,i,!1,s,a),e[Wi]=t.current,tu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new up(t)};cr.render=function(e,t,n){if(!dp(t))throw Error(X(200));return fp(null,e,t,!1,n)};cr.unmountComponentAtNode=function(e){if(!dp(e))throw Error(X(40));return e._reactRootContainer?(Ia(function(){fp(null,null,e,!1,function(){e._reactRootContainer=null,e[Wi]=null})}),!0):!1};cr.unstable_batchedUpdates=Qx;cr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dp(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return fp(e,t,n,!1,r)};cr.version="18.3.1-next-f1338f8080-20240426";function kC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kC)}catch(e){console.error(e)}}kC(),kE.exports=cr;var Ka=kE.exports;const CC=Wa(Ka);var RC,CS=Ka;RC=CS.createRoot,CS.hydrateRoot;const SL=1,_L=1e6;let Wm=0;function jL(){return Wm=(Wm+1)%Number.MAX_SAFE_INTEGER,Wm.toString()}const Vm=new Map,RS=e=>{if(Vm.has(e))return;const t=setTimeout(()=>{Vm.delete(e),Lc({type:"REMOVE_TOAST",toastId:e})},_L);Vm.set(e,t)},EL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,SL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?RS(n):e.toasts.forEach(r=>{RS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},zf=[];let Bf={toasts:[]};function Lc(e){Bf=EL(Bf,e),zf.forEach(t=>{t(Bf)})}function kL({...e}){const t=jL(),n=i=>Lc({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Lc({type:"DISMISS_TOAST",toastId:t});return Lc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Dt(){const[e,t]=x.useState(Bf);return x.useEffect(()=>(zf.push(t),()=>{const n=zf.indexOf(t);n>-1&&zf.splice(n,1)}),[e]),{...e,toast:kL,dismiss:n=>Lc({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function PS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hp(...e){return t=>{let n=!1;const r=e.map(i=>{const s=PS(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():PS(e[i],null)}}}}function Le(...e){return x.useCallback(hp(...e),e)}function CL(e,t){const n=x.createContext(t),r=s=>{const{children:a,...l}=s,c=x.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=x.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function dr(e,t=[]){let n=[];function r(s,a){const l=x.createContext(a),c=n.length;n=[...n,a];const u=f=>{var v;const{scope:p,children:h,...g}=f,m=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,w=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:w,children:h})};u.displayName=s+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,g=x.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>x.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,RL(i,...t)]}function RL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Da(e){const t=NL(e),n=x.forwardRef((r,i)=>{const{children:s,...a}=r,l=x.Children.toArray(s),c=l.find(TL);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var PL=Da("Slot");function NL(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const a=OL(i),l=AL(s,i.props);return i.type!==x.Fragment&&(l.ref=r?hp(r,a):a),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PC=Symbol("radix.slottable");function NC(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=PC,t}function TL(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PC}function AL(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function OL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pp(e){const t=e+"CollectionProvider",[n,r]=dr(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:w,children:v}=m,y=q.useRef(null),b=q.useRef(new Map).current;return o.jsx(i,{scope:w,itemMap:b,collectionRef:y,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=Da(l),u=q.forwardRef((m,w)=>{const{scope:v,children:y}=m,b=s(l,v),S=Le(w,b.collectionRef);return o.jsx(c,{ref:S,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=Da(d),h=q.forwardRef((m,w)=>{const{scope:v,children:y,...b}=m,S=q.useRef(null),E=Le(w,S),_=s(d,v);return q.useEffect(()=>(_.itemMap.set(S,{ref:S,...b}),()=>void _.itemMap.delete(S))),o.jsx(p,{[f]:"",ref:E,children:y})});h.displayName=d;function g(m){const w=s(e+"CollectionConsumer",m);return q.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((_,k)=>b.indexOf(_.ref.current)-b.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:h},g,r]}var IL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=IL.reduce((e,t)=>{const n=Da(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function tb(e,t){e&&Ka.flushSync(()=>e.dispatchEvent(t))}function qn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function DL(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FL="DismissableLayer",qv="dismissableLayer.update",LL="dismissableLayer.pointerDownOutside",ML="dismissableLayer.focusOutside",NS,TC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ol=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=x.useContext(TC),[d,f]=x.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),g=Le(t,k=>f(k)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,E=UL(k=>{const N=k.target,I=[...u.branches].some(C=>C.contains(N));!S||I||(i==null||i(k),a==null||a(k),k.defaultPrevented||l==null||l())},p),_=zL(k=>{const N=k.target;[...u.branches].some(C=>C.contains(N))||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},p);return DL(k=>{y===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),TS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=NS)}},[d,p,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),TS())},[d,u]),x.useEffect(()=>{const k=()=>h({});return document.addEventListener(qv,k),()=>document.removeEventListener(qv,k)},[]),o.jsx(ge.div,{...c,ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,_.onFocusCapture),onBlurCapture:re(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,E.onPointerDownCapture)})});Ol.displayName=FL;var $L="DismissableLayerBranch",AC=x.forwardRef((e,t)=>{const n=x.useContext(TC),r=x.useRef(null),i=Le(t,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(ge.div,{...e,ref:i})});AC.displayName=$L;function UL(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){OC(LL,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function zL(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&OC(ML,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TS(){const e=new CustomEvent(qv);document.dispatchEvent(e)}function OC(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?tb(i,s):i.dispatchEvent(s)}var BL=Ol,HL=AC,Zt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},qL="Portal",ld=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,s]=x.useState(!1);Zt(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?CC.createPortal(o.jsx(ge.div,{...r,ref:t}),a):null});ld.displayName=qL;function WL(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var Nr=e=>{const{present:t,children:n}=e,r=VL(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=Le(r.ref,QL(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};Nr.displayName="Presence";function VL(e){const[t,n]=x.useState(),r=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),a=e?"mounted":"unmounted",[l,c]=WL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=nf(r.current);s.current=l==="mounted"?u:"none"},[l]),Zt(()=>{const u=r.current,d=i.current;if(d!==e){const p=s.current,h=nf(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Zt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const m=nf(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&m&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=h=>{h.target===t&&(s.current=nf(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function nf(e){return(e==null?void 0:e.animationName)||"none"}function QL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var KL=Xh[" useInsertionEffect ".trim().toString()]||Zt;function Ki({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=GL({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const p=YL(d)?d(e):d;p!==e&&((f=a.current)==null||f.call(a,p))}else s(d)},[l,e,s,a]);return[c,u]}function GL({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),i=x.useRef(n),s=x.useRef(t);return KL(()=>{s.current=t},[t]),x.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function YL(e){return typeof e=="function"}var IC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XL="VisuallyHidden",mp=x.forwardRef((e,t)=>o.jsx(ge.span,{...e,ref:t,style:{...IC,...e.style}}));mp.displayName=XL;var JL=mp,nb="ToastProvider",[rb,ZL,eM]=pp("Toast"),[DC,lie]=dr("Toast",[eM]),[tM,gp]=DC(nb),FC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),p=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${nb}\`. Expected non-empty \`string\`.`),o.jsx(rb.Provider,{scope:t,children:o.jsx(tM,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(h=>h+1),[]),onToastRemove:x.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};FC.displayName=nb;var LC="ToastViewport",nM=["F8"],Wv="toast.viewportPause",Vv="toast.viewportResume",MC=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=nM,label:i="Notifications ({hotkey})",...s}=e,a=gp(LC,n),l=ZL(n),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),p=Le(t,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;x.useEffect(()=>{const w=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),x.useEffect(()=>{const w=c.current,v=f.current;if(g&&w&&v){const y=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(Wv);v.dispatchEvent(_),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(Vv);v.dispatchEvent(_),a.isClosePausedRef.current=!1}},S=_=>{!w.contains(_.relatedTarget)&&b()},E=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",y),w.addEventListener("focusout",S),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:w})=>{const y=l().map(b=>{const S=b.ref.current,E=[S,...mM(S)];return w==="forwards"?E:E.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const w=f.current;if(w){const v=y=>{var E,_,k;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const N=document.activeElement,I=y.shiftKey;if(y.target===w&&I){(E=u.current)==null||E.focus();return}const O=m({tabbingDirection:I?"backwards":"forwards"}),H=O.findIndex(A=>A===N);Qm(O.slice(H+1))?y.preventDefault():I?(_=u.current)==null||_.focus():(k=d.current)==null||k.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,m]),o.jsxs(HL,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(Qv,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Qm(w)}}),o.jsx(rb.Slot,{scope:n,children:o.jsx(ge.ol,{tabIndex:-1,...s,ref:p})}),g&&o.jsx(Qv,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Qm(w)}})]})});MC.displayName=LC;var $C="ToastFocusProxy",Qv=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=gp($C,n);return o.jsx(mp,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});Qv.displayName=$C;var cd="Toast",rM="toast.swipeStart",iM="toast.swipeMove",sM="toast.swipeCancel",aM="toast.swipeEnd",UC=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[l,c]=Ki({prop:r,defaultProp:i??!0,onChange:s,caller:cd});return o.jsx(Nr,{present:n||l,children:o.jsx(cM,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:qn(e.onPause),onResume:qn(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});UC.displayName=cd;var[oM,lM]=DC(cd,{onClose(){}}),cM=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...g}=e,m=gp(cd,n),[w,v]=x.useState(null),y=Le(t,A=>v(A)),b=x.useRef(null),S=x.useRef(null),E=i||m.duration,_=x.useRef(0),k=x.useRef(E),N=x.useRef(0),{onToastAdd:I,onToastRemove:C}=m,D=qn(()=>{var F;(w==null?void 0:w.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),a()}),O=x.useCallback(A=>{!A||A===1/0||(window.clearTimeout(N.current),_.current=new Date().getTime(),N.current=window.setTimeout(D,A))},[D]);x.useEffect(()=>{const A=m.viewport;if(A){const F=()=>{O(k.current),u==null||u()},U=()=>{const B=new Date().getTime()-_.current;k.current=k.current-B,window.clearTimeout(N.current),c==null||c()};return A.addEventListener(Wv,U),A.addEventListener(Vv,F),()=>{A.removeEventListener(Wv,U),A.removeEventListener(Vv,F)}}},[m.viewport,E,c,u,O]),x.useEffect(()=>{s&&!m.isClosePausedRef.current&&O(E)},[s,E,m.isClosePausedRef,O]),x.useEffect(()=>(I(),()=>C()),[I,C]);const H=x.useMemo(()=>w?QC(w):null,[w]);return m.viewport?o.jsxs(o.Fragment,{children:[H&&o.jsx(uM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:H}),o.jsx(oM,{scope:n,onClose:D,children:Ka.createPortal(o.jsx(rb.ItemSlot,{scope:n,children:o.jsx(BL,{asChild:!0,onEscapeKeyDown:re(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||D(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ge.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:re(e.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:re(e.onPointerMove,A=>{if(!b.current)return;const F=A.clientX-b.current.x,U=A.clientY-b.current.y,B=!!S.current,R=["left","right"].includes(m.swipeDirection),T=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,j=R?T(0,F):0,M=R?0:T(0,U),$=A.pointerType==="touch"?10:2,P={x:j,y:M},Q={originalEvent:A,delta:P};B?(S.current=P,rf(iM,f,Q,{discrete:!1})):AS(P,m.swipeDirection,$)?(S.current=P,rf(rM,d,Q,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(F)>$||Math.abs(U)>$)&&(b.current=null)}),onPointerUp:re(e.onPointerUp,A=>{const F=S.current,U=A.target;if(U.hasPointerCapture(A.pointerId)&&U.releasePointerCapture(A.pointerId),S.current=null,b.current=null,F){const B=A.currentTarget,R={originalEvent:A,delta:F};AS(F,m.swipeDirection,m.swipeThreshold)?rf(aM,h,R,{discrete:!0}):rf(sM,p,R,{discrete:!0}),B.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),uM=e=>{const{__scopeToast:t,children:n,...r}=e,i=gp(cd,t),[s,a]=x.useState(!1),[l,c]=x.useState(!1);return hM(()=>a(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(ld,{asChild:!0,children:o.jsx(mp,{...r,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},dM="ToastTitle",zC=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ge.div,{...r,ref:t})});zC.displayName=dM;var fM="ToastDescription",BC=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ge.div,{...r,ref:t})});BC.displayName=fM;var HC="ToastAction",qC=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(VC,{altText:n,asChild:!0,children:o.jsx(ib,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${HC}\`. Expected non-empty \`string\`.`),null)});qC.displayName=HC;var WC="ToastClose",ib=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=lM(WC,n);return o.jsx(VC,{asChild:!0,children:o.jsx(ge.button,{type:"button",...r,ref:t,onClick:re(e.onClick,i.onClose)})})});ib.displayName=WC;var VC=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return o.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function QC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),pM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...QC(r))}}),t}function rf(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?tb(i,s):i.dispatchEvent(s)}var AS=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function hM(e=()=>{}){const t=qn(e);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function pM(e){return e.nodeType===e.ELEMENT_NODE}function mM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var gM=FC,KC=MC,GC=UC,YC=zC,XC=BC,JC=qC,ZC=ib;function eR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=eR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tR(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=eR(e))&&(r&&(r+=" "),r+=t);return r}const OS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,IS=tR,ud=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return IS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const p=OS(d)||OS(f);return i[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...s,...l}[m]):{...s,...l}[m]===w})?[...u,f,p]:u},[]);return IS(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>x.createElement("svg",{ref:c,...yM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:nR("lucide",i),...l},[...a.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(xM,{ref:s,iconNode:t,className:nR(`lucide-${vM(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=xe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=xe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ub="-",LM=e=>{const t=$M(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(ub);return l[0]===""&&l.length!==1&&l.shift(),cR(l,t)||MM(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},cR=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?cR(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(ub);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},FS=/^\[(.+)\]$/,MM=e=>{if(FS.test(e)){const t=FS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$M=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return zM(Object.entries(e.classGroups),n).forEach(([s,a])=>{Gv(a,r,s,t)}),r},Gv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:LS(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(UM(i)){Gv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Gv(a,LS(t,s),n,r)})})},LS=(e,t)=>{let n=e;return t.split(ub).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UM=e=>e.isThemeGetter,zM=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[n,i]}):e,BM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},uR="!",HM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(u===0){if(v===i&&(r||l.slice(w,w+s)===t)){c.push(l.slice(d,w)),d=w+s;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const p=c.length===0?l:l.substring(d),h=p.startsWith(uR),g=h?p.substring(1):p,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:a}):a},qM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},WM=e=>({cache:BM(e.cacheSize),parseClassName:HM(e),...LM(e)}),VM=/\s+/,QM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(VM);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(u);let g=!!h,m=r(g?p.substring(0,h):p);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=r(p),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const w=qM(d).join(":"),v=f?w+uR:w,y=v+m;if(s.includes(y))continue;s.push(y);const b=i(m,g);for(let S=0;S<b.length;++S){const E=b[S];s.push(v+E)}l=u+(l.length>0?" "+l:l)}return l};function KM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=dR(t))&&(r&&(r+=" "),r+=n);return r}const dR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=dR(e[r]))&&(n&&(n+=" "),n+=t);return n};function GM(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=WM(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=QM(c,n);return i(c,d),d}return function(){return s(KM.apply(null,arguments))}}const nt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},fR=/^\[(?:([a-z-]+):)?(.+)\]$/i,YM=/^\d+\/\d+$/,XM=new Set(["px","full","screen"]),JM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ni=e=>Go(e)||XM.has(e)||YM.test(e),as=e=>Il(e,"length",u$),Go=e=>!!e&&!Number.isNaN(Number(e)),Km=e=>Il(e,"number",Go),sc=e=>!!e&&Number.isInteger(Number(e)),r$=e=>e.endsWith("%")&&Go(e.slice(0,-1)),Ce=e=>fR.test(e),os=e=>JM.test(e),i$=new Set(["length","size","percentage"]),s$=e=>Il(e,i$,hR),a$=e=>Il(e,"position",hR),o$=new Set(["image","url"]),l$=e=>Il(e,o$,f$),c$=e=>Il(e,"",d$),ac=()=>!0,Il=(e,t,n)=>{const r=fR.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},u$=e=>ZM.test(e)&&!e$.test(e),hR=()=>!1,d$=e=>t$.test(e),f$=e=>n$.test(e),h$=()=>{const e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),s=nt("borderRadius"),a=nt("borderSpacing"),l=nt("borderWidth"),c=nt("contrast"),u=nt("grayscale"),d=nt("hueRotate"),f=nt("invert"),p=nt("gap"),h=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),m=nt("inset"),w=nt("margin"),v=nt("opacity"),y=nt("padding"),b=nt("saturate"),S=nt("scale"),E=nt("sepia"),_=nt("skew"),k=nt("space"),N=nt("translate"),I=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ce,t],O=()=>[Ce,t],H=()=>["",Ni,as],A=()=>["auto",Go,Ce],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Ce],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Go,Ce];return{cacheSize:500,separator:":",theme:{colors:[ac],spacing:[Ni,as],blur:["none","",os,Ce],brightness:M(),borderColor:[e],borderRadius:["none","","full",os,Ce],borderSpacing:O(),borderWidth:H(),contrast:M(),grayscale:T(),hueRotate:M(),invert:T(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[r$,as],inset:D(),margin:D(),opacity:M(),padding:O(),saturate:M(),scale:M(),sepia:T(),skew:M(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[os]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ce]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sc,Ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",sc,Ce]}],"grid-cols":[{"grid-cols":[ac]}],"col-start-end":[{col:["auto",{span:["full",sc,Ce]},Ce]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[ac]}],"row-start-end":[{row:["auto",{span:[sc,Ce]},Ce]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[os]},os]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",os,as]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Km]}],"font-family":[{font:[ac]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Go,Km]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ni,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ni,as]}],"underline-offset":[{"underline-offset":["auto",Ni,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),a$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",s$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ni,Ce]}],"outline-w":[{outline:[Ni,as]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ni,as]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",os,c$]}],"shadow-color":[{shadow:[ac]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",os,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[sc,Ce]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ni,as,Km]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p$=GM(h$);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var Gm,MS;function $S(){if(MS)return Gm;MS=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:a,create:l}=Object,{apply:c,construct:u}=typeof Reflect<"u"&&Reflect;s||(s=function(ie){return ie}),a||(a=function(ie){return ie}),c||(c=function(ie,De,Ne){return ie.apply(De,Ne)}),u||(u=function(ie,De){return new ie(...De)});const d=N(Array.prototype.forEach),f=N(Array.prototype.lastIndexOf),p=N(Array.prototype.pop),h=N(Array.prototype.push),g=N(Array.prototype.splice),m=N(String.prototype.toLowerCase),w=N(String.prototype.toString),v=N(String.prototype.match),y=N(String.prototype.replace),b=N(String.prototype.indexOf),S=N(String.prototype.trim),E=N(Object.prototype.hasOwnProperty),_=N(RegExp.prototype.test),k=I(TypeError);function N(Ee){return function(ie){ie instanceof RegExp&&(ie.lastIndex=0);for(var De=arguments.length,Ne=new Array(De>1?De-1:0),z=1;z<De;z++)Ne[z-1]=arguments[z];return c(Ee,ie,Ne)}}function I(Ee){return function(){for(var ie=arguments.length,De=new Array(ie),Ne=0;Ne<ie;Ne++)De[Ne]=arguments[Ne];return u(Ee,De)}}function C(Ee,ie){let De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;t&&t(Ee,null);let Ne=ie.length;for(;Ne--;){let z=ie[Ne];if(typeof z=="string"){const G=De(z);G!==z&&(n(ie)||(ie[Ne]=G),z=G)}Ee[z]=!0}return Ee}function D(Ee){for(let ie=0;ie<Ee.length;ie++)E(Ee,ie)||(Ee[ie]=null);return Ee}function O(Ee){const ie=l(null);for(const[De,Ne]of e(Ee))E(Ee,De)&&(Array.isArray(Ne)?ie[De]=D(Ne):Ne&&typeof Ne=="object"&&Ne.constructor===Object?ie[De]=O(Ne):ie[De]=Ne);return ie}function H(Ee,ie){for(;Ee!==null;){const Ne=i(Ee,ie);if(Ne){if(Ne.get)return N(Ne.get);if(typeof Ne.value=="function")return N(Ne.value)}Ee=r(Ee)}function De(){return null}return De}const A=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),T=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=s(["#text"]),M=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Q=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),J=a(/<%[\w\W]*|[\w\W]*%>/gm),V=a(/\$\{[\w\W]*/gm),oe=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),le=a(/^aria-[\-\w]+$/),ue=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ve=a(/^(?:\w+script|data):/i),Pe=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ct=a(/^html$/i),Ft=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Lt=Object.freeze({__proto__:null,ARIA_ATTR:le,ATTR_WHITESPACE:Pe,CUSTOM_ELEMENT:Ft,DATA_ATTR:oe,DOCTYPE_NAME:ct,ERB_EXPR:J,IS_ALLOWED_URI:ue,IS_SCRIPT_OR_DATA:ve,MUSTACHE_EXPR:K,TMPLIT_EXPR:V});const kt={element:1,text:3,progressingInstruction:7,comment:8,document:9},fr=function(){return typeof window>"u"?null:window},Ei=function(ie,De){if(typeof ie!="object"||typeof ie.createPolicy!="function")return null;let Ne=null;const z="data-tt-policy-suffix";De&&De.hasAttribute(z)&&(Ne=De.getAttribute(z));const G="dompurify"+(Ne?"#"+Ne:"");try{return ie.createPolicy(G,{createHTML(fe){return fe},createScriptURL(fe){return fe}})}catch{return console.warn("TrustedTypes policy "+G+" could not be created."),null}},hr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function is(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fr();const ie=de=>is(de);if(ie.version="3.2.6",ie.removed=[],!Ee||!Ee.document||Ee.document.nodeType!==kt.document||!Ee.Element)return ie.isSupported=!1,ie;let{document:De}=Ee;const Ne=De,z=Ne.currentScript,{DocumentFragment:G,HTMLTemplateElement:fe,Node:ke,Element:Fe,NodeFilter:Ct,NamedNodeMap:pr=Ee.NamedNodeMap||Ee.MozNamedAttrMap,HTMLFormElement:vn,DOMParser:Tn,trustedTypes:Vn}=Ee,Ge=Fe.prototype,ei=H(Ge,"cloneNode"),Qn=H(Ge,"remove"),Pd=H(Ge,"nextSibling"),Nd=H(Ge,"childNodes"),to=H(Ge,"parentNode");if(typeof fe=="function"){const de=De.createElement("template");de.content&&de.content.ownerDocument&&(De=de.content.ownerDocument)}let Rt,An="";const{implementation:Vl,createNodeIterator:be,createDocumentFragment:qe,getElementsByTagName:Ye}=De,{importNode:Kn}=Ne;let Qe=hr();ie.isSupported=typeof e=="function"&&typeof to=="function"&&Vl&&Vl.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:mr,ERB_EXPR:Tr,TMPLIT_EXPR:yn,DATA_ATTR:ti,ARIA_ATTR:FI,IS_SCRIPT_OR_DATA:LI,ATTR_WHITESPACE:Qw,CUSTOM_ELEMENT:MI}=Lt;let{IS_ALLOWED_URI:Kw}=Lt,Mt=null;const Gw=C({},[...A,...F,...U,...R,...j]);let Qt=null;const Yw=C({},[...M,...$,...P,...Q]);let yt=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ql=null,om=null,Xw=!0,lm=!0,Jw=!1,Zw=!0,no=!1,Td=!0,ia=!1,cm=!1,um=!1,ro=!1,Ad=!1,Od=!1,e0=!0,t0=!1;const $I="user-content-";let dm=!0,Kl=!1,io={},so=null;const n0=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let r0=null;const i0=C({},["audio","video","img","source","image","track"]);let fm=null;const s0=C({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Id="http://www.w3.org/1998/Math/MathML",Dd="http://www.w3.org/2000/svg",Ci="http://www.w3.org/1999/xhtml";let ao=Ci,hm=!1,pm=null;const UI=C({},[Id,Dd,Ci],w);let Fd=C({},["mi","mo","mn","ms","mtext"]),Ld=C({},["annotation-xml"]);const zI=C({},["title","style","font","a","script"]);let Gl=null;const BI=["application/xhtml+xml","text/html"],HI="text/html";let $t=null,oo=null;const qI=De.createElement("form"),a0=function(L){return L instanceof RegExp||L instanceof Function},mm=function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(oo&&oo===L)){if((!L||typeof L!="object")&&(L={}),L=O(L),Gl=BI.indexOf(L.PARSER_MEDIA_TYPE)===-1?HI:L.PARSER_MEDIA_TYPE,$t=Gl==="application/xhtml+xml"?w:m,Mt=E(L,"ALLOWED_TAGS")?C({},L.ALLOWED_TAGS,$t):Gw,Qt=E(L,"ALLOWED_ATTR")?C({},L.ALLOWED_ATTR,$t):Yw,pm=E(L,"ALLOWED_NAMESPACES")?C({},L.ALLOWED_NAMESPACES,w):UI,fm=E(L,"ADD_URI_SAFE_ATTR")?C(O(s0),L.ADD_URI_SAFE_ATTR,$t):s0,r0=E(L,"ADD_DATA_URI_TAGS")?C(O(i0),L.ADD_DATA_URI_TAGS,$t):i0,so=E(L,"FORBID_CONTENTS")?C({},L.FORBID_CONTENTS,$t):n0,Ql=E(L,"FORBID_TAGS")?C({},L.FORBID_TAGS,$t):O({}),om=E(L,"FORBID_ATTR")?C({},L.FORBID_ATTR,$t):O({}),io=E(L,"USE_PROFILES")?L.USE_PROFILES:!1,Xw=L.ALLOW_ARIA_ATTR!==!1,lm=L.ALLOW_DATA_ATTR!==!1,Jw=L.ALLOW_UNKNOWN_PROTOCOLS||!1,Zw=L.ALLOW_SELF_CLOSE_IN_ATTR!==!1,no=L.SAFE_FOR_TEMPLATES||!1,Td=L.SAFE_FOR_XML!==!1,ia=L.WHOLE_DOCUMENT||!1,ro=L.RETURN_DOM||!1,Ad=L.RETURN_DOM_FRAGMENT||!1,Od=L.RETURN_TRUSTED_TYPE||!1,um=L.FORCE_BODY||!1,e0=L.SANITIZE_DOM!==!1,t0=L.SANITIZE_NAMED_PROPS||!1,dm=L.KEEP_CONTENT!==!1,Kl=L.IN_PLACE||!1,Kw=L.ALLOWED_URI_REGEXP||ue,ao=L.NAMESPACE||Ci,Fd=L.MATHML_TEXT_INTEGRATION_POINTS||Fd,Ld=L.HTML_INTEGRATION_POINTS||Ld,yt=L.CUSTOM_ELEMENT_HANDLING||{},L.CUSTOM_ELEMENT_HANDLING&&a0(L.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=L.CUSTOM_ELEMENT_HANDLING.tagNameCheck),L.CUSTOM_ELEMENT_HANDLING&&a0(L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),L.CUSTOM_ELEMENT_HANDLING&&typeof L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yt.allowCustomizedBuiltInElements=L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),no&&(lm=!1),Ad&&(ro=!0),io&&(Mt=C({},j),Qt=[],io.html===!0&&(C(Mt,A),C(Qt,M)),io.svg===!0&&(C(Mt,F),C(Qt,$),C(Qt,Q)),io.svgFilters===!0&&(C(Mt,U),C(Qt,$),C(Qt,Q)),io.mathMl===!0&&(C(Mt,R),C(Qt,P),C(Qt,Q))),L.ADD_TAGS&&(Mt===Gw&&(Mt=O(Mt)),C(Mt,L.ADD_TAGS,$t)),L.ADD_ATTR&&(Qt===Yw&&(Qt=O(Qt)),C(Qt,L.ADD_ATTR,$t)),L.ADD_URI_SAFE_ATTR&&C(fm,L.ADD_URI_SAFE_ATTR,$t),L.FORBID_CONTENTS&&(so===n0&&(so=O(so)),C(so,L.FORBID_CONTENTS,$t)),dm&&(Mt["#text"]=!0),ia&&C(Mt,["html","head","body"]),Mt.table&&(C(Mt,["tbody"]),delete Ql.tbody),L.TRUSTED_TYPES_POLICY){if(typeof L.TRUSTED_TYPES_POLICY.createHTML!="function")throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof L.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Rt=L.TRUSTED_TYPES_POLICY,An=Rt.createHTML("")}else Rt===void 0&&(Rt=Ei(Vn,z)),Rt!==null&&typeof An=="string"&&(An=Rt.createHTML(""));s&&s(L),oo=L}},o0=C({},[...F,...U,...B]),l0=C({},[...R,...T]),WI=function(L){let ee=to(L);(!ee||!ee.tagName)&&(ee={namespaceURI:ao,tagName:"template"});const ce=m(L.tagName),at=m(ee.tagName);return pm[L.namespaceURI]?L.namespaceURI===Dd?ee.namespaceURI===Ci?ce==="svg":ee.namespaceURI===Id?ce==="svg"&&(at==="annotation-xml"||Fd[at]):!!o0[ce]:L.namespaceURI===Id?ee.namespaceURI===Ci?ce==="math":ee.namespaceURI===Dd?ce==="math"&&Ld[at]:!!l0[ce]:L.namespaceURI===Ci?ee.namespaceURI===Dd&&!Ld[at]||ee.namespaceURI===Id&&!Fd[at]?!1:!l0[ce]&&(zI[ce]||!o0[ce]):!!(Gl==="application/xhtml+xml"&&pm[L.namespaceURI]):!1},ni=function(L){h(ie.removed,{element:L});try{to(L).removeChild(L)}catch{Qn(L)}},lo=function(L,ee){try{h(ie.removed,{attribute:ee.getAttributeNode(L),from:ee})}catch{h(ie.removed,{attribute:null,from:ee})}if(ee.removeAttribute(L),L==="is")if(ro||Ad)try{ni(ee)}catch{}else try{ee.setAttribute(L,"")}catch{}},c0=function(L){let ee=null,ce=null;if(um)L="<remove></remove>"+L;else{const Pt=v(L,/^[\r\n\t ]+/);ce=Pt&&Pt[0]}Gl==="application/xhtml+xml"&&ao===Ci&&(L='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+L+"</body></html>");const at=Rt?Rt.createHTML(L):L;if(ao===Ci)try{ee=new Tn().parseFromString(at,Gl)}catch{}if(!ee||!ee.documentElement){ee=Vl.createDocument(ao,"template",null);try{ee.documentElement.innerHTML=hm?An:at}catch{}}const en=ee.body||ee.documentElement;return L&&ce&&en.insertBefore(De.createTextNode(ce),en.childNodes[0]||null),ao===Ci?Ye.call(ee,ia?"html":"body")[0]:ia?ee.documentElement:en},u0=function(L){return be.call(L.ownerDocument||L,L,Ct.SHOW_ELEMENT|Ct.SHOW_COMMENT|Ct.SHOW_TEXT|Ct.SHOW_PROCESSING_INSTRUCTION|Ct.SHOW_CDATA_SECTION,null)},gm=function(L){return L instanceof vn&&(typeof L.nodeName!="string"||typeof L.textContent!="string"||typeof L.removeChild!="function"||!(L.attributes instanceof pr)||typeof L.removeAttribute!="function"||typeof L.setAttribute!="function"||typeof L.namespaceURI!="string"||typeof L.insertBefore!="function"||typeof L.hasChildNodes!="function")},d0=function(L){return typeof ke=="function"&&L instanceof ke};function Ri(de,L,ee){d(de,ce=>{ce.call(ie,L,ee,oo)})}const f0=function(L){let ee=null;if(Ri(Qe.beforeSanitizeElements,L,null),gm(L))return ni(L),!0;const ce=$t(L.nodeName);if(Ri(Qe.uponSanitizeElement,L,{tagName:ce,allowedTags:Mt}),Td&&L.hasChildNodes()&&!d0(L.firstElementChild)&&_(/<[/\w!]/g,L.innerHTML)&&_(/<[/\w!]/g,L.textContent)||L.nodeType===kt.progressingInstruction||Td&&L.nodeType===kt.comment&&_(/<[/\w]/g,L.data))return ni(L),!0;if(!Mt[ce]||Ql[ce]){if(!Ql[ce]&&p0(ce)&&(yt.tagNameCheck instanceof RegExp&&_(yt.tagNameCheck,ce)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ce)))return!1;if(dm&&!so[ce]){const at=to(L)||L.parentNode,en=Nd(L)||L.childNodes;if(en&&at){const Pt=en.length;for(let On=Pt-1;On>=0;--On){const Pi=ei(en[On],!0);Pi.__removalCount=(L.__removalCount||0)+1,at.insertBefore(Pi,Pd(L))}}}return ni(L),!0}return L instanceof Fe&&!WI(L)||(ce==="noscript"||ce==="noembed"||ce==="noframes")&&_(/<\/no(script|embed|frames)/i,L.innerHTML)?(ni(L),!0):(no&&L.nodeType===kt.text&&(ee=L.textContent,d([mr,Tr,yn],at=>{ee=y(ee,at," ")}),L.textContent!==ee&&(h(ie.removed,{element:L.cloneNode()}),L.textContent=ee)),Ri(Qe.afterSanitizeElements,L,null),!1)},h0=function(L,ee,ce){if(e0&&(ee==="id"||ee==="name")&&(ce in De||ce in qI))return!1;if(!(lm&&!om[ee]&&_(ti,ee))){if(!(Xw&&_(FI,ee))){if(!Qt[ee]||om[ee]){if(!(p0(L)&&(yt.tagNameCheck instanceof RegExp&&_(yt.tagNameCheck,L)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(L))&&(yt.attributeNameCheck instanceof RegExp&&_(yt.attributeNameCheck,ee)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(ee))||ee==="is"&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&_(yt.tagNameCheck,ce)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ce))))return!1}else if(!fm[ee]){if(!_(Kw,y(ce,Qw,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&L!=="script"&&b(ce,"data:")===0&&r0[L])){if(!(Jw&&!_(LI,y(ce,Qw,"")))){if(ce)return!1}}}}}}return!0},p0=function(L){return L!=="annotation-xml"&&v(L,MI)},m0=function(L){Ri(Qe.beforeSanitizeAttributes,L,null);const{attributes:ee}=L;if(!ee||gm(L))return;const ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Qt,forceKeepAttr:void 0};let at=ee.length;for(;at--;){const en=ee[at],{name:Pt,namespaceURI:On,value:Pi}=en,Yl=$t(Pt),vm=Pi;let tn=Pt==="value"?vm:S(vm);if(ce.attrName=Yl,ce.attrValue=tn,ce.keepAttr=!0,ce.forceKeepAttr=void 0,Ri(Qe.uponSanitizeAttribute,L,ce),tn=ce.attrValue,t0&&(Yl==="id"||Yl==="name")&&(lo(Pt,L),tn=$I+tn),Td&&_(/((--!?|])>)|<\/(style|title)/i,tn)){lo(Pt,L);continue}if(ce.forceKeepAttr)continue;if(!ce.keepAttr){lo(Pt,L);continue}if(!Zw&&_(/\/>/i,tn)){lo(Pt,L);continue}no&&d([mr,Tr,yn],v0=>{tn=y(tn,v0," ")});const g0=$t(L.nodeName);if(!h0(g0,Yl,tn)){lo(Pt,L);continue}if(Rt&&typeof Vn=="object"&&typeof Vn.getAttributeType=="function"&&!On)switch(Vn.getAttributeType(g0,Yl)){case"TrustedHTML":{tn=Rt.createHTML(tn);break}case"TrustedScriptURL":{tn=Rt.createScriptURL(tn);break}}if(tn!==vm)try{On?L.setAttributeNS(On,Pt,tn):L.setAttribute(Pt,tn),gm(L)?ni(L):p(ie.removed)}catch{lo(Pt,L)}}Ri(Qe.afterSanitizeAttributes,L,null)},VI=function de(L){let ee=null;const ce=u0(L);for(Ri(Qe.beforeSanitizeShadowDOM,L,null);ee=ce.nextNode();)Ri(Qe.uponSanitizeShadowNode,ee,null),f0(ee),m0(ee),ee.content instanceof G&&de(ee.content);Ri(Qe.afterSanitizeShadowDOM,L,null)};return ie.sanitize=function(de){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,ce=null,at=null,en=null;if(hm=!de,hm&&(de="<!-->"),typeof de!="string"&&!d0(de))if(typeof de.toString=="function"){if(de=de.toString(),typeof de!="string")throw k("dirty is not a string, aborting")}else throw k("toString is not a function");if(!ie.isSupported)return de;if(cm||mm(L),ie.removed=[],typeof de=="string"&&(Kl=!1),Kl){if(de.nodeName){const Pi=$t(de.nodeName);if(!Mt[Pi]||Ql[Pi])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(de instanceof ke)ee=c0("<!---->"),ce=ee.ownerDocument.importNode(de,!0),ce.nodeType===kt.element&&ce.nodeName==="BODY"||ce.nodeName==="HTML"?ee=ce:ee.appendChild(ce);else{if(!ro&&!no&&!ia&&de.indexOf("<")===-1)return Rt&&Od?Rt.createHTML(de):de;if(ee=c0(de),!ee)return ro?null:Od?An:""}ee&&um&&ni(ee.firstChild);const Pt=u0(Kl?de:ee);for(;at=Pt.nextNode();)f0(at),m0(at),at.content instanceof G&&VI(at.content);if(Kl)return de;if(ro){if(Ad)for(en=qe.call(ee.ownerDocument);ee.firstChild;)en.appendChild(ee.firstChild);else en=ee;return(Qt.shadowroot||Qt.shadowrootmode)&&(en=Kn.call(Ne,en,!0)),en}let On=ia?ee.outerHTML:ee.innerHTML;return ia&&Mt["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&_(ct,ee.ownerDocument.doctype.name)&&(On="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+On),no&&d([mr,Tr,yn],Pi=>{On=y(On,Pi," ")}),Rt&&Od?Rt.createHTML(On):On},ie.setConfig=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mm(de),cm=!0},ie.clearConfig=function(){oo=null,cm=!1},ie.isValidAttribute=function(de,L,ee){oo||mm({});const ce=$t(de),at=$t(L);return h0(ce,at,ee)},ie.addHook=function(de,L){typeof L=="function"&&h(Qe[de],L)},ie.removeHook=function(de,L){if(L!==void 0){const ee=f(Qe[de],L);return ee===-1?void 0:g(Qe[de],ee,1)[0]}return p(Qe[de])},ie.removeHooks=function(de){Qe[de]=[]},ie.removeAllHooks=function(){Qe=hr()},ie}var ki=is();return Gm=ki,Gm}window.DOMPurify||(window.DOMPurify=$S().default||$S());function ae(...e){return p$(tR(e))}const m$=gM,pR=x.forwardRef(({className:e,...t},n)=>o.jsx(KC,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pR.displayName=KC.displayName;const g$=ud("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mR=x.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(GC,{ref:r,className:ae(g$({variant:t}),e),...n}));mR.displayName=GC.displayName;const v$=x.forwardRef(({className:e,...t},n)=>o.jsx(JC,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));v$.displayName=JC.displayName;const gR=x.forwardRef(({className:e,...t},n)=>o.jsx(ZC,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(yp,{className:"h-4 w-4"})}));gR.displayName=ZC.displayName;const vR=x.forwardRef(({className:e,...t},n)=>o.jsx(YC,{ref:n,className:ae("text-sm font-semibold",e),...t}));vR.displayName=YC.displayName;const yR=x.forwardRef(({className:e,...t},n)=>o.jsx(XC,{ref:n,className:ae("text-sm opacity-90",e),...t}));yR.displayName=XC.displayName;function y$(){const{toasts:e}=Dt();return o.jsxs(m$,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return o.jsxs(mR,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(vR,{children:n}),r&&o.jsx(yR,{children:r})]}),i,o.jsx(gR,{})]},t)}),o.jsx(pR,{})]})}var US=["light","dark"],x$="(prefers-color-scheme: dark)",b$=x.createContext(void 0),w$={setTheme:e=>{},themes:[]},S$=()=>{var e;return(e=x.useContext(b$))!=null?e:w$};x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?US.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(g,m=!1,w=!0)=>{let v=a?a[g]:g,y=m?g+"|| ''":`'${v}'`,b="";return i&&w&&!m&&US.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?b+=`c.add(${y})`:b+="null":v&&(b+=`d[s](n,${y})`),b},h=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${x$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var _$=e=>{switch(e){case"success":return k$;case"info":return R$;case"warning":return C$;case"error":return P$;default:return null}},j$=Array(12).fill(0),E$=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},j$.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),k$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),R$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),N$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),T$=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Yv=1,A$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Yv++,s=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],q.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(I$(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Yv++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dn=new A$,O$=(e,t)=>{let n=(t==null?void 0:t.id)||Yv++;return Dn.addToast({title:e,...t,id:n}),n},I$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",D$=O$,F$=()=>Dn.toasts,L$=()=>Dn.getActiveToasts(),_n=Object.assign(D$,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:F$,getToasts:L$});function M$(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}M$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sf(e){return e.label!==void 0}var $$=3,U$="32px",z$="16px",zS=4e3,B$=356,H$=14,q$=20,W$=200;function Or(...e){return e.filter(Boolean).join(" ")}function V$(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Q$=e=>{var t,n,r,i,s,a,l,c,u,d,f;let{invert:p,toast:h,unstyled:g,interacting:m,setHeights:w,visibleToasts:v,heights:y,index:b,toasts:S,expanded:E,removeToast:_,defaultRichColors:k,closeButton:N,style:I,cancelButtonStyle:C,actionButtonStyle:D,className:O="",descriptionClassName:H="",duration:A,position:F,gap:U,loadingIcon:B,expandByDefault:R,classNames:T,icons:j,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:$}=e,[P,Q]=q.useState(null),[K,J]=q.useState(null),[V,oe]=q.useState(!1),[le,ue]=q.useState(!1),[ve,Pe]=q.useState(!1),[ct,Ft]=q.useState(!1),[Lt,kt]=q.useState(!1),[fr,Ei]=q.useState(0),[hr,is]=q.useState(0),ki=q.useRef(h.duration||A||zS),Ee=q.useRef(null),ie=q.useRef(null),De=b===0,Ne=b+1<=v,z=h.type,G=h.dismissible!==!1,fe=h.className||"",ke=h.descriptionClassName||"",Fe=q.useMemo(()=>y.findIndex(be=>be.toastId===h.id)||0,[y,h.id]),Ct=q.useMemo(()=>{var be;return(be=h.closeButton)!=null?be:N},[h.closeButton,N]),pr=q.useMemo(()=>h.duration||A||zS,[h.duration,A]),vn=q.useRef(0),Tn=q.useRef(0),Vn=q.useRef(0),Ge=q.useRef(null),[ei,Qn]=F.split("-"),Pd=q.useMemo(()=>y.reduce((be,qe,Ye)=>Ye>=Fe?be:be+qe.height,0),[y,Fe]),Nd=T$(),to=h.invert||p,Rt=z==="loading";Tn.current=q.useMemo(()=>Fe*U+Pd,[Fe,Pd]),q.useEffect(()=>{ki.current=pr},[pr]),q.useEffect(()=>{oe(!0)},[]),q.useEffect(()=>{let be=ie.current;if(be){let qe=be.getBoundingClientRect().height;return is(qe),w(Ye=>[{toastId:h.id,height:qe,position:h.position},...Ye]),()=>w(Ye=>Ye.filter(Kn=>Kn.toastId!==h.id))}},[w,h.id]),q.useLayoutEffect(()=>{if(!V)return;let be=ie.current,qe=be.style.height;be.style.height="auto";let Ye=be.getBoundingClientRect().height;be.style.height=qe,is(Ye),w(Kn=>Kn.find(Qe=>Qe.toastId===h.id)?Kn.map(Qe=>Qe.toastId===h.id?{...Qe,height:Ye}:Qe):[{toastId:h.id,height:Ye,position:h.position},...Kn])},[V,h.title,h.description,w,h.id]);let An=q.useCallback(()=>{ue(!0),Ei(Tn.current),w(be=>be.filter(qe=>qe.toastId!==h.id)),setTimeout(()=>{_(h)},W$)},[h,_,w,Tn]);q.useEffect(()=>{if(h.promise&&z==="loading"||h.duration===1/0||h.type==="loading")return;let be;return E||m||$&&Nd?(()=>{if(Vn.current<vn.current){let qe=new Date().getTime()-vn.current;ki.current=ki.current-qe}Vn.current=new Date().getTime()})():ki.current!==1/0&&(vn.current=new Date().getTime(),be=setTimeout(()=>{var qe;(qe=h.onAutoClose)==null||qe.call(h,h),An()},ki.current)),()=>clearTimeout(be)},[E,m,h,z,$,Nd,An]),q.useEffect(()=>{h.delete&&An()},[An,h.delete]);function Vl(){var be,qe,Ye;return j!=null&&j.loading?q.createElement("div",{className:Or(T==null?void 0:T.loader,(be=h==null?void 0:h.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":z==="loading"},j.loading):B?q.createElement("div",{className:Or(T==null?void 0:T.loader,(qe=h==null?void 0:h.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":z==="loading"},B):q.createElement(E$,{className:Or(T==null?void 0:T.loader,(Ye=h==null?void 0:h.classNames)==null?void 0:Ye.loader),visible:z==="loading"})}return q.createElement("li",{tabIndex:0,ref:ie,className:Or(O,fe,T==null?void 0:T.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[z],(n=h==null?void 0:h.classNames)==null?void 0:n[z]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:k,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":V,"data-promise":!!h.promise,"data-swiped":Lt,"data-removed":le,"data-visible":Ne,"data-y-position":ei,"data-x-position":Qn,"data-index":b,"data-front":De,"data-swiping":ve,"data-dismissible":G,"data-type":z,"data-invert":to,"data-swipe-out":ct,"data-swipe-direction":K,"data-expanded":!!(E||R&&V),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${le?fr:Tn.current}px`,"--initial-height":R?"auto":`${hr}px`,...I,...h.style},onDragEnd:()=>{Pe(!1),Q(null),Ge.current=null},onPointerDown:be=>{Rt||!G||(Ee.current=new Date,Ei(Tn.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Pe(!0),Ge.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,qe,Ye,Kn;if(ct||!G)return;Ge.current=null;let Qe=Number(((be=ie.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mr=Number(((qe=ie.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tr=new Date().getTime()-((Ye=Ee.current)==null?void 0:Ye.getTime()),yn=P==="x"?Qe:mr,ti=Math.abs(yn)/Tr;if(Math.abs(yn)>=q$||ti>.11){Ei(Tn.current),(Kn=h.onDismiss)==null||Kn.call(h,h),J(P==="x"?Qe>0?"right":"left":mr>0?"down":"up"),An(),Ft(!0),kt(!1);return}Pe(!1),Q(null)},onPointerMove:be=>{var qe,Ye,Kn,Qe;if(!Ge.current||!G||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let mr=be.clientY-Ge.current.y,Tr=be.clientX-Ge.current.x,yn=(Ye=e.swipeDirections)!=null?Ye:V$(F);!P&&(Math.abs(Tr)>1||Math.abs(mr)>1)&&Q(Math.abs(Tr)>Math.abs(mr)?"x":"y");let ti={x:0,y:0};P==="y"?(yn.includes("top")||yn.includes("bottom"))&&(yn.includes("top")&&mr<0||yn.includes("bottom")&&mr>0)&&(ti.y=mr):P==="x"&&(yn.includes("left")||yn.includes("right"))&&(yn.includes("left")&&Tr<0||yn.includes("right")&&Tr>0)&&(ti.x=Tr),(Math.abs(ti.x)>0||Math.abs(ti.y)>0)&&kt(!0),(Kn=ie.current)==null||Kn.style.setProperty("--swipe-amount-x",`${ti.x}px`),(Qe=ie.current)==null||Qe.style.setProperty("--swipe-amount-y",`${ti.y}px`)}},Ct&&!h.jsx?q.createElement("button",{"aria-label":M,"data-disabled":Rt,"data-close-button":!0,onClick:Rt||!G?()=>{}:()=>{var be;An(),(be=h.onDismiss)==null||be.call(h,h)},className:Or(T==null?void 0:T.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(s=j==null?void 0:j.close)!=null?s:N$):null,h.jsx||x.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:q.createElement(q.Fragment,null,z||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:Or(T==null?void 0:T.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Vl():null,h.type!=="loading"?h.icon||(j==null?void 0:j[z])||_$(z):null):null,q.createElement("div",{"data-content":"",className:Or(T==null?void 0:T.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},q.createElement("div",{"data-title":"",className:Or(T==null?void 0:T.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?q.createElement("div",{"data-description":"",className:Or(H,ke,T==null?void 0:T.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),x.isValidElement(h.cancel)?h.cancel:h.cancel&&sf(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:be=>{var qe,Ye;sf(h.cancel)&&G&&((Ye=(qe=h.cancel).onClick)==null||Ye.call(qe,be),An())},className:Or(T==null?void 0:T.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,x.isValidElement(h.action)?h.action:h.action&&sf(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:be=>{var qe,Ye;sf(h.action)&&((Ye=(qe=h.action).onClick)==null||Ye.call(qe,be),!be.defaultPrevented&&An())},className:Or(T==null?void 0:T.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function BS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function K$(e,t){let n={};return[e,t].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?z$:U$;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var G$=x.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:h,visibleToasts:g=$$,toastOptions:m,dir:w=BS(),gap:v=H$,loadingIcon:y,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=e,[_,k]=q.useState([]),N=q.useMemo(()=>Array.from(new Set([r].concat(_.filter($=>$.position).map($=>$.position)))),[_,r]),[I,C]=q.useState([]),[D,O]=q.useState(!1),[H,A]=q.useState(!1),[F,U]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=q.useRef(null),R=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=q.useRef(null),j=q.useRef(!1),M=q.useCallback($=>{k(P=>{var Q;return(Q=P.find(K=>K.id===$.id))!=null&&Q.delete||Dn.dismiss($.id),P.filter(({id:K})=>K!==$.id)})},[]);return q.useEffect(()=>Dn.subscribe($=>{if($.dismiss){k(P=>P.map(Q=>Q.id===$.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{CC.flushSync(()=>{k(P=>{let Q=P.findIndex(K=>K.id===$.id);return Q!==-1?[...P.slice(0,Q),{...P[Q],...$},...P.slice(Q+1)]:[$,...P]})})})}),[]),q.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:P})=>{U(P?"dark":"light")})}catch{$.addListener(({matches:Q})=>{try{U(Q?"dark":"light")}catch(K){console.error(K)}})}},[d]),q.useEffect(()=>{_.length<=1&&O(!1)},[_]),q.useEffect(()=>{let $=P=>{var Q,K;i.every(J=>P[J]||P.code===J)&&(O(!0),(Q=B.current)==null||Q.focus()),P.code==="Escape"&&(document.activeElement===B.current||(K=B.current)!=null&&K.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[i]),q.useEffect(()=>{if(B.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,j.current=!1)}},[B.current]),q.createElement("section",{ref:t,"aria-label":`${S} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map(($,P)=>{var Q;let[K,J]=$.split("-");return _.length?q.createElement("ol",{key:$,dir:w==="auto"?BS():w,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":K,"data-lifted":D&&_.length>1&&!s,"data-x-position":J,style:{"--front-toast-height":`${((Q=I[0])==null?void 0:Q.height)||0}px`,"--width":`${B$}px`,"--gap":`${v}px`,...h,...K$(c,u)},onBlur:V=>{j.current&&!V.currentTarget.contains(V.relatedTarget)&&(j.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||j.current||(j.current=!0,T.current=V.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{H||O(!1)},onDragEnd:()=>O(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},_.filter(V=>!V.position&&P===0||V.position===$).map((V,oe)=>{var le,ue;return q.createElement(Q$,{key:V.id,icons:b,index:oe,toast:V,defaultRichColors:f,duration:(le=m==null?void 0:m.duration)!=null?le:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:g,closeButton:(ue=m==null?void 0:m.closeButton)!=null?ue:a,interacting:H,position:$,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:M,toasts:_.filter(ve=>ve.position==V.position),heights:I.filter(ve=>ve.position==V.position),setHeights:C,expandByDefault:s,gap:v,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const Y$=({...e})=>{const{theme:t="system"}=S$();return o.jsx(G$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var X$=Xh[" useId ".trim().toString()]||(()=>{}),J$=0;function Vr(e){const[t,n]=x.useState(X$());return Zt(()=>{n(r=>r??String(J$++))},[e]),t?`radix-${t}`:""}const Z$=["top","right","bottom","left"],Hs=Math.min,Jn=Math.max,kh=Math.round,af=Math.floor,xi=e=>({x:e,y:e}),e4={left:"right",right:"left",bottom:"top",top:"bottom"},t4={start:"end",end:"start"};function Xv(e,t,n){return Jn(e,Hs(t,n))}function Yi(e,t){return typeof e=="function"?e(t):e}function Xi(e){return e.split("-")[0]}function Dl(e){return e.split("-")[1]}function db(e){return e==="x"?"y":"x"}function fb(e){return e==="y"?"height":"width"}const n4=new Set(["top","bottom"]);function gi(e){return n4.has(Xi(e))?"y":"x"}function hb(e){return db(gi(e))}function r4(e,t,n){n===void 0&&(n=!1);const r=Dl(e),i=hb(e),s=fb(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Ch(a)),[a,Ch(a)]}function i4(e){const t=Ch(e);return[Jv(e),t,Jv(t)]}function Jv(e){return e.replace(/start|end/g,t=>t4[t])}const HS=["left","right"],qS=["right","left"],s4=["top","bottom"],a4=["bottom","top"];function o4(e,t,n){switch(e){case"top":case"bottom":return n?t?qS:HS:t?HS:qS;case"left":case"right":return t?s4:a4;default:return[]}}function l4(e,t,n,r){const i=Dl(e);let s=o4(Xi(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Jv)))),s}function Ch(e){return e.replace(/left|right|bottom|top/g,t=>e4[t])}function c4(e){return{top:0,right:0,bottom:0,left:0,...e}}function xR(e){return typeof e!="number"?c4(e):{top:e,right:e,bottom:e,left:e}}function Rh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function WS(e,t,n){let{reference:r,floating:i}=e;const s=gi(t),a=hb(t),l=fb(a),c=Xi(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-i.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Dl(t)){case"start":h[a]-=p*(n&&u?-1:1);break;case"end":h[a]+=p*(n&&u?-1:1);break}return h}const u4=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=WS(u,r,c),p=r,h={},g=0;for(let m=0;m<l.length;m++){const{name:w,fn:v}=l[m],{x:y,y:b,data:S,reset:E}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=b??f,h={...h,[w]:{...h[w],...S}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:d,y:f}=WS(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:h}};async function hu(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Yi(t,e),g=xR(h),w=l[p?f==="floating"?"reference":"floating":f],v=Rh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Rh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-E.top+g.top)/S.y,bottom:(E.bottom-v.bottom+g.bottom)/S.y,left:(v.left-E.left+g.left)/S.x,right:(E.right-v.right+g.right)/S.x}}const d4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Yi(e,t)||{};if(u==null)return{};const f=xR(d),p={x:n,y:r},h=hb(i),g=fb(h),m=await a.getDimensions(u),w=h==="y",v=w?"top":"left",y=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[h]-p[h]-s.floating[g],E=p[h]-s.reference[h],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=_?_[b]:0;(!k||!await(a.isElement==null?void 0:a.isElement(_)))&&(k=l.floating[b]||s.floating[g]);const N=S/2-E/2,I=k/2-m[g]/2-1,C=Hs(f[v],I),D=Hs(f[y],I),O=C,H=k-m[g]-D,A=k/2-m[g]/2+N,F=Xv(O,A,H),U=!c.arrow&&Dl(i)!=null&&A!==F&&s.reference[g]/2-(A<O?C:D)-m[g]/2<0,B=U?A<O?A-O:A-H:0;return{[h]:p[h]+B,data:{[h]:F,centerOffset:A-F-B,...U&&{alignmentOffset:B}},reset:U}}}),f4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=Yi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Xi(i),y=gi(l),b=Xi(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=p||(b||!m?[Ch(l)]:i4(l)),_=g!=="none";!p&&_&&E.push(...l4(l,m,g,S));const k=[l,...E],N=await hu(t,w),I=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(N[v]),f){const A=r4(i,a,S);I.push(N[A[0]],N[A[1]])}if(C=[...C,{placement:i,overflows:I}],!I.every(A=>A<=0)){var D,O;const A=(((D=s.flip)==null?void 0:D.index)||0)+1,F=k[A];if(F&&(!(f==="alignment"?y!==gi(F):!1)||C.every(R=>gi(R.placement)===y?R.overflows[0]>0:!0)))return{data:{index:A,overflows:C},reset:{placement:F}};let U=(O=C.filter(B=>B.overflows[0]<=0).sort((B,R)=>B.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(h){case"bestFit":{var H;const B=(H=C.filter(R=>{if(_){const T=gi(R.placement);return T===y||T==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(T=>T>0).reduce((T,j)=>T+j,0)]).sort((R,T)=>R[1]-T[1])[0])==null?void 0:H[0];B&&(U=B);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function VS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function QS(e){return Z$.some(t=>e[t]>=0)}const h4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Yi(e,t);switch(r){case"referenceHidden":{const s=await hu(t,{...i,elementContext:"reference"}),a=VS(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:QS(a)}}}case"escaped":{const s=await hu(t,{...i,altBoundary:!0}),a=VS(s,n.floating);return{data:{escapedOffsets:a,escaped:QS(a)}}}default:return{}}}}},bR=new Set(["left","top"]);async function p4(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Xi(n),l=Dl(n),c=gi(n)==="y",u=bR.has(a)?-1:1,d=s&&c?-1:1,f=Yi(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const m4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=t,c=await p4(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},g4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...c}=Yi(e,t),u={x:n,y:r},d=await hu(t,c),f=gi(Xi(i)),p=db(f);let h=u[p],g=u[f];if(s){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=h+d[w],b=h-d[v];h=Xv(y,h,b)}if(a){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=g+d[w],b=g-d[v];g=Xv(y,g,b)}const m=l.fn({...t,[p]:h,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:s,[f]:a}}}}}},v4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yi(e,t),d={x:n,y:r},f=gi(i),p=db(f);let h=d[p],g=d[f];const m=Yi(l,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=p==="y"?"height":"width",S=s.reference[p]-s.floating[b]+w.mainAxis,E=s.reference[p]+s.reference[b]-w.mainAxis;h<S?h=S:h>E&&(h=E)}if(u){var v,y;const b=p==="y"?"width":"height",S=bR.has(Xi(i)),E=s.reference[f]-s.floating[b]+(S&&((v=a.offset)==null?void 0:v[f])||0)+(S?0:w.crossAxis),_=s.reference[f]+s.reference[b]+(S?0:((y=a.offset)==null?void 0:y[f])||0)-(S?w.crossAxis:0);g<E?g=E:g>_&&(g=_)}return{[p]:h,[f]:g}}}},y4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Yi(e,t),d=await hu(t,u),f=Xi(i),p=Dl(i),h=gi(i)==="y",{width:g,height:m}=s.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=p==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=g-d.left-d.right,S=Hs(m-d[w],y),E=Hs(g-d[v],b),_=!t.middlewareData.shift;let k=S,N=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=y),_&&!p){const C=Jn(d.left,0),D=Jn(d.right,0),O=Jn(d.top,0),H=Jn(d.bottom,0);h?N=g-2*(C!==0||D!==0?C+D:Jn(d.left,d.right)):k=m-2*(O!==0||H!==0?O+H:Jn(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:k});const I=await a.getDimensions(l.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function xp(){return typeof window<"u"}function Fl(e){return wR(e)?(e.nodeName||"").toLowerCase():"#document"}function rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Si(e){var t;return(t=(wR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wR(e){return xp()?e instanceof Node||e instanceof rr(e).Node:!1}function Yr(e){return xp()?e instanceof Element||e instanceof rr(e).Element:!1}function bi(e){return xp()?e instanceof HTMLElement||e instanceof rr(e).HTMLElement:!1}function KS(e){return!xp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rr(e).ShadowRoot}const x4=new Set(["inline","contents"]);function hd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Xr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!x4.has(i)}const b4=new Set(["table","td","th"]);function w4(e){return b4.has(Fl(e))}const S4=[":popover-open",":modal"];function bp(e){return S4.some(t=>{try{return e.matches(t)}catch{return!1}})}const _4=["transform","translate","scale","rotate","perspective"],j4=["transform","translate","scale","rotate","perspective","filter"],E4=["paint","layout","strict","content"];function pb(e){const t=mb(),n=Yr(e)?Xr(e):e;return _4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||j4.some(r=>(n.willChange||"").includes(r))||E4.some(r=>(n.contain||"").includes(r))}function k4(e){let t=qs(e);for(;bi(t)&&!xl(t);){if(pb(t))return t;if(bp(t))return null;t=qs(t)}return null}function mb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const C4=new Set(["html","body","#document"]);function xl(e){return C4.has(Fl(e))}function Xr(e){return rr(e).getComputedStyle(e)}function wp(e){return Yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qs(e){if(Fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KS(e)&&e.host||Si(e);return KS(t)?t.host:t}function SR(e){const t=qs(e);return xl(t)?e.ownerDocument?e.ownerDocument.body:e.body:bi(t)&&hd(t)?t:SR(t)}function pu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=SR(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=rr(i);if(s){const l=Zv(a);return t.concat(a,a.visualViewport||[],hd(i)?i:[],l&&n?pu(l):[])}return t.concat(i,pu(i,[],n))}function Zv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _R(e){const t=Xr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=bi(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=kh(n)!==s||kh(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function gb(e){return Yr(e)?e:e.contextElement}function Yo(e){const t=gb(e);if(!bi(t))return xi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=_R(t);let a=(s?kh(n.width):n.width)/r,l=(s?kh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const R4=xi(0);function jR(e){const t=rr(e);return!mb()||!t.visualViewport?R4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function P4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==rr(e)?!1:t}function Ua(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=gb(e);let a=xi(1);t&&(r?Yr(r)&&(a=Yo(r)):a=Yo(e));const l=P4(s,n,r)?jR(s):xi(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const p=rr(s),h=r&&Yr(r)?rr(r):r;let g=p,m=Zv(g);for(;m&&r&&h!==g;){const w=Yo(m),v=m.getBoundingClientRect(),y=Xr(m),b=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*w.x,S=v.top+(m.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=S,g=rr(m),m=Zv(g)}}return Rh({width:d,height:f,x:c,y:u})}function vb(e,t){const n=wp(e).scrollLeft;return t?t.left+n:Ua(Si(e)).left+n}function ER(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:vb(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function N4(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Si(r),l=t?bp(t.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=xi(1);const d=xi(0),f=bi(r);if((f||!f&&!s)&&((Fl(r)!=="body"||hd(a))&&(c=wp(r)),bi(r))){const h=Ua(r);u=Yo(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=a&&!f&&!s?ER(a,c,!0):xi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function T4(e){return Array.from(e.getClientRects())}function A4(e){const t=Si(e),n=wp(e),r=e.ownerDocument.body,i=Jn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Jn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+vb(e);const l=-n.scrollTop;return Xr(r).direction==="rtl"&&(a+=Jn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function O4(e,t){const n=rr(e),r=Si(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const u=mb();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}const I4=new Set(["absolute","fixed"]);function D4(e,t){const n=Ua(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=bi(e)?Yo(e):xi(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function GS(e,t,n){let r;if(t==="viewport")r=O4(e,n);else if(t==="document")r=A4(Si(e));else if(Yr(t))r=D4(t,n);else{const i=jR(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rh(r)}function kR(e,t){const n=qs(e);return n===t||!Yr(n)||xl(n)?!1:Xr(n).position==="fixed"||kR(n,t)}function F4(e,t){const n=t.get(e);if(n)return n;let r=pu(e,[],!1).filter(l=>Yr(l)&&Fl(l)!=="body"),i=null;const s=Xr(e).position==="fixed";let a=s?qs(e):e;for(;Yr(a)&&!xl(a);){const l=Xr(a),c=pb(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&I4.has(i.position)||hd(a)&&!c&&kR(e,a))?r=r.filter(d=>d!==a):i=l,a=qs(a)}return t.set(e,r),r}function L4(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?bp(t)?[]:F4(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=GS(t,d,i);return u.top=Jn(f.top,u.top),u.right=Hs(f.right,u.right),u.bottom=Hs(f.bottom,u.bottom),u.left=Jn(f.left,u.left),u},GS(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function M4(e){const{width:t,height:n}=_R(e);return{width:t,height:n}}function $4(e,t,n){const r=bi(t),i=Si(t),s=n==="fixed",a=Ua(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=xi(0);function u(){c.x=vb(i)}if(r||!r&&!s)if((Fl(t)!=="body"||hd(i))&&(l=wp(t)),r){const h=Ua(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?ER(i,l):xi(0),f=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function Ym(e){return Xr(e).position==="static"}function YS(e,t){if(!bi(e)||Xr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Si(e)===n&&(n=n.ownerDocument.body),n}function CR(e,t){const n=rr(e);if(bp(e))return n;if(!bi(e)){let i=qs(e);for(;i&&!xl(i);){if(Yr(i)&&!Ym(i))return i;i=qs(i)}return n}let r=YS(e,t);for(;r&&w4(r)&&Ym(r);)r=YS(r,t);return r&&xl(r)&&Ym(r)&&!pb(r)?n:r||k4(e)||n}const U4=async function(e){const t=this.getOffsetParent||CR,n=this.getDimensions,r=await n(e.floating);return{reference:$4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z4(e){return Xr(e).direction==="rtl"}const B4={convertOffsetParentRelativeRectToViewportRelativeRect:N4,getDocumentElement:Si,getClippingRect:L4,getOffsetParent:CR,getElementRects:U4,getClientRects:T4,getDimensions:M4,getScale:Yo,isElement:Yr,isRTL:z4};function RR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function H4(e,t){let n=null,r;const i=Si(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(l||t(),!p||!h)return;const g=af(f),m=af(i.clientWidth-(d+p)),w=af(i.clientHeight-(f+h)),v=af(d),b={rootMargin:-g+"px "+-m+"px "+-w+"px "+-v+"px",threshold:Jn(0,Hs(1,c))||1};let S=!0;function E(_){const k=_[0].intersectionRatio;if(k!==c){if(!S)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!RR(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(e)}return a(!0),s}function q4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=gb(e),d=i||s?[...u?pu(u):[],...pu(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&l?H4(u,n):null;let p=-1,h=null;a&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let g,m=c?Ua(e):null;c&&w();function w(){const v=Ua(e);m&&!RR(m,v)&&n(),m=v,g=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const W4=m4,V4=g4,Q4=f4,K4=y4,G4=h4,XS=d4,Y4=v4,X4=(e,t,n)=>{const r=new Map,i={platform:B4,...n},s={...i.platform,_c:r};return u4(e,t,{...i,platform:s})};var J4=typeof document<"u",Z4=function(){},Wf=J4?x.useLayoutEffect:Z4;function Ph(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ph(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Ph(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function PR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JS(e,t){const n=PR(e);return Math.round(t*n)/n}function Xm(e){const t=x.useRef(e);return Wf(()=>{t.current=e}),t}function e3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=x.useState(r);Ph(p,r)||h(r);const[g,m]=x.useState(null),[w,v]=x.useState(null),y=x.useCallback(R=>{R!==_.current&&(_.current=R,m(R))},[]),b=x.useCallback(R=>{R!==k.current&&(k.current=R,v(R))},[]),S=s||g,E=a||w,_=x.useRef(null),k=x.useRef(null),N=x.useRef(d),I=c!=null,C=Xm(c),D=Xm(i),O=Xm(u),H=x.useCallback(()=>{if(!_.current||!k.current)return;const R={placement:t,strategy:n,middleware:p};D.current&&(R.platform=D.current),X4(_.current,k.current,R).then(T=>{const j={...T,isPositioned:O.current!==!1};A.current&&!Ph(N.current,j)&&(N.current=j,Ka.flushSync(()=>{f(j)}))})},[p,t,n,D,O]);Wf(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const A=x.useRef(!1);Wf(()=>(A.current=!0,()=>{A.current=!1}),[]),Wf(()=>{if(S&&(_.current=S),E&&(k.current=E),S&&E){if(C.current)return C.current(S,E,H);H()}},[S,E,H,C,I]);const F=x.useMemo(()=>({reference:_,floating:k,setReference:y,setFloating:b}),[y,b]),U=x.useMemo(()=>({reference:S,floating:E}),[S,E]),B=x.useMemo(()=>{const R={position:n,left:0,top:0};if(!U.floating)return R;const T=JS(U.floating,d.x),j=JS(U.floating,d.y);return l?{...R,transform:"translate("+T+"px, "+j+"px)",...PR(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:j}},[n,l,U.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:H,refs:F,elements:U,floatingStyles:B}),[d,H,F,U,B])}const t3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?XS({element:r.current,padding:i}).fn(n):{}:r?XS({element:r,padding:i}).fn(n):{}}}},n3=(e,t)=>({...W4(e),options:[e,t]}),r3=(e,t)=>({...V4(e),options:[e,t]}),i3=(e,t)=>({...Y4(e),options:[e,t]}),s3=(e,t)=>({...Q4(e),options:[e,t]}),a3=(e,t)=>({...K4(e),options:[e,t]}),o3=(e,t)=>({...G4(e),options:[e,t]}),l3=(e,t)=>({...t3(e),options:[e,t]});var c3="Arrow",NR=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return o.jsx(ge.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});NR.displayName=c3;var u3=NR;function TR(e){const[t,n]=x.useState(void 0);return Zt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var yb="Popper",[AR,Ll]=dr(yb),[d3,OR]=AR(yb),IR=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return o.jsx(d3,{scope:t,anchor:r,onAnchorChange:i,children:n})};IR.displayName=yb;var DR="PopperAnchor",FR=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=OR(DR,n),a=x.useRef(null),l=Le(t,a),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:o.jsx(ge.div,{...i,ref:l})});FR.displayName=DR;var xb="PopperContent",[f3,h3]=AR(xb),LR=x.forwardRef((e,t)=>{var V,oe,le,ue,ve,Pe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=e,w=OR(xb,n),[v,y]=x.useState(null),b=Le(t,ct=>y(ct)),[S,E]=x.useState(null),_=TR(S),k=(_==null?void 0:_.width)??0,N=(_==null?void 0:_.height)??0,I=r+(s!=="center"?"-"+s:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,H={padding:C,boundary:D.filter(m3),altBoundary:O},{refs:A,floatingStyles:F,placement:U,isPositioned:B,middlewareData:R}=e3({strategy:"fixed",placement:I,whileElementsMounted:(...ct)=>q4(...ct,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[n3({mainAxis:i+N,alignmentAxis:a}),c&&r3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?i3():void 0,...H}),c&&s3({...H}),a3({...H,apply:({elements:ct,rects:Ft,availableWidth:Lt,availableHeight:kt})=>{const{width:fr,height:Ei}=Ft.reference,hr=ct.floating.style;hr.setProperty("--radix-popper-available-width",`${Lt}px`),hr.setProperty("--radix-popper-available-height",`${kt}px`),hr.setProperty("--radix-popper-anchor-width",`${fr}px`),hr.setProperty("--radix-popper-anchor-height",`${Ei}px`)}}),S&&l3({element:S,padding:l}),g3({arrowWidth:k,arrowHeight:N}),p&&o3({strategy:"referenceHidden",...H})]}),[T,j]=UR(U),M=qn(g);Zt(()=>{B&&(M==null||M())},[B,M]);const $=(V=R.arrow)==null?void 0:V.x,P=(oe=R.arrow)==null?void 0:oe.y,Q=((le=R.arrow)==null?void 0:le.centerOffset)!==0,[K,J]=x.useState();return Zt(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(ue=R.transformOrigin)==null?void 0:ue.x,(ve=R.transformOrigin)==null?void 0:ve.y].join(" "),...((Pe=R.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(f3,{scope:n,placedSide:T,onArrowChange:E,arrowX:$,arrowY:P,shouldHideArrow:Q,children:o.jsx(ge.div,{"data-side":T,"data-align":j,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});LR.displayName=xb;var MR="PopperArrow",p3={top:"bottom",right:"left",bottom:"top",left:"right"},$R=x.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=h3(MR,r),a=p3[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(u3,{...i,ref:n,style:{...i.style,display:"block"}})})});$R.displayName=MR;function m3(e){return e!==null}var g3=e=>({name:"transformOrigin",options:e,fn(t){var w,v,y;const{placement:n,rects:r,middlewareData:i}=t,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=UR(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,h=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?f:`${p}px`,m=`${-c}px`):u==="top"?(g=a?f:`${p}px`,m=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?f:`${h}px`):u==="left"&&(g=`${r.floating.width+c}px`,m=a?f:`${h}px`),{data:{x:g,y:m}}}});function UR(e){const[t,n="center"]=e.split("-");return[t,n]}var bb=IR,wb=FR,Sb=LR,_b=$R,[Sp,cie]=dr("Tooltip",[Ll]),_p=Ll(),zR="TooltipProvider",v3=700,ey="tooltip.open",[y3,jb]=Sp(zR),BR=e=>{const{__scopeTooltip:t,delayDuration:n=v3,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(y3,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};BR.displayName=zR;var mu="Tooltip",[x3,jp]=Sp(mu),HR=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,c=jb(mu,e.__scopeTooltip),u=_p(t),[d,f]=x.useState(null),p=Vr(),h=x.useRef(0),g=a??c.disableHoverableContent,m=l??c.delayDuration,w=x.useRef(!1),[v,y]=Ki({prop:r,defaultProp:i??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(ey))):c.onClose(),s==null||s(k)},caller:mu}),b=x.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),S=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w.current=!1,y(!0)},[y]),E=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),_=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{w.current=!0,y(!0),h.current=0},m)},[m,y]);return x.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),o.jsx(bb,{...u,children:o.jsx(x3,{scope:t,contentId:p,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?_():S()},[c.isOpenDelayedRef,_,S]),onTriggerLeave:x.useCallback(()=>{g?E():(window.clearTimeout(h.current),h.current=0)},[E,g]),onOpen:S,onClose:E,disableHoverableContent:g,children:n})})};HR.displayName=mu;var ty="TooltipTrigger",qR=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=jp(ty,n),s=jb(ty,n),a=_p(n),l=x.useRef(null),c=Le(t,l,i.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(wb,{asChild:!0,...a,children:o.jsx(ge.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:re(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:re(e.onBlur,i.onClose),onClick:re(e.onClick,i.onClose)})})});qR.displayName=ty;var b3="TooltipPortal",[uie,w3]=Sp(b3,{forceMount:void 0}),bl="TooltipContent",WR=x.forwardRef((e,t)=>{const n=w3(bl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=jp(bl,e.__scopeTooltip);return o.jsx(Nr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(VR,{side:i,...s,ref:t}):o.jsx(S3,{side:i,...s,ref:t})})}),S3=x.forwardRef((e,t)=>{const n=jp(bl,e.__scopeTooltip),r=jb(bl,e.__scopeTooltip),i=x.useRef(null),s=Le(t,i),[a,l]=x.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,p=x.useCallback(()=>{l(null),f(!1)},[f]),h=x.useCallback((g,m)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},y=C3(v,w.getBoundingClientRect()),b=R3(v,y),S=P3(m.getBoundingClientRect()),E=T3([...b,...S]);l(E),f(!0)},[f]);return x.useEffect(()=>()=>p(),[p]),x.useEffect(()=>{if(c&&d){const g=w=>h(w,d),m=w=>h(w,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,h,p]),x.useEffect(()=>{if(a){const g=m=>{const w=m.target,v={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!N3(v,a);y?p():b&&(p(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,p]),o.jsx(VR,{...e,ref:s})}),[_3,j3]=Sp(mu,{isInside:!1}),E3=NC("TooltipContent"),VR=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,c=jp(bl,n),u=_p(n),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(ey,d),()=>document.removeEventListener(ey,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Ol,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Sb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(E3,{children:r}),o.jsx(_3,{scope:n,isInside:!0,children:o.jsx(JL,{id:c.contentId,role:"tooltip",children:i||r})})]})})});WR.displayName=bl;var QR="TooltipArrow",k3=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=_p(n);return j3(QR,n).isInside?null:o.jsx(_b,{...i,...r,ref:t})});k3.displayName=QR;function C3(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function R3(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function P3(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function N3(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(i=!i)}return i}function T3(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),A3(t)}function A3(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var O3=BR,I3=HR,D3=qR,KR=WR;const da=O3,uo=I3,fo=D3,fa=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(KR,{ref:r,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));fa.displayName=KR.displayName;var Ep=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kp=typeof window>"u"||"Deno"in globalThis;function Mr(){}function F3(e,t){return typeof e=="function"?e(t):e}function L3(e){return typeof e=="number"&&e>=0&&e!==1/0}function M3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ny(e,t){return typeof e=="function"?e(t):e}function $3(e,t){return typeof e=="function"?e(t):e}function ZS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Eb(a,t.options))return!1}else if(!vu(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function e_(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(gu(t.options.mutationKey)!==gu(s))return!1}else if(!vu(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Eb(e,t){return((t==null?void 0:t.queryKeyHashFn)||gu)(e)}function gu(e){return JSON.stringify(e,(t,n)=>ry(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function vu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vu(e[n],t[n])):!1}function GR(e,t){if(e===t)return e;const n=t_(e)&&t_(t);if(n||ry(e)&&ry(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:s[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=GR(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return i===a&&u===i?e:l}return t}function t_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ry(e){if(!n_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!n_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function n_(e){return Object.prototype.toString.call(e)==="[object Object]"}function U3(e){return new Promise(t=>{setTimeout(t,e)})}function z3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GR(e,t):t}function B3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function H3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var kb=Symbol();function YR(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===kb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Sa,Ss,rl,oE,q3=(oE=class extends Ep{constructor(){super();ze(this,Sa);ze(this,Ss);ze(this,rl);_e(this,rl,t=>{if(!kp&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Ss)||this.setEventListener(W(this,rl))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ss))==null||t.call(this),_e(this,Ss,void 0))}setEventListener(t){var n;_e(this,rl,t),(n=W(this,Ss))==null||n.call(this),_e(this,Ss,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,Sa)!==t&&(_e(this,Sa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,Sa)=="boolean"?W(this,Sa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Sa=new WeakMap,Ss=new WeakMap,rl=new WeakMap,oE),XR=new q3,il,_s,sl,lE,W3=(lE=class extends Ep{constructor(){super();ze(this,il,!0);ze(this,_s);ze(this,sl);_e(this,sl,t=>{if(!kp&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,_s)||this.setEventListener(W(this,sl))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,_s))==null||t.call(this),_e(this,_s,void 0))}setEventListener(t){var n;_e(this,sl,t),(n=W(this,_s))==null||n.call(this),_e(this,_s,t(this.setOnline.bind(this)))}setOnline(t){W(this,il)!==t&&(_e(this,il,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,il)}},il=new WeakMap,_s=new WeakMap,sl=new WeakMap,lE),Nh=new W3;function V3(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function Q3(e){return Math.min(1e3*2**e,3e4)}function JR(e){return(e??"online")==="online"?Nh.isOnline():!0}var ZR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eP(e){let t=!1,n=0,r;const i=V3(),s=()=>i.status!=="pending",a=m=>{var w;s()||(p(new ZR(m)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>XR.isFocused()&&(e.networkMode==="always"||Nh.isOnline())&&e.canRun(),d=()=>JR(e.networkMode)&&e.canRun(),f=m=>{s()||(r==null||r(),i.resolve(m))},p=m=>{s()||(r==null||r(),i.reject(m))},h=()=>new Promise(m=>{var w;r=v=>{(s()||u())&&m(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;r=void 0,s()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(s())return;let m;const w=n===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var _;if(s())return;const y=e.retry??(kp?0:3),b=e.retryDelay??Q3,S=typeof b=="function"?b(n,v):b,E=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!E){p(v);return}n++,(_=e.onFail)==null||_.call(e,n,v),U3(S).then(()=>u()?void 0:h()).then(()=>{t?p(v):g()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():h().then(g),i)}}var K3=e=>setTimeout(e,0);function G3(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=K3;const s=l=>{t?e.push(l):i(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var En=G3(),_a,cE,tP=(cE=class{constructor(){ze(this,_a)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),L3(this.gcTime)&&_e(this,_a,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kp?1/0:5*60*1e3))}clearGcTimeout(){W(this,_a)&&(clearTimeout(W(this,_a)),_e(this,_a,void 0))}},_a=new WeakMap,cE),al,ol,gr,ja,Bt,td,Ea,$r,Ai,uE,Y3=(uE=class extends tP{constructor(t){super();ze(this,$r);ze(this,al);ze(this,ol);ze(this,gr);ze(this,ja);ze(this,Bt);ze(this,td);ze(this,Ea);_e(this,Ea,!1),_e(this,td,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,ja,t.client),_e(this,gr,W(this,ja).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,al,J3(this.options)),this.state=t.state??W(this,al),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,Bt))==null?void 0:t.promise}setOptions(t){this.options={...W(this,td),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,gr).remove(this)}setData(t,n){const r=z3(this.state.data,t,this.options);return nn(this,$r,Ai).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){nn(this,$r,Ai).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=W(this,Bt))==null?void 0:r.promise;return(i=W(this,Bt))==null||i.cancel(t),n?n.then(Mr).catch(Mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,al))}isActive(){return this.observers.some(t=>$3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ny(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!M3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,Bt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,Bt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,Bt)&&(W(this,Ea)?W(this,Bt).cancel({revert:!0}):W(this,Bt).cancelRetry()),this.scheduleGc()),W(this,gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nn(this,$r,Ai).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,p,h,g,m,w,v,y,b;if(this.state.fetchStatus!=="idle"&&((c=W(this,Bt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,Bt))return W(this,Bt).continueRetry(),W(this,Bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(E=>E.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(_e(this,Ea,!0),r.signal)})},s=()=>{const S=YR(this.options,n),_=(()=>{const k={client:W(this,ja),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return _e(this,Ea,!1),this.options.persister?this.options.persister(S,_,this):S(_)},l=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,ja),state:this.state,fetchFn:s};return i(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),_e(this,ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&nn(this,$r,Ai).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),_e(this,Bt,eP({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onFail:(S,E)=>{nn(this,$r,Ai).call(this,{type:"failed",failureCount:S,error:E})},onPause:()=>{nn(this,$r,Ai).call(this,{type:"pause"})},onContinue:()=>{nn(this,$r,Ai).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await W(this,Bt).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(h=(p=W(this,gr).config).onSuccess)==null||h.call(p,S,this),(m=(g=W(this,gr).config).onSettled)==null||m.call(g,S,this.state.error,this),S}catch(S){if(S instanceof ZR){if(S.silent)return W(this,Bt).promise;if(S.revert)return this.setState({...W(this,ol),fetchStatus:"idle"}),this.state.data}throw nn(this,$r,Ai).call(this,{type:"error",error:S}),(v=(w=W(this,gr).config).onError)==null||v.call(w,S,this),(b=(y=W(this,gr).config).onSettled)==null||b.call(y,this.state.data,S,this),S}finally{this.scheduleGc()}}},al=new WeakMap,ol=new WeakMap,gr=new WeakMap,ja=new WeakMap,Bt=new WeakMap,td=new WeakMap,Ea=new WeakMap,$r=new WeakSet,Ai=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...X3(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _e(this,ol,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,gr).notify({query:this,type:"updated",action:t})})},uE);function X3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function J3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ui,dE,Z3=(dE=class extends Ep{constructor(t={}){super();ze(this,ui);this.config=t,_e(this,ui,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Eb(i,n);let a=this.get(s);return a||(a=new Y3({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){W(this,ui).has(t.queryHash)||(W(this,ui).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,ui).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,ui).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,ui).get(t)}getAll(){return[...W(this,ui).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ZS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ZS(t,r)):n}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ui=new WeakMap,dE),di,Sn,ka,fi,hs,fE,e5=(fE=class extends tP{constructor(t){super();ze(this,fi);ze(this,di);ze(this,Sn);ze(this,ka);this.mutationId=t.mutationId,_e(this,Sn,t.mutationCache),_e(this,di,[]),this.state=t.state||t5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,di).includes(t)||(W(this,di).push(t),this.clearGcTimeout(),W(this,Sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,di,W(this,di).filter(n=>n!==t)),this.scheduleGc(),W(this,Sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,di).length||(this.state.status==="pending"?this.scheduleGc():W(this,Sn).remove(this))}continue(){var t;return((t=W(this,ka))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,l,c,u,d,f,p,h,g,m,w,v,y,b,S,E,_,k,N;const n=()=>{nn(this,fi,hs).call(this,{type:"continue"})};_e(this,ka,eP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,C)=>{nn(this,fi,hs).call(this,{type:"failed",failureCount:I,error:C})},onPause:()=>{nn(this,fi,hs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Sn).canRun(this)}));const r=this.state.status==="pending",i=!W(this,ka).canStart();try{if(r)n();else{nn(this,fi,hs).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(s=W(this,Sn).config).onMutate)==null?void 0:a.call(s,t,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));C!==this.state.context&&nn(this,fi,hs).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const I=await W(this,ka).start();return await((d=(u=W(this,Sn).config).onSuccess)==null?void 0:d.call(u,I,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,t,this.state.context)),await((g=(h=W(this,Sn).config).onSettled)==null?void 0:g.call(h,I,null,this.state.variables,this.state.context,this)),await((w=(m=this.options).onSettled)==null?void 0:w.call(m,I,null,t,this.state.context)),nn(this,fi,hs).call(this,{type:"success",data:I}),I}catch(I){try{throw await((y=(v=W(this,Sn).config).onError)==null?void 0:y.call(v,I,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,I,t,this.state.context)),await((_=(E=W(this,Sn).config).onSettled)==null?void 0:_.call(E,void 0,I,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,I,t,this.state.context)),I}finally{nn(this,fi,hs).call(this,{type:"error",error:I})}}finally{W(this,Sn).runNext(this)}}},di=new WeakMap,Sn=new WeakMap,ka=new WeakMap,fi=new WeakSet,hs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{W(this,di).forEach(r=>{r.onMutationUpdate(t)}),W(this,Sn).notify({mutation:this,type:"updated",action:t})})},fE);function t5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,Ur,nd,hE,n5=(hE=class extends Ep{constructor(t={}){super();ze(this,$i);ze(this,Ur);ze(this,nd);this.config=t,_e(this,$i,new Set),_e(this,Ur,new Map),_e(this,nd,0)}build(t,n,r){const i=new e5({mutationCache:this,mutationId:++Md(this,nd)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){W(this,$i).add(t);const n=of(t);if(typeof n=="string"){const r=W(this,Ur).get(n);r?r.push(t):W(this,Ur).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,$i).delete(t)){const n=of(t);if(typeof n=="string"){const r=W(this,Ur).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&W(this,Ur).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=of(t);if(typeof n=="string"){const r=W(this,Ur).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=of(t);if(typeof n=="string"){const i=(r=W(this,Ur).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){En.batch(()=>{W(this,$i).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,$i).clear(),W(this,Ur).clear()})}getAll(){return Array.from(W(this,$i))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>e_(n,r))}findAll(t={}){return this.getAll().filter(n=>e_(t,n))}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(t.map(n=>n.continue().catch(Mr))))}},$i=new WeakMap,Ur=new WeakMap,nd=new WeakMap,hE);function of(e){var t;return(t=e.options.scope)==null?void 0:t.id}function r_(e){return{onFetch:(t,n)=>{var d,f,p,h,g;const r=t.options,i=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=YR(t.options,t.fetchOptions),y=async(b,S,E)=>{if(m)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:S,direction:E?"backward":"forward",meta:t.options.meta};return w(D),D})(),N=await v(k),{maxPages:I}=t.options,C=E?H3:B3;return{pages:C(b.pages,N,I),pageParams:C(b.pageParams,S,I)}};if(i&&s.length){const b=i==="backward",S=b?r5:i_,E={pages:s,pageParams:a},_=S(r,E);l=await y(E,_,b)}else{const b=e??s.length;do{const S=c===0?a[0]??r.initialPageParam:i_(r,l);if(c>0&&S==null)break;l=await y(l,S),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function i_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function r5(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var mt,js,Es,ll,cl,ks,ul,dl,pE,i5=(pE=class{constructor(e={}){ze(this,mt);ze(this,js);ze(this,Es);ze(this,ll);ze(this,cl);ze(this,ks);ze(this,ul);ze(this,dl);_e(this,mt,e.queryCache||new Z3),_e(this,js,e.mutationCache||new n5),_e(this,Es,e.defaultOptions||{}),_e(this,ll,new Map),_e(this,cl,new Map),_e(this,ks,0)}mount(){Md(this,ks)._++,W(this,ks)===1&&(_e(this,ul,XR.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,mt).onFocus())})),_e(this,dl,Nh.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,mt).onOnline())})))}unmount(){var e,t;Md(this,ks)._--,W(this,ks)===0&&((e=W(this,ul))==null||e.call(this),_e(this,ul,void 0),(t=W(this,dl))==null||t.call(this),_e(this,dl,void 0))}isFetching(e){return W(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,js).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=W(this,mt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ny(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return W(this,mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=W(this,mt).get(r.queryHash),s=i==null?void 0:i.state.data,a=F3(t,s);if(a!==void 0)return W(this,mt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return En.batch(()=>W(this,mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,mt);En.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,mt);return En.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=En.batch(()=>W(this,mt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Mr).catch(Mr)}invalidateQueries(e,t={}){return En.batch(()=>(W(this,mt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=En.batch(()=>W(this,mt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Mr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Mr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,mt).build(this,t);return n.isStaleByTime(ny(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mr).catch(Mr)}fetchInfiniteQuery(e){return e.behavior=r_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mr).catch(Mr)}ensureInfiniteQueryData(e){return e.behavior=r_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nh.isOnline()?W(this,js).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,mt)}getMutationCache(){return W(this,js)}getDefaultOptions(){return W(this,Es)}setDefaultOptions(e){_e(this,Es,e)}setQueryDefaults(e,t){W(this,ll).set(gu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,ll).values()],n={};return t.forEach(r=>{vu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){W(this,cl).set(gu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,cl).values()],n={};return t.forEach(r=>{vu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Eb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===kb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,mt).clear(),W(this,js).clear()}},mt=new WeakMap,js=new WeakMap,Es=new WeakMap,ll=new WeakMap,cl=new WeakMap,ks=new WeakMap,ul=new WeakMap,dl=new WeakMap,pE),s5=x.createContext(void 0),a5=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(s5.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yu.apply(this,arguments)}var Ps;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ps||(Ps={}));const s_="popstate";function o5(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return iy("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Th(i)}return c5(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l5(){return Math.random().toString(36).substr(2,8)}function a_(e,t){return{usr:e.state,key:e.key,idx:t}}function iy(e,t,n,r){return n===void 0&&(n=null),yu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ml(t):t,{state:n,key:t&&t.key||r||l5()})}function Th(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ml(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function c5(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Ps.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(yu({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Ps.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:m.location,delta:v})}function p(w,v){l=Ps.Push;let y=iy(m.location,w,v);u=d()+1;let b=a_(y,u),S=m.createHref(y);try{a.pushState(b,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&c&&c({action:l,location:m.location,delta:1})}function h(w,v){l=Ps.Replace;let y=iy(m.location,w,v);u=d();let b=a_(y,u),S=m.createHref(y);a.replaceState(b,"",S),s&&c&&c({action:l,location:m.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:Th(w);return y=y.replace(/ $/,"%20"),St(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return l},get location(){return e(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(s_,f),c=w,()=>{i.removeEventListener(s_,f),c=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(w){return a.go(w)}};return m}var o_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(o_||(o_={}));function u5(e,t,n){return n===void 0&&(n="/"),d5(e,t,n)}function d5(e,t,n,r){let i=typeof t=="string"?Ml(t):t,s=Cb(i.pathname||"/",n);if(s==null)return null;let a=rP(e);f5(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=j5(s);l=w5(a[c],u)}return l}function rP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ms([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(St(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rP(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:x5(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of iP(s.path))i(s,a,c)}),t}function iP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=iP(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function f5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:b5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h5=/^:[\w-]+$/,p5=3,m5=2,g5=1,v5=10,y5=-2,l_=e=>e==="*";function x5(e,t){let n=e.split("/"),r=n.length;return n.some(l_)&&(r+=y5),t&&(r+=m5),n.filter(i=>!l_(i)).reduce((i,s)=>i+(h5.test(s)?p5:s===""?g5:v5),r)}function b5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function w5(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=S5({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Ms([s,f.pathname]),pathnameBase:R5(Ms([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Ms([s,f.pathnameBase]))}return a}function S5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let m=l[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return h&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function _5(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function j5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function E5(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ml(e):e;return{pathname:n?n.startsWith("/")?n:k5(n,t):t,search:P5(r),hash:N5(i)}}function k5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rb(e,t){let n=C5(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pb(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ml(e):(i=yu({},e),St(!i.pathname||!i.pathname.includes("?"),Jm("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Jm("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Jm("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=E5(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ms=e=>e.join("/").replace(/\/\/+/g,"/"),R5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sP=["post","put","patch","delete"];new Set(sP);const A5=["get",...sP];new Set(A5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(this,arguments)}const Nb=x.createContext(null),O5=x.createContext(null),Gs=x.createContext(null),Cp=x.createContext(null),Ys=x.createContext({outlet:null,matches:[],isDataRoute:!1}),aP=x.createContext(null);function I5(e,t){let{relative:n}=t===void 0?{}:t;$l()||St(!1);let{basename:r,navigator:i}=x.useContext(Gs),{hash:s,pathname:a,search:l}=lP(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Ms([r,a])),i.createHref({pathname:c,search:l,hash:s})}function $l(){return x.useContext(Cp)!=null}function Xs(){return $l()||St(!1),x.useContext(Cp).location}function oP(e){x.useContext(Gs).static||x.useLayoutEffect(e)}function Ga(){let{isDataRoute:e}=x.useContext(Ys);return e?Q5():D5()}function D5(){$l()||St(!1);let e=x.useContext(Nb),{basename:t,future:n,navigator:r}=x.useContext(Gs),{matches:i}=x.useContext(Ys),{pathname:s}=Xs(),a=JSON.stringify(Rb(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return oP(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Pb(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ms([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}function lP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Gs),{matches:i}=x.useContext(Ys),{pathname:s}=Xs(),a=JSON.stringify(Rb(i,r.v7_relativeSplatPath));return x.useMemo(()=>Pb(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function F5(e,t){return L5(e,t)}function L5(e,t,n,r){$l()||St(!1);let{navigator:i}=x.useContext(Gs),{matches:s}=x.useContext(Ys),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Xs(),d;if(t){var f;let w=typeof t=="string"?Ml(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||St(!1),d=w}else d=u;let p=d.pathname||"/",h=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=u5(e,{pathname:h}),m=B5(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ms([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ms([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&m?x.createElement(Cp.Provider,{value:{location:xu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ps.Pop}},m):m}function M5(){let e=V5(),t=T5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const $5=x.createElement(M5,null);class U5 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Ys.Provider,{value:this.props.routeContext},x.createElement(aP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z5(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Nb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Ys.Provider,{value:t},r)}function B5(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||St(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:h}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let h,g=!1,m=null,w=null;n&&(h=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||$5,c&&(u<0&&p===0?(K5("route-fallback"),g=!0,w=null):u===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,p+1)),y=()=>{let b;return h?b=m:g?b=w:f.route.Component?b=x.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,x.createElement(z5,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?x.createElement(U5,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var cP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cP||{}),uP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uP||{});function H5(e){let t=x.useContext(Nb);return t||St(!1),t}function q5(e){let t=x.useContext(O5);return t||St(!1),t}function W5(e){let t=x.useContext(Ys);return t||St(!1),t}function dP(e){let t=W5(),n=t.matches[t.matches.length-1];return n.route.id||St(!1),n.route.id}function V5(){var e;let t=x.useContext(aP),n=q5(),r=dP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Q5(){let{router:e}=H5(cP.UseNavigateStable),t=dP(uP.UseNavigateStable),n=x.useRef(!1);return oP(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,xu({fromRouteId:t},s)))},[e,t])}const c_={};function K5(e,t,n){c_[e]||(c_[e]=!0)}function G5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fP(e){let{to:t,replace:n,state:r,relative:i}=e;$l()||St(!1);let{future:s,static:a}=x.useContext(Gs),{matches:l}=x.useContext(Ys),{pathname:c}=Xs(),u=Ga(),d=Pb(t,Rb(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Gn(e){St(!1)}function Y5(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ps.Pop,navigator:s,static:a=!1,future:l}=e;$l()&&St(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:a,future:xu({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Ml(r));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:g="default"}=r,m=x.useMemo(()=>{let w=Cb(d,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:h,key:g},navigationType:i}},[c,d,f,p,h,g,i]);return m==null?null:x.createElement(Gs.Provider,{value:u},x.createElement(Cp.Provider,{children:n,value:m}))}function X5(e){let{children:t,location:n}=e;return F5(sy(t),n)}new Promise(()=>{});function sy(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,sy(r.props.children,s));return}r.type!==Gn&&St(!1),!r.props.index||!r.props.children||St(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=sy(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(this,arguments)}function J5(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Z5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eU(e,t){return e.button===0&&(!t||t==="_self")&&!Z5(e)}function oy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function tU(e,t){let n=oy(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const nU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rU="6";try{window.__reactRouterVersion=rU}catch{}const iU="startTransition",u_=Xh[iU];function sU(e){let{basename:t,children:n,future:r,window:i}=e,s=x.useRef();s.current==null&&(s.current=o5({window:i,v5Compat:!0}));let a=s.current,[l,c]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=x.useCallback(f=>{u&&u_?u_(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.useEffect(()=>G5(r),[r]),x.createElement(Y5,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const aU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=J5(t,nU),{basename:h}=x.useContext(Gs),g,m=!1;if(typeof u=="string"&&oU.test(u)&&(g=u,aU))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),E=Cb(S.pathname,h);S.origin===b.origin&&E!=null?u=E+S.search+S.hash:m=!0}catch{}let w=I5(u,{relative:i}),v=lU(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||v(b)}return x.createElement("a",ay({},p,{href:g||w,onClick:m||s?r:y,ref:n,target:c}))});var d_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(d_||(d_={}));var f_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(f_||(f_={}));function lU(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ga(),u=Xs(),d=lP(e,{relative:a});return x.useCallback(f=>{if(eU(f,n)){f.preventDefault();let p=r!==void 0?r:Th(u)===Th(d);c(e,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,i,n,e,s,a,l])}function cU(e){let t=x.useRef(oy(e)),n=x.useRef(!1),r=Xs(),i=x.useMemo(()=>tU(r.search,n.current?null:t.current),[r.search]),s=Ga(),a=x.useCallback((l,c)=>{const u=oy(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,a]}const uU="modulepreload",dU=function(e){return"/"+e},h_={},pd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=dU(c),c in h_)return;h_[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":uU,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},fU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ul);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Tb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class hU extends Tb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class p_ extends Tb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class m_ extends Tb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ly;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ly||(ly={}));var pU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class mU{constructor(t,{headers:n={},customFetch:r,region:i=ly.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=fU(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return pU(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(m=>{throw new hU(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new p_(f);if(!f.ok)throw new m_(f);let h=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof m_||i instanceof p_?i.context:void 0}}})}}var Mn={},Ab={},Rp={},md={},Pp={},Np={},gU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wl=gU();const vU=wl.fetch,hP=wl.fetch.bind(wl),pP=wl.Headers,yU=wl.Request,xU=wl.Response,Ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:pP,Request:yU,Response:xU,default:hP,fetch:vU},Symbol.toStringTag,{value:"Module"})),bU=YI(Ul);var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});let wU=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Tp.default=wU;var mP=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Np,"__esModule",{value:!0});const SU=mP(bU),_U=mP(Tp);let jU=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=SU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,p=s.status,h=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,p=200,h="OK")}catch{s.status===404&&m===""?(p=204,h="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,h="OK"),u&&this.shouldThrowOnError)throw new _U.default(u)}return{error:u,data:d,count:f,status:p,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Np.default=jU;var EU=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pp,"__esModule",{value:!0});const kU=EU(Np);let CU=class extends kU.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pp.default=CU;var RU=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});const PU=RU(Pp);let NU=class extends PU.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};md.default=NU;var TU=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rp,"__esModule",{value:!0});const oc=TU(md);let AU=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new oc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new oc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new oc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new oc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new oc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Rp.default=AU;var Ap={},Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.version=void 0;Op.version="0.0.0-automated";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.DEFAULT_HEADERS=void 0;const OU=Op;Ap.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${OU.version}`};var gP=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ab,"__esModule",{value:!0});const IU=gP(Rp),DU=gP(md),FU=Ap;let LU=class vP{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},FU.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new IU.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new DU.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ab.default=LU;var zl=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.PostgrestError=Mn.PostgrestBuilder=Mn.PostgrestTransformBuilder=Mn.PostgrestFilterBuilder=Mn.PostgrestQueryBuilder=Mn.PostgrestClient=void 0;const yP=zl(Ab);Mn.PostgrestClient=yP.default;const xP=zl(Rp);Mn.PostgrestQueryBuilder=xP.default;const bP=zl(md);Mn.PostgrestFilterBuilder=bP.default;const wP=zl(Pp);Mn.PostgrestTransformBuilder=wP.default;const SP=zl(Np);Mn.PostgrestBuilder=SP.default;const _P=zl(Tp);Mn.PostgrestError=_P.default;var MU=Mn.default={PostgrestClient:yP.default,PostgrestQueryBuilder:xP.default,PostgrestFilterBuilder:bP.default,PostgrestTransformBuilder:wP.default,PostgrestBuilder:SP.default,PostgrestError:_P.default};const{PostgrestClient:$U,PostgrestQueryBuilder:gie,PostgrestFilterBuilder:vie,PostgrestTransformBuilder:yie,PostgrestBuilder:xie,PostgrestError:bie}=MU;class UU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zU="2.15.1",BU=`realtime-js/${zU}`,HU="1.0.0",cy=1e4,qU=1e3,WU=100;var Mc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mc||(Mc={}));var Nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nt||(Nt={}));var Br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Br||(Br={}));var uy;(function(e){e.websocket="websocket"})(uy||(uy={}));var ma;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ma||(ma={}));class VU{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class jP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const g_=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=QU(a,e,t,i),s),{})},QU=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?EP(s,a):dy(a)},EP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return XU(t,n)}switch(e){case Ze.bool:return KU(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return GU(t);case Ze.json:case Ze.jsonb:return YU(t);case Ze.timestamp:return JU(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return dy(t);default:return dy(t)}},dy=e=>e,KU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>EP(t,l))}return e},JU=e=>typeof e=="string"?e.replace(" ","T"):e,kP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Zm{constructor(t,n,r={},i=cy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var v_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(v_||(v_={}));class $c{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$c.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=$c.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$c.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const p=d.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),g=d.filter(w=>h.indexOf(w.presence_ref)<0),m=f.filter(w=>p.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[l].unshift(...p)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(y_||(y_={}));var Uc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Uc||(Uc={}));var Li;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Li||(Li={}));class Ob{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zm(this,Br.join,this.params,this.timeout),this.rejoinTimer=new jP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Br.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new $c(this),this.broadcastEndpointURL=kP(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Uc.PRESENCE]&&this.bindings[Uc.PRESENCE].length>0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Li.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Li.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var h;if(this.socket.setAuth(),p===void 0){t==null||t(Li.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,w=[];for(let v=0;v<m;v++){const y=g[v],{filter:{event:b,schema:S,table:E,filter:_}}=y,k=p&&p[v];if(k&&k.event===b&&k.schema===S&&k.table===E&&k.filter===_)w.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),this.state=Nt.errored,t==null||t(Li.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Li.SUBSCRIBED);return}}).receive("error",p=>{this.state=Nt.errored,t==null||t(Li.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Li.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Nt.joined&&t===Uc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Zm(this,Br.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zm(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>WU){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Br;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,m,w;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(m=h.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(s=this.bindings[a])===null||s===void 0||s.filter(h=>{var g,m,w,v,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const S=h.id,E=(g=h.filter)===null||g===void 0?void 0:g.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(y=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:w,commit_timestamp:v,type:y,errors:b}=g;p=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}h.callback(p,r)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ob.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Br.close,{},t)}_onError(t){this._on(Br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=g_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=g_(t.columns,t.old_record)),n}}const x_=()=>{},lf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZU=[1e3,2e3,5e3,1e4],ez=1e4,tz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nz{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cy,this.transport=null,this.heartbeatIntervalMs=lf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=x_,this.ref=0,this.reconnectTimer=null,this.logger=x_,this.conn=null,this.sendBuffer=[],this.serializer=new VU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>pd(async()=>{const{default:l}=await Promise.resolve().then(()=>Ul);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${uy.websocket}`,this.httpEndpoint=kP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HU}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mc.connecting:return ma.Connecting;case Mc.open:return ma.Open;case Mc.closing:return ma.Closing;default:return ma.Closed}}isConnected(){return this.connectionState()===ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Ob(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qU,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},lf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,l=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([tz],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:BU};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,l,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:cy,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:lf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>ZU[d-1]||ez,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ib extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rz extends Ib{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fy extends Ib{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var iz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const CP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ul);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sz=()=>iz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pd(()=>Promise.resolve().then(()=>Ul),void 0)).Response:Response}),hy=e=>{if(Array.isArray(e))return e.map(n=>hy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=hy(r)}),t},az=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ya=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const eg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oz=(e,t,n)=>Ya(void 0,void 0,void 0,function*(){const r=yield sz();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new rz(eg(i),s,a))}).catch(i=>{t(new fy(eg(i),i))}):t(new fy(eg(e),e))}),lz=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(az(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function gd(e,t,n,r,i,s){return Ya(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,lz(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>oz(c,l,r))})})}function Ah(e,t,n,r){return Ya(this,void 0,void 0,function*(){return gd(e,"GET",t,n,r)})}function li(e,t,n,r,i){return Ya(this,void 0,void 0,function*(){return gd(e,"POST",t,r,i,n)})}function py(e,t,n,r,i){return Ya(this,void 0,void 0,function*(){return gd(e,"PUT",t,r,i,n)})}function cz(e,t,n,r){return Ya(this,void 0,void 0,function*(){return gd(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function RP(e,t,n,r,i){return Ya(this,void 0,void 0,function*(){return gd(e,"DELETE",t,r,i,n)})}var xn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const uz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dz{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=CP(i)}uploadOrUpdate(t,n,r,i){return xn(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},b_),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?py:li)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return xn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:b_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield py(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(Tt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return xn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield li(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new Ib("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}update(t,n,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return xn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return xn(this,void 0,void 0,function*(){try{return{data:{path:(yield li(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return xn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield li(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return xn(this,void 0,void 0,function*(){try{const i=yield li(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}download(t,n){return xn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ah(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}info(t){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ah(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:hy(r),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}exists(t){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cz(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Tt(r)&&r instanceof fy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return xn(this,void 0,void 0,function*(){try{return{data:yield RP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}list(t,n,r){return xn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uz),n),{prefix:t||""});return{data:yield li(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}listV2(t,n){return xn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield li(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const fz="2.11.0",hz={"X-Client-Info":`storage-js/${fz}`};var ho=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class pz{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},hz),n),this.fetch=CP(r)}listBuckets(){return ho(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}getBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ho(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ho(this,void 0,void 0,function*(){try{return{data:yield py(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield RP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}}class mz extends pz{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new dz(this.url,this.headers,t,this.fetch)}}const gz="2.55.0";let wc="";typeof Deno<"u"?wc="deno":typeof document<"u"?wc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wc="react-native":wc="node";const vz={"X-Client-Info":`supabase-js-${wc}/${gz}`},yz={headers:vz},xz={schema:"public"},bz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wz={};var Sz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const _z=e=>{let t;return e?t=e:typeof fetch>"u"?t=hP:t=fetch,(...n)=>t(...n)},jz=()=>typeof Headers>"u"?pP:Headers,Ez=(e,t,n)=>{const r=_z(n),i=jz();return(s,a)=>Sz(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var kz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Cz(e){return e.endsWith("/")?e:e+"/"}function Rz(e,t){var n,r;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>kz(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const PP="2.71.1",ko=30*1e3,my=3,tg=my*ko,Pz="http://localhost:9999",Nz="supabase.auth.token",Tz={"X-Client-Info":`gotrue-js/${PP}`},gy="X-Supabase-Api-Version",NP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Az=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oz=10*60*1e3;class Db extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Iz extends Db{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Dz(e){return je(e)&&e.name==="AuthApiError"}class TP extends Db{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Js extends Db{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ps extends Js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fz(e){return je(e)&&e.name==="AuthSessionMissingError"}class cf extends Js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uf extends Js{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class df extends Js{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lz(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class w_ extends Js{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vy extends Js{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ng(e){return je(e)&&e.name==="AuthRetryableFetchError"}class S_ extends Js{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yy extends Js{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),__=` 	
\r=`.split(""),Mz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<__.length;t+=1)e[__[t].charCodeAt(0)]=-2;for(let t=0;t<Oh.length;t+=1)e[Oh[t].charCodeAt(0)]=t;return e})();function j_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Oh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Oh[r]),t.queuedBits-=6}}function AP(e,t,n){const r=Mz[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function E_(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{zz(a,r,n)};for(let a=0;a<e.length;a+=1)AP(e.charCodeAt(a),i,s);return t.join("")}function $z(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Uz(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}$z(r,t)}}function zz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Bz(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)AP(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Hz(e){const t=[];return Uz(e,n=>t.push(n)),new Uint8Array(t)}function qz(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>j_(i,n,r)),j_(null,n,r),t.join("")}function Wz(e){return Math.round(Date.now()/1e3)+e}function Vz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dr=()=>typeof window<"u"&&typeof document<"u",sa={tested:!1,writable:!1},OP=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sa.tested)return sa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sa.tested=!0,sa.writable=!0}catch{sa.tested=!0,sa.writable=!1}return sa.writable};function Qz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const IP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ul);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Kz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Co=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},aa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ls=async(e,t)=>{await e.removeItem(t)};class Ip{constructor(){this.promise=new Ip.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ip.promiseConstructor=Promise;function rg(e){const t=e.split(".");if(t.length!==3)throw new yy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Az.test(t[r]))throw new yy("JWT not in base64url format");return{header:JSON.parse(E_(t[0])),payload:JSON.parse(E_(t[1])),signature:Bz(t[2]),raw:{header:t[0],payload:t[1]}}}async function Gz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Yz(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Xz(e){return("0"+e.toString(16)).substr(-2)}function Jz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Xz).join("")}async function Zz(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function e6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Zz(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function po(e,t,n=!1){const r=Jz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Co(e,`${t}-code-verifier`,i);const s=await e6(r);return[s,r===s?"plain":"s256"]}const t6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n6(e){const t=e.headers.get(gy);if(!t||!t.match(t6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function r6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function i6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const s6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mo(e){if(!s6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ig(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k_(e){return JSON.parse(JSON.stringify(e))}var a6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o6=[502,503,504];async function C_(e){var t;if(!Kz(e))throw new vy(ha(e),0);if(o6.includes(e.status))throw new vy(ha(e),e.status);let n;try{n=await e.json()}catch(s){throw new TP(ha(s),s)}let r;const i=n6(e);if(i&&i.getTime()>=NP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new S_(ha(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ps}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new S_(ha(n),e.status,n.weak_password.reasons);throw new Iz(ha(n),e.status||500,r)}const l6=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ae(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[gy]||(s[gy]=NP["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await c6(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function c6(e,t,n,r,i,s){const a=l6(t,r,i,s);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new vy(ha(c),0)}if(l.ok||await C_(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await C_(c)}}function Oi(e){var t;let n=null;h6(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Wz(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function R_(e){const t=Oi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function u6(e){return{data:e,error:null}}function d6(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=a6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function f6(e){return e}function h6(e){return e.access_token&&e.refresh_token&&e.expires_in}const sg=["global","local","others"];var p6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class m6{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=IP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=sg[0]){if(sg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=p6(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:d6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:f6});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){mo(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){mo(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:bs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){mo(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:bs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){mo(t.userId);try{const{data:n,error:r}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(t){mo(t.userId),mo(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}function P_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function g6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const go={debug:!!(globalThis&&OP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class v6 extends DP{}async function y6(e,t,n){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new v6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(go.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}g6();const x6={url:Pz,storageKey:Nz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function N_(e,t,n){return await n()}const vo={};class bu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bu.nextInstanceID,bu.nextInstanceID+=1,this.instanceID>0&&Dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},x6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new m6({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=IP(i.fetch),this.lock=i.lock||N_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Dr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=y6:this.lock=N_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:OP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=P_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=P_(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=vo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Qz(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Dr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Lz(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return je(n)?{error:n}:{error:new TP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Oi}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await po(this.storage,this.storageKey)),s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:Oi})}else if("phone"in t){const{phone:d,password:f,options:p}=t;s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Oi})}else throw new uf("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:l}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:R_})}else if("phone"in t){const{phone:s,password:a,options:l}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:R_})}else throw new uf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,l,c,u,d,f,p,h;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:w,wallet:v,statement:y,options:b}=t;let S;if(Dr())if(typeof v=="object")S=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const E=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),y?{statement:y}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:w,error:v}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:qz(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Oi});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new cf}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(je(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await aa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Oi});if(await ls(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new cf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(je(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Oi}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await po(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new uf("You must provide either an email or phone number.")}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Oi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await po(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:u6})}catch(s){if(je(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ps;const{error:i}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:l}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new uf("You must provide either an email or phone number and a type")}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<tg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await aa(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ig()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:bs})})}catch(n){if(je(n))return Fz(n)&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ps;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await po(this.storage,this.storageKey));const{data:u,error:d}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:bs});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ps;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=rg(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ps;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Dr())throw new df("No browser detected.");if(t.error||t.error_description||t.error_code)throw new df(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new w_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new df("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w_("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new df("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const h=p-d;h*1e3<=ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:w}=await this._getUser(s);if(w)throw w;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:p,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await aa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Dz(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Vz(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await po(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(je(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:p}=s;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Dr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(je(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Yz(async i=>(i>0&&await Gz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Oi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ng(s)&&Date.now()+a-r<ko})}catch(r){if(this._debug(n,"error",r),je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Dr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await aa(this.storage,this.storageKey);if(i&&this.userStorage){let a=await aa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Co(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ig()}else if(i&&!i.user&&!i.user){const a=await aa(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ls(this.storage,this.storageKey+"-user"),await Co(this.storage,this.storageKey,i)):i.user=ig()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${tg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ng(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ip;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ps;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),je(s)){const a={session:null,error:s};return ng(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Co(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=k_(i);await Co(this.storage,this.storageKey,s)}else{const i=k_(n);await Co(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ls(this.storage,this.storageKey),await ls(this.storage,this.storageKey+"-code-verifier"),await ls(this.storage,this.storageKey+"-user"),this.userStorage&&await ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ko);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ko}ms, refresh threshold is ${my} ticks`),i<=my&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await po(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rg(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Oz>i)return r;const{data:s,error:a}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};r=h.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=rg(r);n!=null&&n.allowExpired||r6(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:s,header:i,signature:a},error:null}}const d=i6(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Hz(`${l}.${c}`)))throw new yy("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}bu.nextInstanceID=0;const b6=bu;class w6 extends b6{constructor(t){super(t)}}var S6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class _6{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Cz(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:xz,realtime:wz,auth:Object.assign(Object.assign({},bz),{storageKey:u}),global:yz},f=Rz(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Ez(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new $U(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new mz(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new mU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return S6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w6({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new nz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j6=(e,t,n)=>new _6(e,t,n);function E6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}E6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const k6="https://wrodvaatdujbpfpvrzge.supabase.co",C6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",R6=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage}catch{}},Y=j6(k6,C6,{auth:{storage:R6(),persistSession:!0,autoRefreshToken:!0}}),FP=x.createContext(void 0),ht=()=>{const e=x.useContext(FP);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},P6=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(null),[s,a]=x.useState(!0);x.useEffect(()=>{const{data:{subscription:f}}=Y.auth.onAuthStateChange(async(p,h)=>{i(h),n((h==null?void 0:h.user)??null),h!=null&&h.user&&setTimeout(async()=>{try{const{data:g,error:m}=await Y.from("users").select("workspace_id").eq("user_id",h.user.id).single();if(m){if(m.code!=="PGRST116"){const y=`auth_user_fetch_error_${m.code}_${h.user.id}`;sessionStorage.getItem(y)||(console.error("Error fetching user in auth:",m),sessionStorage.setItem(y,"logged"))}return}if(!g)return;const{data:w,error:v}=await Y.from("workspaces").select("plan_type").eq("id",g.workspace_id).single();if(v||!w)return;if(w.plan_type==="freemium"){const{data:y,error:b}=await Y.from("workspace_trials").select("expires_at").eq("workspace_id",g.workspace_id).single();!b&&y&&new Date(y.expires_at)<=new Date&&await Y.auth.signOut()}}catch(g){const m=`auth_trial_check_error_${h.user.id}`;sessionStorage.getItem(m)||(console.error("Error checking trial status:",g),sessionStorage.setItem(m,"logged"))}},0),a(!1)});return Y.auth.getSession().then(({data:{session:p}})=>{i(p),n((p==null?void 0:p.user)??null),a(!1)}),()=>f.unsubscribe()},[]);const l=async()=>{const{error:f}=await Y.auth.signOut();if(f)throw console.error("Error signing out:",f),f},c=async(f,p)=>{const{data:h,error:g}=await Y.auth.signInWithPassword({email:f,password:p});if(h!=null&&h.user&&!g)try{const{data:m,error:w}=await Y.from("users").select("workspace_id").eq("user_id",h.user.id).single();if(!w&&m){const{data:v,error:y}=await Y.from("workspaces").select("plan_type").eq("id",m.workspace_id).single();if(!y&&v&&v.plan_type==="freemium"){const{data:b,error:S}=await Y.from("workspace_trials").select("expires_at").eq("workspace_id",m.workspace_id).single();if(!S&&b&&new Date(b.expires_at)<=new Date)return await Y.auth.signOut(),{data:null,error:{message:"Votre priode d'essai est expire. Contactez notre quipe commerciale pour souscrire  un plan payant."}}}}}catch(m){console.error("Error checking trial status during login:",m)}return{data:h,error:g}},u=async(f,p,h)=>{const{data:g,error:m}=await Y.auth.signUp({email:f,password:p,options:{data:h}});return{data:g,error:m}},d=async()=>{const{data:f,error:p}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/search`}});return{data:f,error:p}};return o.jsx(FP.Provider,{value:{user:t,session:r,loading:s,signOut:l,signIn:c,signUp:u,signInWithGoogle:d},children:e})},LP=x.createContext(void 0),Fb=()=>{const e=x.useContext(LP);if(!e)throw new Error("useUser must be used within a UserProvider");return e},N6=({children:e})=>{const{user:t}=ht(),[n,r]=x.useState(null),[i,s]=x.useState(!0),a=async()=>{if(!t){r(null),s(!1);return}try{const{data:c,error:u}=await Y.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u)if(u.code==="PGRST116"){console.warn(`User ${t.id} exists in auth but not in public.users. This indicates data inconsistency.`),r(null),s(!1);return}else{const p=`user_fetch_error_${u.code}_${t.id}`;sessionStorage.getItem(p)||(console.error("Error fetching user profile:",u),sessionStorage.setItem(p,"logged")),r(null),s(!1);return}let d=null;try{const{data:p}=await Y.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single();d=p}catch{}const f={user_id:t.id,workspace_id:(c==null?void 0:c.workspace_id)||(d==null?void 0:d.workspace_id)||"",first_name:c==null?void 0:c.first_name,last_name:c==null?void 0:c.last_name,company:c==null?void 0:c.company,position:c==null?void 0:c.position,phone:c==null?void 0:c.phone,email:(c==null?void 0:c.email)||t.email||"",plan_type:c==null?void 0:c.plan_type,subscribed:c==null?void 0:c.subscribed,role:d==null?void 0:d.role};r(f)}catch(c){const u=`profile_fetch_error_${t.id}`;sessionStorage.getItem(u)||(console.error("Error in fetchProfile:",c),sessionStorage.setItem(u,"logged")),r(null)}s(!1)};x.useEffect(()=>{a()},[t]);const l=async()=>{s(!0),await a()};return o.jsx(LP.Provider,{value:{userProfile:n,loading:i,refreshProfile:l},children:e})},MP=x.createContext(void 0),_i=()=>{const e=x.useContext(MP);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},T6=({children:e})=>{const{user:t}=ht(),{userProfile:n,loading:r}=Fb(),[i,s]=x.useState(null),[a,l]=x.useState(!0),c=async()=>{if(!t){s(null),l(!1);return}if(r){l(!0);return}if(!n||!n.workspace_id||n.workspace_id.trim()===""){s(null),l(!1);return}try{const{data:d,error:f}=await Y.from("workspaces").select("*").eq("id",n.workspace_id).single();f?(console.error("Error fetching workspace:",f),s(null)):s(d)}catch(d){console.error("Error in fetchWorkspace:",d),s(null)}l(!1)};x.useEffect(()=>{c()},[t,n==null?void 0:n.workspace_id,r]);const u=async()=>{l(!0),await c()};return o.jsx(MP.Provider,{value:{currentWorkspace:i,loading:a,refreshWorkspace:u},children:e})},Bl=()=>{const{user:e}=ht(),{currentWorkspace:t}=_i(),[n,r]=x.useState([]),[i,s]=x.useState([]);x.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:f}=await Y.from("fe_sources").select("source_name").eq("access_level","standard").eq("is_global",!0);f&&s(f.map(h=>h.source_name));const{data:p}=await Y.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);p&&r(p.map(h=>h.source_name))}catch(f){console.error("Error fetching source data:",f)}})()},[e,t]);const a=x.useCallback(d=>!!e,[e]),l=x.useCallback(d=>!n.includes(d),[n]),c=x.useCallback(()=>!e||!t?!1:t.plan_type==="premium",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),u=x.useCallback((d,f)=>d?{variant:"secondary",label:"Workspace"}:null,[]);return{hasAccess:a,shouldBlurPremiumContent:l,getSourceLabel:u,canUseFavorites:c,user:e,currentWorkspace:t,standardSources:i,assignedSources:n}},$P=x.createContext(void 0),vd=()=>{const e=x.useContext($P);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},A6=({children:e})=>{const{user:t}=ht(),{canUseFavorites:n}=Bl(),[r,i]=x.useState([]),[s,a]=x.useState(!1),[l,c]=x.useState(0),u=3e4,d=x.useRef(0),f=x.useCallback((v,y)=>({id:y,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unit donne d'activit"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Primtre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),p=x.useCallback(async(v=!1)=>{if(!t||!n()){i([]),c(0),d.current=0;return}const y=Date.now();if(!(!v&&d.current&&y-d.current<u))try{a(!0);const{data:b,error:S}=await Y.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!b||b.length===0){i([]),c(y),d.current=y;return}const E=b.map(_=>_.item_data?f(_.item_data,_.item_id):null).filter(Boolean);i(E),c(y),d.current=y}catch(b){console.error("Error fetching favorites:",b)}finally{a(!1)}},[t,n,f]),h=x.useCallback(async v=>{if(!(!t||!n()))try{const{error:y}=await Y.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(y)throw y;i(b=>[...b,{...v,isFavorite:!0}]),c(0)}catch(y){throw console.error("Error adding to favorites:",y),y}},[t,n]),g=x.useCallback(async v=>{if(!(!t||!n()))try{i(b=>b.filter(S=>S.id!==v));const{error:y}=await Y.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(y)throw await p(!0),y;c(0)}catch(y){throw console.error("Error removing from favorites:",y),y}},[t,n,p]),m=x.useMemo(()=>new Set(r.map(v=>v.id)),[r]),w=x.useCallback(v=>m.has(v),[m]);return x.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{p()},100):(i([]),c(0)),()=>{v&&clearTimeout(v)}},[t,n,p]),x.useEffect(()=>{if(!t||!n())return;const v=Y.channel(`favorites-realtime-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"favorites",filter:`user_id=eq.${t.id}`},y=>{var b,S,E;try{if(y.eventType==="INSERT"&&((b=y.new)==null?void 0:b.item_type)==="emission_factor"){const _=f(y.new.item_data,y.new.item_id);i(k=>k.some(N=>N.id===_.id)?k:[...k,_])}if(y.eventType==="DELETE"){const _=(S=y.old)==null?void 0:S.item_id;_&&i(k=>k.filter(N=>N.id!==_))}if(y.eventType==="UPDATE"&&((E=y.new)==null?void 0:E.item_type)==="emission_factor"){const _=f(y.new.item_data,y.new.item_id);i(k=>k.map(N=>N.id===_.id?_:N))}}catch(_){console.error("favorites realtime handler error",_)}}).subscribe();return()=>{Y.removeChannel(v)}},[t,n,f]),o.jsx($P.Provider,{value:{favorites:r,loading:s,addToFavorites:h,removeFromFavorites:g,isFavorite:w,refreshFavorites:p},children:e})},O6=ud("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fn=x.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ae(O6({variant:t}),e),...n}));fn.displayName="Alert";const Ih=x.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:ae("mb-1 font-medium leading-none tracking-tight",e),...t}));Ih.displayName="AlertTitle";const hn=x.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("text-sm [&_p]:leading-relaxed",e),...t}));hn.displayName="AlertDescription";const Lb=ud("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?PL:"button";return o.jsx(a,{className:ae(Lb({variant:t,size:n,className:e})),ref:s,...i})});te.displayName="Button";const UP=()=>{const{user:e}=ht(),[t,n]=x.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return x.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const a=JSON.parse(s);n(a)}catch(a){console.error("Error parsing impersonation data:",a),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,a,l,c)=>{if(!e)return!1;try{const{data:u,error:d}=await Y.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(d)throw d;const f={isImpersonating:!0,impersonatedUser:{id:s,email:a,workspace_id:l,workspace_name:c},originalUser:e};return n(f),sessionStorage.setItem("impersonation_data",JSON.stringify(f)),u.access_token&&u.refresh_token&&await Y.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:a}=await Y.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(a)throw a;return s.access_token&&s.refresh_token&&await Y.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}},I6=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=UP(),{toast:r}=Dt();if(!e||!t)return null;const i=async()=>{await n()?(r({title:"Impersonation termine",description:"Vous tes de nouveau connect avec votre compte admin"}),window.location.href="/admin"):r({variant:"destructive",title:"Erreur",description:"Impossible de terminer l'impersonation"})};return o.jsxs(fn,{className:"bg-orange-50 border-orange-200 mb-4",children:[o.jsx(Gi,{className:"h-4 w-4 text-orange-600"}),o.jsxs(hn,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-orange-800",children:[o.jsx("strong",{children:"Mode Impersonation:"})," Vous tes connect en tant que"," ",o.jsx("strong",{children:t.email})," dans le workspace"," ",o.jsx("strong",{children:t.workspace_name})]}),o.jsxs(te,{variant:"outline",size:"sm",onClick:i,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[o.jsx(oR,{className:"h-4 w-4 mr-2"}),"Retour admin"]})]})]})},pe=x.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pe.displayName="Card";const we=x.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));we.displayName="CardHeader";const Se=x.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Se.displayName="CardTitle";const vt=x.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));vt.displayName="CardDescription";const me=x.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));me.displayName="CardContent";const D6=x.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));D6.displayName="CardFooter";var F6=x.createContext(void 0);function Dp(e){const t=x.useContext(F6);return e||t||"ltr"}var ag="rovingFocusGroup.onEntryFocus",L6={bubbles:!1,cancelable:!0},yd="RovingFocusGroup",[xy,zP,M6]=pp(yd),[$6,Fp]=dr(yd,[M6]),[U6,z6]=$6(yd),BP=x.forwardRef((e,t)=>o.jsx(xy.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(xy.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(B6,{...e,ref:t})})}));BP.displayName=yd;var B6=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=x.useRef(null),h=Le(t,p),g=Dp(s),[m,w]=Ki({prop:a,defaultProp:l??null,onChange:c,caller:yd}),[v,y]=x.useState(!1),b=qn(u),S=zP(n),E=x.useRef(!1),[_,k]=x.useState(0);return x.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(ag,b),()=>N.removeEventListener(ag,b)},[b]),o.jsx(U6,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:x.useCallback(N=>w(N),[w]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:x.useCallback(()=>k(N=>N-1),[]),children:o.jsx(ge.div,{tabIndex:v||_===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{E.current=!0}),onFocus:re(e.onFocus,N=>{const I=!E.current;if(N.target===N.currentTarget&&I&&!v){const C=new CustomEvent(ag,L6);if(N.currentTarget.dispatchEvent(C),!C.defaultPrevented){const D=S().filter(U=>U.focusable),O=D.find(U=>U.active),H=D.find(U=>U.id===m),F=[O,H,...D].filter(Boolean).map(U=>U.ref.current);WP(F,d)}}E.current=!1}),onBlur:re(e.onBlur,()=>y(!1))})})}),HP="RovingFocusGroupItem",qP=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=e,c=Vr(),u=s||c,d=z6(HP,n),f=d.currentTabStopId===u,p=zP(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=d;return x.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),o.jsx(xy.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:o.jsx(ge.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:re(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:re(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:re(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=W6(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=p().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const S=b.indexOf(w.currentTarget);b=d.loop?V6(b,S+1):b.slice(S+1)}setTimeout(()=>WP(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:m!=null}):a})})});qP.displayName=HP;var H6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function W6(e,t,n){const r=q6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H6[r]}function WP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function V6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var VP=BP,QP=qP,Lp="Tabs",[Q6,wie]=dr(Lp,[Fp]),KP=Fp(),[K6,Mb]=Q6(Lp),GP=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Dp(l),[f,p]=Ki({prop:r,onChange:i,defaultProp:s??"",caller:Lp});return o.jsx(K6,{scope:n,baseId:Vr(),value:f,onValueChange:p,orientation:a,dir:d,activationMode:c,children:o.jsx(ge.div,{dir:d,"data-orientation":a,...u,ref:t})})});GP.displayName=Lp;var YP="TabsList",XP=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=Mb(YP,n),a=KP(n);return o.jsx(VP,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(ge.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});XP.displayName=YP;var JP="TabsTrigger",ZP=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=Mb(JP,n),l=KP(n),c=nN(a.baseId,r),u=rN(a.baseId,r),d=r===a.value;return o.jsx(QP,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:re(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:re(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});ZP.displayName=JP;var eN="TabsContent",tN=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,l=Mb(eN,n),c=nN(l.baseId,r),u=rN(l.baseId,r),d=r===l.value,f=x.useRef(d);return x.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(Nr,{present:i||d,children:({present:p})=>o.jsx(ge.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});tN.displayName=eN;function nN(e,t){return`${e}-trigger-${t}`}function rN(e,t){return`${e}-content-${t}`}var G6=GP,iN=XP,sN=ZP,aN=tN;const Dh=G6,wu=x.forwardRef(({className:e,...t},n)=>o.jsx(iN,{ref:n,className:ae("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));wu.displayName=iN.displayName;const Zn=x.forwardRef(({className:e,...t},n)=>o.jsx(sN,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));Zn.displayName=sN.displayName;const er=x.forwardRef(({className:e,...t},n)=>o.jsx(aN,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));er.displayName=aN.displayName;const Te=({src:e,alt:t,className:n})=>o.jsx("span",{role:"img","aria-label":t,className:ae("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),Y6=()=>{const e=Ga(),{user:t}=ht();return x.useEffect(()=>{var a,l;const n=new URLSearchParams(window.location.search),r=new URLSearchParams(window.location.hash.substring(1)),i=n.get("access_token")||r.get("access_token"),s=n.get("type")||r.get("type");if(i&&(s==="signup"||s==="invite")){console.log("Invitation dtecte sur la page d'accueil, redirection..."),e("/invitation"+window.location.search+window.location.hash);return}if((a=t==null?void 0:t.user_metadata)!=null&&a.workspace_id&&((l=t==null?void 0:t.user_metadata)==null?void 0:l.invitation_type)==="workspace"){console.log("Utilisateur connect avec invitation en attente, redirection..."),e("/invitation");return}},[e,t]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:"/lovable-uploads/415a981c-a454-47dc-a601-b214f6e857d0.png",alt:"DataCarb",className:"h-16"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(xt,{to:"/signup",children:o.jsx(te,{variant:"outline",children:"S'inscrire"})}),o.jsx(xt,{to:"/login",children:o.jsx(te,{children:"Se connecter"})})]})]})})}),o.jsx("section",{className:"py-20 px-4 bg-primary text-primary-foreground",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[o.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight text-primary-foreground",children:["Le moteur de recherche",o.jsx("br",{}),"de FE le plus puissant",o.jsx("br",{}),"du march"]}),o.jsxs("p",{className:"text-primary-foreground/90",children:["Accdez  plus de 255 000 facteurs d'missions franais et internationaux",o.jsx("br",{}),"agrgs et enrichis par nos experts."]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(xt,{to:"/signup",children:o.jsx(te,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),o.jsx(xt,{to:"/login",children:o.jsx(te,{variant:"outline",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10",children:"Se connecter"})})]})]}),o.jsx("div",{className:"order-1 lg:order-2",children:o.jsx("img",{src:"/lovable-uploads/b3596089-c93c-4b3d-87ea-8598f493120b.png",alt:"Interface de recherche de facteurs d'mission",className:"w-full h-auto rounded-lg"})})]})})}),o.jsx("section",{className:"py-16 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsx("h4",{className:"font-bold mb-12",children:"Retrouvez les plus grandes bases franaises et internationales"}),o.jsxs("div",{className:"grid grid-cols-7 gap-8 items-center",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/3fdbfe68-8e5e-4c44-8ac1-edd24a2d8fac.png",alt:"Empreinte",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/ac4b2170-676b-424b-906d-7f65f939022c.png",alt:"Ecobalyse",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/f51cec17-9b6f-417a-919b-c29f1a77ac1a.png",alt:"exiobase",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/9d73d9ce-baf8-4a47-bdd7-bcbcc41e709d.png",alt:"inies",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/8edc4de0-1e88-4d97-972f-ed5d481c1b30.png",alt:"AGRI BALYSE",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/a39b6717-f7d1-4045-a4ab-921fe28e5c53.png",alt:"Electricity Maps",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/c27135f4-de5c-49fd-9e9f-4dc89a29274f.png",alt:"PCAF",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/5310da27-1ab7-4efe-a090-a25937048f60.png",alt:"ecoinvent",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/08a66c66-7e5d-4050-918f-aa08fd2d8612.png",alt:"AIB",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/aa03a266-0170-4b29-b12a-2f86dea065a2.png",alt:"EMBER",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/c0650cbc-f7d4-40e6-a022-e6b2bac57c2a.png",alt:"Climate Trace",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/ba02a326-86d5-4773-8777-e613296e2582.png",alt:"European Environment Agency",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/2d97e89d-91a3-4143-8432-605a4422e9f0.png",alt:"Department for Business, Energy & Industrial Strategy",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/01ca909f-ef8b-4b32-aea1-50f98ae9e4a6.png",alt:"eco",className:"max-h-[50px] w-full h-[50px]"})})]})]})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-12",children:["Dcouvrez la puissance",o.jsx("br",{}),"du moteur de recherche"]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:o.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:"Moteur de recherche de FE Sami - Dmo",frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),o.jsx("section",{className:"py-20 px-4 bg-background",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un moteur de recherche",o.jsx("br",{}),"puissant et personnalisable"]}),o.jsxs(Dh,{defaultValue:"donnees",className:"max-w-6xl mx-auto",children:[o.jsxs(wu,{className:"grid w-full grid-cols-4 mb-12 rounded-full items-center",children:[o.jsx(Zn,{value:"donnees",className:"rounded-full",children:"Donnes"}),o.jsx(Zn,{value:"recherche",className:"rounded-full",children:"Recherche"}),o.jsx(Zn,{value:"personnalisation",className:"rounded-full",children:"Personnalisation"}),o.jsx(Zn,{value:"plus-loin",className:"rounded-full",children:"Pour aller plus loin"})]}),o.jsxs(er,{value:"donnees",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Le guichet unique de vos",o.jsx("br",{}),"donnes carbone"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donne structure"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une structuration unique et homogne de plus de 20 bases de",o.jsx("br",{}),"donnes de rfrences internationales."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donne  jour"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une mise  jour en continu des bases pour une garantie de",o.jsx("br",{}),"qualit des FE."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"+ 250K FE  disposition"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Plus de 250k FE gnriques et spcifiques en cumul,",o.jsx("br",{}),"disponibles au sein d'une structure commune."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/71d74bc4-61b0-4e95-befc-12b9508a15e4.png",alt:"Interface base de donnes",className:"w-full h-auto"})})]}),o.jsxs(er,{value:"recherche",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Moteur fluide et simple",o.jsx("br",{}),"d'utilisation"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recherche intelligente"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Recherchez par mots-cls, codes, catgories ou filtres",o.jsx("br",{}),"avancs pour trouver rapidement vos FE."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Interface intuitive"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Navigation simple et rapide avec des suggestions",o.jsx("br",{}),"automatiques et tri personnalisable."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Rsultats prcis"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Algorithme optimis pour vous proposer les facteurs",o.jsx("br",{}),"d'mission les plus pertinents selon vos critres."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/501e99e2-29fe-4086-8d1f-9bd8028d151d.png",alt:"Interface de recherche",className:"w-full h-auto"})})]}),o.jsxs(er,{value:"personnalisation",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Personnalisez le moteur",o.jsx("br",{}),"selon vos besoins"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Favoris et collections"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Sauvegardez vos FE prfrs et crez des collections",o.jsx("br",{}),"thmatiques pour un accs rapide."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Filtres personnaliss"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Configurez des filtres selon vos secteurs d'activit",o.jsx("br",{}),"et vos besoins mtier spcifiques."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Donnes sur-mesure"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Intgrez vos propres FE spcifiques et crez votre",o.jsx("br",{}),"base de donnes personnalise."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/e3feeaa6-9229-46a9-a227-0700f479943f.png",alt:"Interface de personnalisation",className:"w-full h-auto"})})]}),o.jsxs(er,{value:"plus-loin",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Allez plus loin que",o.jsx("br",{}),"la recherche de FE"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Ralisez des benchmarks approfondis"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Positionnez facilement un produit ou une entreprise par",o.jsx("br",{}),"rapport  des concurrents et des moyennes sectorielles de march."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plan d'action et dcarbonation"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Identifiez rapidement les bnfices de changements de produits,",o.jsx("br",{}),"relocalisation, de fournisseurs (achats responsables), etc."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Support expert"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Bnficiez de l'accompagnement de nos experts",o.jsx("br",{}),"carbone pour optimiser vos calculs."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/d9ebca49-6f11-4b52-a6b0-07a9d348c5b2.png",alt:"Interface avance",className:"w-full h-auto"})})]})]})]})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Toutes les bases de donnes",o.jsx("br",{}),"sur une seule plateforme"]}),o.jsxs(Dh,{defaultValue:"standards",className:"max-w-6xl mx-auto",children:[o.jsxs(wu,{className:"grid w-full grid-cols-2 mb-12 rounded-full items-center",children:[o.jsx(Zn,{value:"standards",className:"rounded-full",children:"Datasets standards"}),o.jsx(Zn,{value:"premium",className:"rounded-full",children:"Datasets premium"})]}),o.jsx(er,{value:"standards",children:o.jsx("div",{className:"grid grid-cols-7 gap-8",children:["AIB","Agribalyse","BEIS","Base Carbone","Base Impacts","CCF","Climate Trace","EEA","EPA","Exiobase","EcoInvent","Ecobalyse","Electricity Maps","Ember","GESPoint5","GLEC","Kering","OMEGA TP","Open CEDA","PCAF"].map((n,r)=>o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:n==="AIB"?o.jsx(Te,{src:"/lovable-uploads/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png",alt:"AIB Logo",className:"w-full h-full"}):n==="Agribalyse"?o.jsx(Te,{src:"/lovable-uploads/fda086b7-f932-4837-beff-453157e04098.png",alt:"Agribalyse Logo",className:"w-full h-full"}):n==="BEIS"?o.jsx(Te,{src:"/lovable-uploads/6a36c45c-748d-4f7b-83c3-06ab2651649f.png",alt:"BEIS Logo",className:"w-full h-full"}):n==="Base Carbone"?o.jsx(Te,{src:"/lovable-uploads/e9be0482-b48d-476b-8536-b92ea3b88ea5.png",alt:"Base Carbone Logo",className:"w-full h-full"}):n==="Base Impacts"?o.jsx(Te,{src:"/lovable-uploads/8351c94f-afcc-498e-b8fa-73f47451686a.png",alt:"Base Impacts Logo",className:"w-full h-full"}):n==="CCF"?o.jsx(Te,{src:"/lovable-uploads/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png",alt:"CCF Logo",className:"w-full h-full"}):n==="Climate Trace"?o.jsx(Te,{src:"/lovable-uploads/47300cd4-f205-4264-a5b0-6f1406b312f8.png",alt:"Climate Trace Logo",className:"w-full h-full"}):n==="EEA"?o.jsx(Te,{src:"/lovable-uploads/d2dffb4b-f32d-43ed-82bf-b071db714f91.png",alt:"European Environment Agency Logo",className:"w-full h-full"}):n==="EPA"?o.jsx(Te,{src:"/lovable-uploads/75c9eac2-554f-4bb0-9719-08a698c80e1d.png",alt:"US EPA Logo",className:"w-full h-full"}):n==="Exiobase"?o.jsx(Te,{src:"/lovable-uploads/373cff1a-5089-4167-b40a-38ff4d50cc36.png",alt:"Exiobase Logo",className:"w-full h-full"}):n==="EcoInvent"?o.jsx(Te,{src:"/lovable-uploads/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png",alt:"EcoInvent Logo",className:"w-full h-full"}):n==="Ecobalyse"?o.jsx(Te,{src:"/lovable-uploads/f775ed4f-912f-41cf-9ade-08338aadf665.png",alt:"Ecobalyse Logo",className:"w-full h-full"}):n==="Electricity Maps"?o.jsx(Te,{src:"/lovable-uploads/0cc5974c-e436-42f5-9776-ad4cd768b072.png",alt:"Electricity Maps Logo",className:"w-full h-full"}):n==="Ember"?o.jsx(Te,{src:"/lovable-uploads/88e14343-4589-4e34-b420-395130de1641.png",alt:"Ember Logo",className:"w-full h-full"}):n==="GESPoint5"?o.jsx(Te,{src:"/lovable-uploads/8de84824-fb1b-441b-a7c2-50b92b4072e2.png",alt:"1point5 Logo",className:"w-full h-full"}):n==="GLEC"?o.jsx(Te,{src:"/lovable-uploads/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png",alt:"GLEC Logo",className:"w-full h-full"}):n==="Kering"?o.jsx(Te,{src:"/lovable-uploads/faa38581-8c17-443c-b8de-77a4ffc6c72e.png",alt:"Kering Logo",className:"w-full h-full"}):n==="OMEGA TP"?o.jsx(Te,{src:"/lovable-uploads/4cce460f-a743-4cdf-9fdf-215ba86522d8.png",alt:"OMEGA TP Logo",className:"w-full h-full"}):n==="Open CEDA"?o.jsx(Te,{src:"/lovable-uploads/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png",alt:"Open CEDA Logo",className:"w-full h-full"}):n==="PCAF"?o.jsx(Te,{src:"/lovable-uploads/b5978785-2cff-49c0-996a-225457820050.png",alt:"PCAF Logo",className:"w-full h-full"}):o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),o.jsx("span",{className:"text-sm text-center",children:n})]},r))})}),o.jsx(er,{value:"premium",children:o.jsx("div",{className:"grid grid-cols-7 gap-8",children:["Inies","Eco-platform","EcoInvent"].map((n,r)=>o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:n==="Inies"?o.jsx(Te,{src:"/lovable-uploads/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png",alt:"Inies Logo",className:"w-full h-full"}):n==="Eco-platform"?o.jsx(Te,{src:"/lovable-uploads/7d492fef-d5aa-4fa5-9732-938c9b53680d.png",alt:"Eco-platform Logo",className:"w-full h-full"}):n==="EcoInvent"?o.jsx(Te,{src:"/lovable-uploads/95586b3d-873f-4be8-a627-63fce61a19fd.png",alt:"EcoInvent Logo",className:"w-full h-full"}):o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),o.jsx("span",{className:"text-sm text-center",children:n})]},r))})})]})]})}),o.jsx("section",{className:"py-20 px-4 bg-background",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:"/lovable-uploads/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:"Expert",className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:["Une base de donnes",o.jsx("br",{}),"structure et enrichie par nos",o.jsx("br",{}),"experts"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Des bases de donnes nettoyes et structures"}),o.jsx("p",{className:"text-base font-light leading-relaxed",children:"Nos experts nettoient et restructurent l'ensemble des bases de donnes intgres afin de disposer d'un format unique de donnes."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Enrichissement des bases de donnes"}),o.jsx("p",{className:"text-base font-light leading-relaxed",children:"Vrification des facteurs par poste d'missions, correction des effets de l'inflation, traduction des mtadonnes..."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Versionnage"}),o.jsx("p",{className:"text-base font-light leading-relaxed",children:"Profitez d'un versionnage d'un maintien en temps rel de la base au gr des mises  jour des diffrentes sources de donnes."})]})]})]})]})})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un prix qui s'adapte",o.jsx("br",{})," vos besoins"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[o.jsxs(pe,{className:"p-8 border border-border",children:[o.jsxs(we,{className:"pb-4",children:[o.jsx(Se,{className:"text-xl font-semibold",children:"STANDARD"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:" partir de"}),o.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["850",o.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des datasets standards et du moteur de recherche"})]}),o.jsxs(me,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Accs au moteur de recherche"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Mises  jour hebdomadaires"})]}),o.jsx(te,{className:"w-full mt-6",children:"En savoir plus"})]})]}),o.jsxs(pe,{className:"p-8 relative border border-border",children:[o.jsxs(we,{className:"pb-4",children:[o.jsx(Se,{className:"text-xl font-semibold",children:"PREMIUM"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:" partir de"}),o.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["3000",o.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des bases standards et premium et des fonctionnalits d'exports de donnes"})]}),o.jsxs(me,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Accs au moteur de recherche"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Datasets premium (90K FE)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Mises  jour hebdomadaires"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Gestion des favoris"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Export des donnes"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Assistance de nos experts"})]}),o.jsx(te,{className:"w-full mt-6",children:"En savoir plus"})]})]})]})]})}),o.jsx("section",{className:"py-20 px-4 bg-primary",children:o.jsx("div",{className:"container mx-auto text-center",children:o.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-primary-foreground",children:"Prt  explorer nos facteurs d'mission ?"}),o.jsx("p",{className:"text-primary-foreground text-lg",children:"Accdez ds maintenant au moteur de recherche le plus puissant du march"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(xt,{to:"/signup",children:o.jsx(te,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),o.jsx(xt,{to:"/login",children:o.jsx(te,{variant:"outline",className:"border-primary-foreground px-8 py-3 rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground",children:"Se connecter"})})]})]})})}),o.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[o.jsx("img",{src:"/lovable-uploads/c8972ef9-8dcc-4223-95de-2f4927d40419.png",alt:"DataCarb",className:"h-12"}),o.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:"Le moteur de recherche de facteurs d'mission le plus puissant du march."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(te,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:o.jsx(PM,{className:"h-4 w-4"})}),o.jsx(te,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:o.jsx(cb,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-primary-foreground/20",children:[o.jsx("div",{className:"text-primary-foreground/80 text-sm",children:" 2025 DataCarb. Tous droits rservs."}),o.jsxs("div",{className:"flex space-x-6 text-sm text-primary-foreground/80",children:[o.jsx(xt,{to:"/privacy",className:"hover:text-primary-foreground transition-colors",children:"Politique de confidentialit"}),o.jsx(xt,{to:"/terms",className:"hover:text-primary-foreground transition-colors",children:"Conditions d'utilisation"}),o.jsx(xt,{to:"/cookies",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})]})})})]})},Ot=x.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ot.displayName="Input";var X6="Label",oN=x.forwardRef((e,t)=>o.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oN.displayName=X6;var lN=oN;const J6=ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wt=x.forwardRef(({className:e,...t},n)=>o.jsx(lN,{ref:n,className:ae(J6(),e),...t}));wt.displayName=lN.displayName;const cN=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:a=""})=>{const l={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return o.jsxs(te,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${l[e]} ${a}`,children:[n?o.jsx(La,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx("span",{className:"mr-2",children:s}),i]})},uN=x.createContext(void 0),dN=()=>{const e=x.useContext(uN);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},fN=({children:e})=>{const[t,n]=x.useState({loading:{google:!1},lastError:null}),r=(a,l)=>{n(c=>({...c,loading:{...c.loading,[a]:l}}))},i=a=>{n(l=>({...l,lastError:a}))},s=()=>{i(null)};return o.jsx(uN.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},Z6=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(!1),[a,l]=x.useState(!1),{toast:c}=Dt(),{signIn:u,signInWithGoogle:d}=ht(),{ssoState:f,setProviderLoading:p,setLastError:h}=dN(),g=Xs();x.useEffect(()=>{(async()=>{if(new URLSearchParams(g.search).get("trial_expired")==="true"){l(!0);return}try{const{data:{session:b}}=await Y.auth.getSession();if(b!=null&&b.user){const{data:S}=await Y.from("users").select("workspace_id").eq("user_id",b.user.id).single();if(S){const{data:E}=await Y.from("workspaces").select("plan_type").eq("id",S.workspace_id).single();if((E==null?void 0:E.plan_type)==="freemium"){const{data:_}=await Y.from("workspace_trials").select("expires_at").eq("workspace_id",S.workspace_id).single();_&&new Date(_.expires_at)<=new Date&&(l(!0),await Y.auth.signOut())}}}}catch(b){console.error("Error checking trial status:",b)}})()},[g]);const m=async v=>{v.preventDefault(),s(!0),h(null);try{const y=await u(e,n);y.error&&(c({variant:"destructive",title:"Erreur lors de la connexion",description:y.error.message}),h(y.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion",description:"Une erreur inattendue s'est produite"}),h("Une erreur inattendue s'est produite")}finally{s(!1)}},w=async v=>{p(v,!0),h(null);try{const y=await d();y.error&&(c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:y.error.message}),h(y.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:"Une erreur inattendue s'est produite"}),h("Une erreur inattendue s'est produite")}finally{p(v,!1)}};return o.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(xt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[o.jsx(sb,{className:"w-4 h-4 mr-2"}),"Retour  l'accueil"]})}),o.jsxs(pe,{children:[o.jsxs(we,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:o.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),o.jsx(Se,{className:"text-2xl",children:"Se connecter"}),o.jsx(vt,{children:"Connectez-vous  votre compte DataCarb"})]}),o.jsxs(me,{children:[a&&o.jsxs(fn,{variant:"destructive",className:"mb-6",children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx(hn,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"font-medium",children:"Votre plan freemium est termin."}),o.jsx("p",{children:"Merci de contacter notre quipe commerciale afin de souscrire  un plan payant."})]})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"password",children:"Mot de passe"}),o.jsx(Ot,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"Votre mot de passe"})]}),o.jsx(te,{type:"submit",className:"w-full",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(La,{className:"w-4 h-4 mr-2 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),o.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:o.jsx("span",{children:"ou"})}),o.jsx(cN,{provider:"google",onClick:()=>w("google"),loading:f.loading.google,disabled:i||f.loading.google,icon:o.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Se connecter avec Google"}),f.lastError&&o.jsxs(fn,{variant:"destructive",className:"mt-4",children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx(hn,{children:f.lastError})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",o.jsx(xt,{to:"/signup",className:"text-blue-600 hover:underline",children:"S'inscrire"})]})})]})]})]})})},eB=()=>o.jsx(fN,{children:o.jsx(Z6,{})}),tB=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(""),[p,h]=x.useState(!1),{toast:g}=Dt(),{signUp:m,signInWithGoogle:w}=ht(),{ssoState:v,setProviderLoading:y,setLastError:b}=dN(),S=async _=>{if(_.preventDefault(),n!==i){g({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});return}if(n.length<6){g({variant:"destructive",title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractres"});return}h(!0),b(null);try{const k=await m(e,n,{firstName:a,lastName:c,company:d||"Mon Entreprise"});k.error?(g({variant:"destructive",title:"Erreur lors de l'inscription",description:k.error.message}),b(k.error.message)):(g({title:"Inscription russie",description:"Un email de confirmation a t envoy. Vrifiez votre bote mail."}),setTimeout(()=>{window.location.href="/login"},2e3))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription",description:"Une erreur inattendue s'est produite"}),b("Une erreur inattendue s'est produite")}finally{h(!1)}},E=async _=>{y(_,!0),b(null);try{const k=await w();k.error&&(g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:k.error.message}),b(k.error.message))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:"Une erreur inattendue s'est produite"}),b("Une erreur inattendue s'est produite")}finally{y(_,!1)}};return o.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(xt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[o.jsx(sb,{className:"w-4 h-4 mr-2"}),"Retour  l'accueil"]})}),o.jsxs(pe,{children:[o.jsxs(we,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:o.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),o.jsx(Se,{className:"text-2xl",children:"Crer un compte"}),o.jsx(vt,{children:"Rejoignez DataCarb et accdez  notre base de donnes complte"})]}),o.jsxs(me,{children:[o.jsxs("form",{onSubmit:S,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"firstName",children:"Prnom"}),o.jsx(Ot,{id:"firstName",type:"text",value:a,onChange:_=>l(_.target.value),required:!0,placeholder:"Votre prnom"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"lastName",children:"Nom"}),o.jsx(Ot,{id:"lastName",type:"text",value:c,onChange:_=>u(_.target.value),required:!0,placeholder:"Votre nom"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"company",children:"Nom de l'entreprise"}),o.jsx(Ot,{id:"company",type:"text",value:d,onChange:_=>f(_.target.value),required:!0,placeholder:"Nom de votre entreprise"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:_=>t(_.target.value),required:!0,placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"password",children:"Mot de passe"}),o.jsx(Ot,{id:"password",type:"password",value:n,onChange:_=>r(_.target.value),required:!0,placeholder:"Au moins 6 caractres"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),o.jsx(Ot,{id:"confirmPassword",type:"password",value:i,onChange:_=>s(_.target.value),required:!0,placeholder:"Confirmez votre mot de passe"})]}),o.jsx(te,{type:"submit",className:"w-full",disabled:p,children:p?o.jsxs(o.Fragment,{children:[o.jsx(La,{className:"w-4 h-4 mr-2 animate-spin"}),"Cration en cours..."]}):"Crer un compte"})]}),o.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:o.jsx("span",{children:"ou"})}),o.jsx(cN,{provider:"google",onClick:()=>E("google"),loading:v.loading.google,disabled:p||v.loading.google,icon:o.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"S'inscrire avec Google"}),v.lastError&&o.jsxs(fn,{variant:"destructive",className:"mt-4",children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx(hn,{children:v.lastError})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",o.jsx(xt,{to:"/login",className:"text-blue-600 hover:underline",children:"Se connecter"})]})})]})]})]})})},nB=()=>o.jsx(fN,{children:o.jsx(tB,{})});function br({className:e,...t}){return o.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",e),...t})}const rB=()=>{const[e]=cU(),t=Ga(),{toast:n}=Dt(),[r,i]=x.useState(!0),[s,a]=x.useState(null);x.useEffect(()=>{(async()=>{var u;try{const{data:d,error:f}=await Y.auth.getSession();if(f)throw new Error(`Erreur d'authentification: ${f.message}`);const p=e.get("type"),h=e.get("workspaceId"),g=e.get("role");if((u=d.session)!=null&&u.user)console.log("Utilisateur authentifi:",d.session.user.email),p==="invite"&&h&&g?await l(d.session.user,h,g):t("/search");else throw new Error("Aucune session utilisateur trouve")}catch(d){console.error("Erreur lors du callback auth:",d),a(d.message||"Erreur lors de l'authentification")}finally{i(!1)}})()},[e,t]);const l=async(c,u,d)=>{var f,p;try{const{data:h}=await Y.from("users").select("*").eq("user_id",c.id).eq("workspace_id",u).single();if(h){n({title:"Dj membre",description:"Vous tes dj membre de ce workspace"}),t("/search");return}const{data:g}=await Y.from("workspaces").select("name").eq("id",u).single(),m=(g==null?void 0:g.name)||"Workspace",{error:w}=await Y.from("users").insert({user_id:c.id,workspace_id:u,first_name:((f=c.user_metadata)==null?void 0:f.first_name)||"",last_name:((p=c.user_metadata)==null?void 0:p.last_name)||"",company:m,email:c.email,plan_type:"freemium",subscribed:!1,assigned_by:c.id});if(w)throw w;const{error:v}=await Y.from("user_roles").insert({user_id:c.id,workspace_id:u,role:d,assigned_by:c.id,is_supra_admin:!1});if(v)throw v;const{error:y}=await Y.from("search_quotas").insert({user_id:c.id,exports_limit:10,clipboard_copies_limit:10,favorites_limit:10});y&&console.warn("Erreur quotas (non critique):",y),n({title:"Bienvenue !",description:`Vous avez rejoint le workspace "${m}" avec succs`}),t("/search")}catch(h){console.error("Erreur lors de l'ajout au workspace:",h),n({variant:"destructive",title:"Erreur",description:"Impossible de rejoindre le workspace"}),t("/search")}};return r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(pe,{className:"w-full max-w-md",children:[o.jsxs(we,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Ma,{className:"h-6 w-6 text-primary animate-spin"})}),o.jsx(Se,{children:"Authentification en cours..."})]}),o.jsxs(me,{className:"space-y-4",children:[o.jsx(br,{className:"h-4 w-full"}),o.jsx(br,{className:"h-4 w-3/4"})]})]})}):s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(pe,{className:"w-full max-w-md",children:[o.jsxs(we,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center",children:o.jsx(SM,{className:"h-6 w-6 text-destructive"})}),o.jsx(Se,{className:"text-destructive",children:"Erreur d'authentification"})]}),o.jsx(me,{children:o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s})})]})}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(pe,{className:"w-full max-w-md",children:[o.jsxs(we,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(Ht,{className:"h-6 w-6 text-green-600"})}),o.jsx(Se,{children:"Authentification russie"})]}),o.jsx(me,{children:o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Redirection en cours..."})})]})})},by="7.16.2";function pn(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var $b=pn;pn.prototype._events=void 0;pn.prototype._maxListeners=void 0;pn.defaultMaxListeners=10;pn.prototype.setMaxListeners=function(e){if(!iB(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};pn.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),e==="error"&&(!this._events.error||Su(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],hN(n))return!1;if(Ji(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Su(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,s=0;s<r;s++)a[s].apply(this,i);return!0};pn.prototype.addListener=function(e,t){var n;if(!Ji(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ji(t.listener)?t.listener:t),this._events[e]?Su(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Su(this._events[e])&&!this._events[e].warned&&(hN(this._maxListeners)?n=pn.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};pn.prototype.on=pn.prototype.addListener;pn.prototype.once=function(e,t){if(!Ji(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};pn.prototype.removeListener=function(e,t){var n,r,i,s;if(!Ji(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||Ji(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Su(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};pn.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Ji(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};pn.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Ji(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};pn.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ji(t))return 1;if(t)return t.length}return 0};pn.listenerCount=function(e,t){return e.listenerCount(t)};function Ji(e){return typeof e=="function"}function iB(e){return typeof e=="number"}function Su(e){return typeof e=="object"&&e!==null}function hN(e){return e===void 0}const sB=Wa($b);function aB(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var pN=aB,oB=$b,lB=pN;function xd(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}lB(xd,oB);xd.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};xd.prototype.getModifiedState=function(e){return this.fn(e)};xd.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var cB=xd;function uB(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function dB(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var Ub={escapeFacetValue:uB,unescapeFacetValue:dB};function fB(e){return typeof e=="object"&&e!==null?zb(Array.isArray(e)?[]:{},e):e}function Fh(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function zb(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(Fh(i)&&Fh(r)?e[n]=zb(i,r):e[n]=fB(r))}return e}function hB(e){Fh(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];Fh(r)&&zb(e,r)}return e}var Bb=hB;function pB(e){return e&&Object.keys(e).length>0}var Hb=pB;function mB(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var qb=mB;function Sc(e){e=e||{},this.params=e.params||[]}Sc.prototype={constructor:Sc,addParams:function(e){var t=this.params.slice();return t.push(e),new Sc({params:t})},removeParams:function(e){return new Sc({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var mN=Sc;function wy(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}wy.prototype={constructor:wy};var gN=wy,ff=Bb;function hf(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var Ut={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:Ut._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:Ut._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),a=n.getHierarchicalRefinement(i),l=n._getHierarchicalFacetSeparator(s);if(a.length>0&&a[0].split(l).length>1){var c=a[0].split(l).slice(0,-1).reduce(function(d,f,p){return d.concat({attribute:s.attributes[p],value:p===0?f:[d[d.length-1].value,f].join(l)})},[]);c.forEach(function(u,d){var f=Ut._getDisjunctiveFacetSearchParams(n,u.attribute,d===0);function p(m){return s.attributes.some(function(w){return w===m.split(":")[0]})}var h=(f.facetFilters||[]).reduce(function(m,w){if(Array.isArray(w)){var v=w.filter(function(y){return!p(y)});v.length>0&&m.push(v)}return typeof w=="string"&&!p(w)&&m.push(w),m},[]),g=c[d-1];d>0?f.facetFilters=h.concat(g.attribute+":"+g.value):h.length>0?f.facetFilters=h:delete f.facetFilters,r.push({indexName:t,params:f})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:Ut._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Ut._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Ut._getFacetFilters(e),r=Ut._getNumericFilters(e),i=Ut._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),hf(ff({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(l){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[l]&&e.disjunctiveFacetsRefinements[l].length>0?"disjunctive("+l+")":l})).concat(Ut._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Ut._getFacetFilters(e),r=Ut._getNumericFilters(e),i=Ut._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,hf(ff({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Ut._getFacetFilters(e,t,n),i=Ut._getNumericFilters(e,t),s=Ut._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var l=e.getHierarchicalFacetByName(t);return l?a.facets=Ut._getDisjunctiveHierarchicalFacetAttribute(e,l,n):a.facets=t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),hf(ff({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var a=i[s]||[];t!==r&&a.forEach(function(l){if(Array.isArray(l)){var c=l.map(function(u){return r+s+u});n.push(c)}else n.push(r+s+l)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(c){var u=i[c]||[];u.slice().sort().forEach(function(d){r.push(c+":"+d)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(c){var u=s[c]||[];u.sort().forEach(function(d){r.push(c+":-"+d)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(c){var u=a[c]||[];if(!(c===t||!u||u.length===0)){var d=[];u.slice().sort().forEach(function(f){d.push(c+":"+f)}),r.push(d)}});var l=e.hierarchicalFacetsRefinements||{};return Object.keys(l).sort().forEach(function(c){var u=l[c]||[],d=u[0];if(d!==void 0){var f=e.getHierarchicalFacetByName(c),p=e._getHierarchicalFacetSeparator(f),h=e._getHierarchicalRootPath(f),g,m;if(t===c){if(d.indexOf(p)===-1||!h&&n===!0||h&&h.split(p).length===d.split(p).length)return;h?(m=h.split(p).length-1,d=h):(m=d.split(p).length-2,d=d.slice(0,d.lastIndexOf(p))),g=f.attributes[m]}else m=d.split(p).length-1,g=f.attributes[m];g&&r.push([g+":"+d])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var a=e._getHierarchicalFacetSeparator(i),l=s.split(a).length,c=i.attributes.slice(0,l+1);return r.concat(c)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=e.getHierarchicalRefinement(t.name)[0]||"",l=a.split(r).length-1;return t.attributes.slice(0,l+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),hf(ff({},Ut._getHitsSearchParams(i),s))}},gB=Ut,Wb=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},bd=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function vB(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var yB=vB;function vN(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(vN);throw new Error("The value should be a number, a parsable string or an array of those.")}var xB=vN,bB=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},wB=Wb,SB=Hb,_B=qb,pa={addRefinement:function(t,n,r){if(pa.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],a={};return a[n]=s,wB(a,t)},removeRefinement:function(t,n,r){if(r===void 0)return pa.clearRefinement(t,function(s,a){return n===a});var i=""+r;return pa.clearRefinement(t,function(s,a){return n===a&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return pa.isRefined(t,n,r)?pa.removeRefinement(t,n,r):pa.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return SB(t)?{}:t;if(typeof n=="string")return _B(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(a,l){var c=t[l]||[],u=c.filter(function(d){return!n(d,l,r)});return u.length!==c.length&&(i=!0),a[l]=u,a},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},jB=pa,og=Wb,yN=bd,T_=yB,Sy=Bb,_y=Hb,A_=qb,lg=xB,EB=bB,pt=jB;function Vb(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return Vb(t[r],n)}):e===t}function kB(e,t){return yN(e,function(n){return Vb(n,t)})}function Un(e){var t=e?Un._parseNumbers(e):{};t.userToken!==void 0&&!EB(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=Un.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}Un.PARAMETERS=Object.keys(new Un);Un._parseNumbers=function(e){if(e instanceof Un)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var a=parseFloat(s);t[i]=isNaN(a)?s:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(a){var l=s[a],c=l.map(function(u){return Array.isArray(u)?u.map(function(d){return typeof d=="string"?parseFloat(d):d}):typeof u=="string"?parseFloat(u):u});r[i][a]=c})}),t.numericRefinements=r}return Sy(e,t)};Un.make=function(t){var n=new Un(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Un.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&_y(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):_y(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Un.prototype={constructor:Un,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:pt.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:pt.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:pt.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:pt.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=lg(n);if(this.isNumericRefined(e,t,r))return this;var i=Sy({},this.numericRefinements);return i[e]=Sy({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&Vb(i.val,lg(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return _y(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return A_(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,a){var l=r[a],c={};return l=l||{},Object.keys(l).forEach(function(u){var d=l[u]||[],f=[];d.forEach(function(p){var h=t({val:p,op:u},a,"numeric");h||f.push(p)}),f.length!==d.length&&(n=!0),c[u]=f}),s[a]=c,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:pt.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:pt.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return pt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:pt.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:pt.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:pt.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return pt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:pt.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:pt.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:pt.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:pt.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:og(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:og(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:og(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?pt.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?pt.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?pt.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=lg(r),a=kB(this.numericRefinements[t][n],s)!==void 0;return i&&a},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=T_(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return T_(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=Un.validate(this,t);if(n)throw n;var r=this,i=Un._parseNumbers(t),s=Object.keys(this).reduce(function(l,c){return l[c]=r[c],l},{}),a=Object.keys(i).reduce(function(l,c){var u=l[c]!==void 0,d=i[c]!==void 0;return u&&!d?A_(l,[c]):(d&&(l[c]=i[c]),l)},s);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return yN(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var xN=Un,CB=function(t){return Array.isArray(t)?t.filter(Boolean):[]},RB=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},PB=bd,bN=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,a){var l=a.split(":"),c=PB(r,function(u){return u[0]===l[0]});return l.length>1||!c?(s[0].push(l[0]),s[1].push(l[1]),s):(s[0].push(c[0]),s[1].push(c[1]),s)},[[],[]])};function NB(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var TB=NB;function AB(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function OB(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(a){return i[a]}),index:s,value:i}});return r.sort(function(s,a){for(var l=-1;++l<s.criteria.length;){var c=AB(s.criteria[l],a.criteria[l]);if(c)return l>=n.length?c:n[l]==="desc"?-c:c}return s.index-a.index}),r.map(function(i){return i.value})}var wN=OB,IB=UB,SN=Ub,DB=bd,FB=bN,LB=wN,MB=SN.escapeFacetValue,$B=SN.unescapeFacetValue;function UB(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",a=e._getHierarchicalFacetSeparator(i),l=e._getHierarchicalRootPath(i),c=e._getHierarchicalShowParentLevel(i),u=FB(e._getHierarchicalFacetSortBy(i)),d=n.every(function(h){return h.exhaustive}),f=zB(u,a,l,c,s),p=n;return l&&(p=n.slice(l.split(a).length)),p.reduce(f,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}}function zB(e,t,n,r,i){return function(a,l,c){var u=a;if(c>0){var d=0;for(u=a;d<c;){var f=u&&Array.isArray(u.data)?u.data:[];u=DB(f,function(h){return h.isRefined}),d++}}if(u){var p=Object.keys(l.data).map(function(h){return[h,l.data[h]]}).filter(function(h){var g=h[0];return BB(g,u.path||n,i,t,n,r)});u.data=LB(p.map(function(h){var g=h[0],m=h[1];return HB(m,g,t,$B(i),l.exhaustive)}),e[0],e[1])}return a}}function BB(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function HB(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:MB(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var cg=CB,zc=Wb,_N=Ub,Qr=bd,lc=RB,qB=bN,O_=TB,jN=wN,I_=_N.escapeFacetValue,EN=_N.unescapeFacetValue,WB=IB;function D_(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function ug(e,t,n){t&&t[n]&&(e.stats=t[n])}function VB(e,t){return Qr(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function $s(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=zc(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=t.reduce(function(f,p){return p.processingTimeMS===void 0?f:f+p.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),l=D_(e.facets),c=D_(e.disjunctiveFacets),u=1,d=r.facets||{};Object.keys(d).forEach(function(f){var p=d[f],h=VB(e.hierarchicalFacets,f);if(h){var g=h.attributes.indexOf(f),m=lc(e.hierarchicalFacets,function(b){return b.name===h.name});i.hierarchicalFacets[m][g]={attribute:f,data:p,exhaustive:r.exhaustiveFacetsCount}}else{var w=e.disjunctiveFacets.indexOf(f)!==-1,v=e.facets.indexOf(f)!==-1,y;w&&(y=c[f],i.disjunctiveFacets[y]={name:f,data:p,exhaustive:r.exhaustiveFacetsCount},ug(i.disjunctiveFacets[y],r.facets_stats,f)),v&&(y=l[f],i.facets[y]={name:f,data:p,exhaustive:r.exhaustiveFacetsCount},ug(i.facets[y],r.facets_stats,f))}}),this.hierarchicalFacets=cg(this.hierarchicalFacets),a.forEach(function(f){var p=t[u],h=p&&p.facets?p.facets:{},g=e.getHierarchicalFacetByName(f);Object.keys(h).forEach(function(m){var w=h[m],v;if(g){v=lc(e.hierarchicalFacets,function(S){return S.name===g.name});var y=lc(i.hierarchicalFacets[v],function(S){return S.attribute===m});if(y===-1)return;i.hierarchicalFacets[v][y].data=i.persistHierarchicalRootCount?O_(i.hierarchicalFacets[v][y].data,w):zc(w,i.hierarchicalFacets[v][y].data)}else{v=c[m];var b=r.facets&&r.facets[m]||{};i.disjunctiveFacets[v]={name:m,data:O_(b,w),exhaustive:p.exhaustiveFacetsCount},ug(i.disjunctiveFacets[v],p.facets_stats,m),e.disjunctiveFacetsRefinements[m]&&e.disjunctiveFacetsRefinements[m].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[m].indexOf(EN(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(f){var p=e.getHierarchicalFacetByName(f),h=e._getHierarchicalFacetSeparator(p),g=e.getHierarchicalRefinement(f);g.length===0||g[0].split(h).length<2||t.slice(u).forEach(function(m){var w=m&&m.facets?m.facets:{};Object.keys(w).forEach(function(v){var y=w[v],b=lc(e.hierarchicalFacets,function(k){return k.name===p.name}),S=lc(i.hierarchicalFacets[b],function(k){return k.attribute===v});if(S!==-1){var E={};if(g.length>0&&!i.persistHierarchicalRootCount){var _=g[0].split(h)[0];E[_]=i.hierarchicalFacets[b][S].data[_]}i.hierarchicalFacets[b][S].data=zc(E,y,i.hierarchicalFacets[b][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(f){var p=e.facetsExcludes[f],h=l[f];i.facets[h]={name:f,data:d[f],exhaustive:r.exhaustiveFacetsCount},p.forEach(function(g){i.facets[h]=i.facets[h]||{name:f},i.facets[h].data=i.facets[h].data||{},i.facets[h].data[g]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(WB(e)),this.facets=cg(this.facets),this.disjunctiveFacets=cg(this.disjunctiveFacets),this._state=e}$s.prototype.getFacetByName=function(e){function t(n){return n.name===e}return Qr(this.facets,t)||Qr(this.disjunctiveFacets,t)||Qr(this.hierarchicalFacets,t)};function QB(e,t){function n(d){return d.name===t}if(e._state.isConjunctiveFacet(t)){var r=Qr(e.facets,n);return r?Object.keys(r.data).map(function(d){var f=I_(d);return{name:d,escapedValue:f,count:r.data[d],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,d)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Qr(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(d){var f=I_(d);return{name:d,escapedValue:f,count:i.data[d],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=Qr(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),l=e._state._getHierarchicalFacetSeparator(a),c=EN(e._state.getHierarchicalRefinement(t)[0]||"");c.indexOf(a.rootPath)===0&&(c=c.replace(a.rootPath+l,""));var u=c.split(l);return u.unshift(t),kN(s,u,0),s}}function kN(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){kN(r,t,n+1)})}function CN(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(l){return CN(e,l,n,r+1)}),s=e(i,n[r]),a=zc({data:s},t);return a}$s.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function KB(e,t){return t.sort(e)}function GB(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],a=s.reduce(function(u,d,f){return u[d]=f,u},{});e.forEach(function(u){var d=u.path||u.name,f=i.indexOf(d)>-1;!f&&a[d]!==void 0?n[a[d]]=u:f||r.push(u)}),n=n.filter(function(u){return u});var l=t.sortRemainingBy,c;return l==="hidden"?n:(l==="alpha"?c=[["path","name"],["asc","asc"]]:c=[["count"],["desc"]],n.concat(jN(r,c[0],c[1])))}function YB(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}$s.prototype.getFacetValues=function(e,t){var n=QB(this,e);if(n){var r=zc(t,{sortBy:$s.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var a=i._state.getHierarchicalFacetByName(n.name);s=a.attributes}return CN(function(l,c){if(r.facetOrdering){var u=YB(i,c);if(u)return GB(l,u)}if(Array.isArray(r.sortBy)){var d=qB(r.sortBy,$s.DEFAULT_SORT);return jN(l,d[0],d[1])}else if(typeof r.sortBy=="function")return KB(r.sortBy,l);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};$s.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return F_(this.facets,e);if(this._state.isDisjunctiveFacet(e))return F_(this.disjunctiveFacets,e)};function F_(e,t){var n=Qr(e,function(r){return r.name===t});return n&&n.stats}$s.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(dg(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(dg(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(dg(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(XB(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(a){n.push({type:"numeric",attributeName:r,name:a,numericValue:a,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function dg(e,t,n,r,i){var s=Qr(i,function(c){return c.name===n}),a=s&&s.data&&s.data[r]?s.data[r]:0,l=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:l}}function XB(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),l=Qr(r,function(p){return p.name===t}),c=a.reduce(function(p,h){var g=p&&Qr(p.data,function(m){return m.name===h});return g!==void 0?g:p},l),u=c&&c.count||0,d=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:d}}var RN=$s,JB=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},ZB=bd,eH=JB;function tH(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function nH(e,t){var n={};t.forEach(function(s){s.forEach(function(a,l){e.includes(a.objectID)||(n[a.objectID]?n[a.objectID]={indexSum:n[a.objectID].indexSum+l,count:n[a.objectID].count+1}:n[a.objectID]={indexSum:l,count:1})})});var r=tH(n,t.length),i=r.reduce(function(s,a){var l=ZB(eH(t),function(c){return c.objectID===a.objectID});return l?s.concat(l):s},[]);return i}var rH=nH,PN="3.26.0",iH=$b,sH=cB,NN=Ub.escapeFacetValue,aH=pN,oH=Bb,lH=Hb,cH=qb,TN=mN,uH=gN,Ws=gB,Qb=xN,jy=RN,dH=rH,AN=PN;function ne(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+AN+")"),this.setClient(e);var i=n||{};i.index=t,this.state=Qb.make(i),this.recommendState=new TN({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}aH(ne,iH);ne.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};ne.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};ne.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};ne.prototype.recommend=function(){return this._recommend(),this};ne.prototype.getQuery=function(){var e=this.state;return Ws._getHitsSearchParams(e)};ne.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Ws._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new jy(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new jy(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};ne.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=oH({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:cH(Ws._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var a=this.client.initIndex(r.index);if(typeof a.findAnswers!="function")throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)};ne.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),l=a.isDisjunctiveFacet(e),c=Ws.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this,d;i?d=this.client.searchForFacetValues([{indexName:a.index,params:c}]):s?d=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,d=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then(function(h){return h.results[0]})),this.emit("searchForFacetValues",{state:a,facet:e,query:t});var f=this.lastResults&&this.lastResults.index===a.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return d.then(function(h){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h=Array.isArray(h)?h[0]:h,h.facetHits.forEach(function(g,m){if(f.indexOf(g.value)>-1){h.facetHits.splice(m,1);return}g.escapedValue=NN(g.value),g.isRefined=l?a.isDisjunctiveFacetRefined(e,g.escapedValue):a.isFacetRefined(e,g.escapedValue)}),h},function(p){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p})};ne.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a=this,l;return l=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:Ws._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),l.then(function(u){return a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(d){d.escapedValue=NN(d.value),d.isRefined=s?i.isDisjunctiveFacetRefined(e,d.escapedValue):i.isFacetRefined(e,d.escapedValue)}),u},function(c){throw a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),c})};ne.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};ne.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};ne.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};ne.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ne.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};ne.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};ne.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};ne.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};ne.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};ne.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};ne.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};ne.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};ne.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};ne.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};ne.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};ne.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};ne.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};ne.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};ne.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ne.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};ne.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};ne.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};ne.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};ne.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};ne.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};ne.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};ne.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ne.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ne.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ne.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ne.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ne.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};ne.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};ne.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};ne.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};ne.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};ne.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};ne.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};ne.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function ON(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}ne.prototype.setCurrentPage=ON;ne.prototype.setPage=ON;ne.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};ne.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};ne.prototype.setState=function(e){return this._change({state:Qb.make(e),isPageReset:!1}),this};ne.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Qb(e),this};ne.prototype.hasRefinements=function(e){return lH(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};ne.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};ne.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};ne.prototype.hasTag=function(e){return this.state.isTagRefined(e)};ne.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};ne.prototype.getIndex=function(){return this.state.index};function IN(){return this.state.page}ne.prototype.getCurrentPage=IN;ne.prototype.getPage=IN;ne.prototype.getTags=function(){return this.state.tagRefinements};ne.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(a){t.push({value:a,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(a){t.push({value:a,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(a){t.push({value:a,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(a){var l=s[a];t.push({value:l,operator:a,type:"numeric"})}),t};ne.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};ne.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};ne.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Ws._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(l){var c=l.getModifiedState(t),u=c.index?Ws._getQueries(c.index,c):[];return n.push({state:c,queriesCount:u.length,helper:l}),l.emit("search",{state:c,results:l.lastResults}),u}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(l){this.emit("error",{error:l})}};ne.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(l){var c=l.getModifiedState(e),u=Ws._getCompositionQueries(c);return t.push({state:c,queriesCount:u.length,helper:l}),l.emit("search",{state:c,results:l.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var a=i[0];try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(l){this.emit("error",{error:l})}};ne.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map(function(u){var d=u.getModifiedState(e).index;if(!d)return[];var f=u.getModifiedRecommendState(new TN);return r.push({state:f,index:d,helper:u}),i=Array.prototype.concat.apply(i,f.params.map(function(p){return p.$$id})),u.emit("fetch",{recommend:{state:f,results:u.lastRecommendResults}}),f._buildQueries(d,s)}),l=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(l.length!==0){if(l.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(l).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(u){this.emit("error",{error:u})}}};ne.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(a,l){return l!=="results"&&(a[l]=n[l]),a},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(a){var l=a.state,c=a.queriesCount,u=a.helper,d=i.splice(0,c);if(!l.index){u.emit("result",{results:null,state:l});return}u.lastResults=new jy(l,d,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:l})})}};ne.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(l){return i[l]===void 0}).forEach(function(l,c){s[l]||(s[l]=[]),s[l].push(c)}),Object.keys(s).forEach(function(l){var c=s[l],u=r.results[c[0]];if(c.length===1){i[l]=u;return}i[l]=Object.assign({},u,{hits:dH(n,c.map(function(d){return r.results[d].hits}))})});var a={};n.forEach(function(l){a[l]=i[l]}),t.forEach(function(l){var c=l.state,u=l.helper;if(!l.index){u.emit("recommend:result",{results:null,state:c});return}u.lastRecommendResults=new uH(c,a),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:c}})})}};ne.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};ne.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};ne.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};ne.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};ne.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};ne.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};ne.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};ne.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+AN+")"),this.client=e,this)};ne.prototype.getClient=function(){return this.client};ne.prototype.derive=function(e,t){var n=new sH(this,e,t);return this.derivedHelpers.push(n),n};ne.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};ne.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var fH=ne,DN=fH,hH=mN,pH=gN,mH=xN,gH=RN;function Xa(e,t,n,r){return new DN(e,t,n,r)}Xa.version=PN;Xa.AlgoliaSearchHelper=DN;Xa.SearchParameters=mH;Xa.RecommendParameters=hH;Xa.SearchResults=gH;Xa.RecommendResults=pH;var vH=Xa;const on=Wa(vH);var yH=0;function xH(e){e.dependsOn==="recommend"&&(e.$$id=yH++)}function jt(){}function bH(e){return Object.prototype.toString.call(e).slice(8,-1)}function Zs(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(bH(e),`).

`).concat(t))}function L_(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,a){return i.isNumericRefined(a)?s.removeNumericRefinement(a):i.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):i.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):i.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var wH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},FN=/[&<>"']/g,SH=RegExp(FN.source);function _H(e){return e&&SH.test(e)?e.replace(FN,function(t){return wH[t]}):e}var jH={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},LN=/&(amp|quot|lt|gt|#39);/g,EH=RegExp(LN.source);function kH(e){return e&&EH.test(e)?e.replace(LN,function(t){return jH[t]}):e}function Ey(e){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(e)}function CH(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function RH(e){return Ey(e)==="object"&&e!==null}function MN(e){if(!RH(e)||CH(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function PH(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(this,arguments)}function M_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(n),!0).forEach(function(r){$N(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $N(e,t,n){return t=NH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NH(e){var t=TH(e,"string");return _u(t)=="symbol"?t:String(t)}function TH(e,t){if(_u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},mn={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function UN(e){return _H(e).replace(new RegExp(Sl.highlightPreTag,"g"),mn.highlightPreTag).replace(new RegExp(Sl.highlightPostTag,"g"),mn.highlightPostTag)}function Lh(e){return MN(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return zo(zo({},t),{},$N({},n,Lh(e[n])))},{}):Array.isArray(e)?e.map(Lh):zo(zo({},e),{},{value:UN(e.value)})}function AH(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=ky({},(PH(t),t));return n._highlightResult&&(n._highlightResult=Lh(n._highlightResult)),n._snippetResult&&(n._snippetResult=Lh(n._snippetResult)),n}),e.__escaped=!0),e}function OH(e){return e.map(function(t){return zo(zo({},t),{},{highlighted:UN(t.highlighted)})})}function zN(e){var t=mn.highlightPreTag,n=mn.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function IH(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function $_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(n),!0).forEach(function(r){FH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FH(e,t,n){return t=LH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LH(e){var t=MH(e,"string");return _l(t)=="symbol"?t:String(t)}function MH(e,t){if(_l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function $H(e,t){return HH(e)||BH(e,t)||zH(e,t)||UH()}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zH(e,t){if(e){if(typeof e=="string")return U_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function HH(e){if(Array.isArray(e))return e}function qH(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=c[1],f=c[2],p=f===void 0?"Filter Applied":f,h=c[3],g=h===void 0?{}:h,m=c[0].split(":"),w=$H(m,2),v=w[0],y=w[1],b=typeof r=="string"?r:r(d);if(c.length===1&&_l(c[0])==="object")t.sendEventToInsights(c[0]);else if(v==="click"&&c.length>=2&&c.length<=4&&!IH(n,b,d)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:y,payload:DH({eventName:p,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(b,":").concat(d)]},g),attribute:b})}};return s}function BN(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(n),!0).forEach(function(r){WH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WH(e,t,n){return t=VH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=QH(e,"string");return jl(t)=="symbol"?t:String(t)}function QH(e,t){if(jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KH(e,t){return JH(e)||XH(e,t)||YH(e,t)||GH()}function GH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function JH(e){if(Array.isArray(e))return e}function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function ZH(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function HN(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&jl(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=KH(s,2),l=a[0],c=a[1],u=r[1],d=r[2],f=r[3]||{};if(!u)return[];if((l==="click"||l==="conversion")&&!d)return[];var p=Array.isArray(u)?u:[u];if(p.length===0)return[];var h=p[0].__queryID,g=ZH(p),m=g.map(function(v){return v.map(function(y){return y.objectID})}),w=g.map(function(v){return v.map(function(y){return y.__position})});return l==="view"?i.status!=="idle"?[]:g.map(function(v,y){var b;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:l,payload:fg({eventName:d||"Hits Viewed",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,objectIDs:m[y]},f),hits:v,eventModifier:c}}):l==="click"?g.map(function(v,y){var b;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:l,payload:fg({eventName:d||"Hit Clicked",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:h,objectIDs:m[y],positions:w[y]},f),hits:v,eventModifier:c}}):l==="conversion"?g.map(function(v,y){var b;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:l,payload:fg({eventName:d||"Hit Converted",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:h,objectIDs:m[y]},f),hits:v,eventModifier:c}}):[]}function e8(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=HN({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});f.forEach(function(p){p.eventType==="click"&&p.eventModifier==="internal"&&i[p.eventType]||(i[p.eventType]=!0,t.sendEventToInsights(p))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return a}function t8(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=HN({widgetType:n,helper:t,methodName:"bindEvent",args:l,instantSearchInstance:r});return u.length?"data-insights-event=".concat(BN(u)):""};return i}function wr(e){return e.$$type==="ais.index"}function Cy(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(wr).forEach(function(r){return Cy(e,r)})}var n8=Promise.resolve();function cc(e){var t=null,n=!1,r=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];t===null&&(t=n8.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function r8(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function Jr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return r8(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function i8(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function s8(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function ju(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function a8(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function H_(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",a=n[i]||r[i],l=n[s]||r[s];return[a,l]}else return[e.applicationID,e.apiKey]}function qN(e){var t=mn.highlightPostTag,n=mn.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(a){var l=a.split(t);s.push({value:l[0],isHighlighted:!0}),l[1]!==""&&s.push({value:l[1],isHighlighted:!1})}),s}var o8=new RegExp(/\w/i);function l8(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,a=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!o8.test(kH(i.value))&&a===s?a:i.isHighlighted}function Mp(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function hg(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:s8(r)},a=ju(i,function(h){return h.name===n}),l;if(t==="hierarchical"){for(var c=e.getHierarchicalFacetByName(n),u=r.split(c.separator),d=function(g){return function(m){return g[m]}},f=function(g){a=a&&a.data&&ju(Object.keys(a.data).map(d(a.data)),function(m){return m.name===u[g]})},p=0;a!==void 0&&p<u.length;++p)f(p);l=a&&a.count}else l=a&&a.data&&a.data[s.name];return l!==void 0&&(s.count=l),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function c8(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,a=s===void 0?{}:s,l=t.facetsExcludes,c=l===void 0?{}:l,u=t.disjunctiveFacetsRefinements,d=u===void 0?{}:u,f=t.hierarchicalFacetsRefinements,p=f===void 0?{}:f,h=t.numericRefinements,g=h===void 0?{}:h,m=t.tagRefinements,w=m===void 0?[]:m;return Object.keys(a).forEach(function(v){var y=a[v];y.forEach(function(b){i.push(hg(t,"facet",v,b,r.facets))})}),Object.keys(c).forEach(function(v){var y=c[v];y.forEach(function(b){i.push({type:"exclude",attribute:v,name:b,exclude:!0})})}),Object.keys(d).forEach(function(v){var y=d[v];y.forEach(function(b){i.push(hg(t,"disjunctive",v,i8(b),r.disjunctiveFacets))})}),Object.keys(p).forEach(function(v){var y=p[v];y.forEach(function(b){i.push(hg(t,"hierarchical",v,b,r.hierarchicalFacets))})}),Object.keys(g).forEach(function(v){var y=g[v];Object.keys(y).forEach(function(b){var S=b,E=y[S],_=Array.isArray(E)?E:[E];_.forEach(function(k){i.push({type:"numeric",attribute:v,name:"".concat(k),numericValue:k,operator:S})})})}),w.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(n),!0).forEach(function(r){u8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u8(e,t,n){return t=d8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d8(e){var t=f8(e,"string");return Eu(t)=="symbol"?t:String(t)}function f8(e,t){if(Eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h8(e,t,n){return e.map(function(r,i){return W_(W_({},r),{},{__position:n*t+i+1})})}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(r){p8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p8(e,t,n){return t=m8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m8(e){var t=g8(e,"string");return ku(t)=="symbol"?t:String(t)}function g8(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v8(e,t){return t?e.map(function(n){return Q_(Q_({},n),{},{__queryID:t})}):e}function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(n),!0).forEach(function(r){y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y8(e,t,n){return t=x8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x8(e){var t=b8(e,"string");return Cu(t)=="symbol"?t:String(t)}function b8(e,t){if(Cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w8(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?G_(G_({},r),s.recommendResults.results):r},{});e._recommendCache=n}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function S8(e,t){return k8(e)||E8(e,t)||j8(e,t)||_8()}function _8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(e,t){if(e){if(typeof e=="string")return Y_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(e,t)}}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function k8(e){if(Array.isArray(e))return e}function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(r){WN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WN(e,t,n){return t=C8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C8(e){var t=R8(e,"string");return Ru(t)=="symbol"?t:String(t)}function R8(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P8(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(a,l){var c=t[l],u=c.state,d=c.requestParams,f=c.results,p=f&&u?f.map(function(h,g){return uc({indexName:u.index||h.index},d!=null&&d[g]||h.params?{params:pg((d==null?void 0:d[g])||N8(h.params))}:{})}):[];return a.concat(p)},[])],r=Object.keys(t).reduce(function(a,l){var c=t[l].results;return c?a.concat(c):a},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var d=Array.isArray(a)?a.map(function(f){return uc(uc({},f),{},{params:pg(f.params)})}):pg(a.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[d].concat(c)},function(){return i.apply(void 0,[a].concat(c))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=uc(uc({},e.cache),{},WN({},s,JSON.stringify({results:Object.keys(t).map(function(a){return t[a].results})})))}}}function N8(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=S8(r,2),s=i[0],a=i[1];return t[s]=a?decodeURIComponent(a):"",t},{})}function pg(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];var c=0;return i.replace(/%s/g,function(){return encodeURIComponent(a[c++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function J_(e){return e!==Object(e)}function VN(e,t){if(e===t)return!0;if(J_(e)||J_(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!VN(e[i],t[i]))return!1}return!0}function Xe(e){return typeof e=="number"&&isFinite(e)}function QN(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}var T8=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(n),!0).forEach(function(r){A8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A8(e,t,n){return t=O8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O8(e){var t=I8(e,"string");return Pu(t)=="symbol"?t:String(t)}function I8(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D8(e,t){if(e==null)return{};var n=F8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function F8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var L8=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=D8(n,T8);return t.setQueryParameters(r)},M8=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},$8=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},U8=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=a8(r,function(l){return l.name===i.name});if(s===-1)return r.concat(i);var a=r.slice();return a.splice(s,1,i),a},t.hierarchicalFacets)})},z8=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},B8=function(t,n){return t.setQueryParameters({facetsRefinements:wi(wi({},t.facetsRefinements),n.facetsRefinements)})},H8=function(t,n){return t.setQueryParameters({facetsExcludes:wi(wi({},t.facetsExcludes),n.facetsExcludes)})},q8=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:wi(wi({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},W8=function(t,n){return t.setQueryParameters({numericRefinements:wi(wi({},t.numericRefinements),n.numericRefinements)})},V8=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:wi(wi({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},Q8=function(t,n){var r=QN([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},Bc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var a=V8(i,s),l=U8(a,s),c=z8(l,s),u=W8(c,s),d=q8(u,s),f=H8(d,s),p=B8(f,s),h=$8(p,s),g=Q8(h,s),m=M8(g,s);return L8(m,s)})};function K8(e){return J8(e)||X8(e)||Y8(e)||G8()}function G8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y8(e,t){if(e){if(typeof e=="string")return Ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(e,t)}}function X8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J8(e){if(Array.isArray(e))return Ry(e)}function Ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ej(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,a=s===0?1:s,l=Math.round((r-n)/a);return K8(Array(l)).map(function(c,u){return n+u*a})}function _c(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function tj(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function Z8(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){e9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9(e,t,n){return t=t9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=n9(e,"string");return Nu(t)=="symbol"?t:String(t)}function n9(e,t){if(Nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KN(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return pf(pf({},t),{},{isHighlighted:!l8(e,n)})}):e.map(function(t){return pf(pf({},t),{},{isHighlighted:!1})})}function ws(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){GN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GN(e,t,n){return t=r9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=i9(e,"string");return Tu(t)=="symbol"?t:String(t)}function i9(e,t){if(Tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s9=Jr({name:"configure",connector:!0});function ij(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return zt(zt({},n),{},GN({},r,void 0))},{}))}var a9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jt,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return function(r){if(!r||!MN(r.searchParameters))throw new Error(s9("The `searchParameters` option expects an object."));var i={};function s(a){return function(l){var c=ij(a.state,r),u=Bc(c,new on.SearchParameters(l));r.searchParameters=l,a.setState(u).search()}}return{$$type:"ais.configure",init:function(l){var c=l.instantSearchInstance;t(zt(zt({},this.getWidgetRenderState(l)),{},{instantSearchInstance:c}),!0)},render:function(l){var c=l.instantSearchInstance;t(zt(zt({},this.getWidgetRenderState(l)),{},{instantSearchInstance:c}),!1)},dispose:function(l){var c=l.state;return n(),ij(c,r)},getRenderState:function(l,c){var u,d=this.getWidgetRenderState(c);return zt(zt({},l),{},{configure:zt(zt({},d),{},{widgetParams:zt(zt({},d.widgetParams),{},{searchParameters:Bc(new on.SearchParameters((u=l.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new on.SearchParameters(d.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(l){var c=l.helper;return i.refine||(i.refine=s(c)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(l,c){var u=c.uiState;return Bc(l,new on.SearchParameters(zt(zt({},u.configure),r.searchParameters)))},getWidgetUiState:function(l){return zt(zt({},l),{},{configure:zt(zt({},l.configure),r.searchParameters)})}}}};function Py(e){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(e)}var sj=Object.prototype.hasOwnProperty;function El(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&El(e[i],t[i],n););return i===-1}if(!r||Py(e)==="object"){i=0;for(r in e)if(sj.call(e,r)&&++i&&!sj.call(t,r)||!(r in t)||!El(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function aj(e){var t,n,r;return new on.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){o9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o9(e,t,n){return t=l9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l9(e){var t=c9(e,"string");return Au(t)=="symbol"?t:String(t)}function c9(e,t){if(Au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u9(e){var t=e.getHelper(),n=e.getResults()||aj(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:aj(i.helper.state);return lj(lj({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var YN=x.createContext(null);function XN(e,t){if(!e)throw new Error("Invariant failed")}function d9(){var e=x.useContext(YN);return XN(e!==null),e}var JN=x.createContext(null);function ZN(){var e=x.useContext(JN);return XN(e!==null),e}var f9=x.createContext(null);function eT(){return x.useContext(f9)}var h9=x.createContext(null);function tT(){return x.useContext(h9)}function p9(e,t){return y9(e)||v9(e,t)||g9(e,t)||m9()}function m9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g9(e,t){if(e){if(typeof e=="string")return cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cj(e,t)}}function cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function y9(e){if(Array.isArray(e))return e}function uj(e){var t=x.useState(function(){return e}),n=p9(t,2),r=n[0],i=n[1];return El(r,e)||i(e),r}var x9="use",dj=Xh[x9],b9=typeof window<"u"?x.useLayoutEffect:x.useEffect,w9=x.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function nT(){return x.useContext(w9)}function S9(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,a=e.shouldSsr,l=e.skipSuspense,c=nT(),u=c.waitForResultsRef,d=c.countRef;c.ignoreMultipleHooksWarning;var f=x.useRef(s);x.useEffect(function(){f.current=s},[s]);var p=x.useRef(r);x.useEffect(function(){p.current=r},[r]);var h=x.useRef(null),g=a&&!i.getWidgets().includes(r),m=ZN();if(b9(function(){var v=p.current;if(!h.current)a||i.addWidgets([r]);else{clearTimeout(h.current);var y=El(s,f.current);y||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){h.current=setTimeout(function(){m._schedule(function(){m._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,a,m,s]),(g||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!l){var w;dj(u.current),r.$$type!=="ais.dynamicWidgets"&&(w=m.helper)!==null&&w!==void 0&&w.lastResults&&dj(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(d.current+=1)}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}var _9=["skipSuspense"],j9=["instantSearchInstance","widgetParams"],E9=["widgetParams"];function k9(e,t){return N9(e)||P9(e,t)||R9(e,t)||C9()}function C9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R9(e,t){if(e){if(typeof e=="string")return fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(e,t)}}function fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function N9(e){if(Array.isArray(e))return e}function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(n),!0).forEach(function(r){T9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T9(e,t,n){return t=A9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A9(e){var t=O9(e,"string");return Ou(t)=="symbol"?t:String(t)}function O9(e,t){if(Ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mg(e,t){if(e==null)return{};var n=I9(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=mg(n,_9),a=eT(),l=tT(),c=ZN(),u=d9(),d=uj(t),f=uj(s),p=x.useRef(!0),h=x.useRef(null),g=x.useRef(c.status),m=x.useMemo(function(){var S=e(function(E,_){if(_){p.current=!0;return}if(p.current){var k=E.instantSearchInstance;E.widgetParams;var N=mg(E,j9);(!El(N,h.current,function(I,C){return(I==null?void 0:I.constructor)===Function&&(C==null?void 0:C.constructor)===Function})||k.status!==g.current)&&(b(N),h.current=N,g.current=k.status)}},function(){p.current=!1});return pj(pj({},S(d)),f)},[e,d,f]),w=x.useState(function(){if(m.getWidgetRenderState){var S,E=u.getHelper(),_=u.getWidgetUiState({})[u.getIndexId()];E.state=((S=m.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(m,E.state,{uiState:_}))||E.state;var k=u9(u),N=k.results,I=k.scopedResults,C=k.recommendResults,D=m.getWidgetRenderState({helper:E,parent:u,instantSearchInstance:c,results:m.dependsOn==="recommend"&&C&&l?C[l.recommendIdx.current++]:N,scopedResults:I,state:E.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:c.status==="stalled"},status:c.status,error:c.error});D.widgetParams;var O=mg(D,E9);return O}return{}}),v=k9(w,2),y=v[0],b=v[1];return S9({widget:m,parentIndex:u,props:d,shouldSsr:!!a,skipSuspense:i}),y}function D9(e,t){return ts(a9,{searchParameters:e},t)}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){L9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L9(e,t,n){return t=M9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M9(e){var t=$9(e,"string");return Iu(t)=="symbol"?t:String(t)}function $9(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rT(e){return D9(F9({},e),{$$widgetType:"ais.configure"}),null}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var U9=["initialSearchParameters"],z9=["initialRecommendParameters"];function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(r){Bo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bo(e,t,n){return t=B9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9(e){var t=H9(e,"string");return Du(t)=="symbol"?t:String(t)}function H9(e,t){if(Du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iT(e){return Q9(e)||V9(e)||W9(e)||q9()}function q9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(e,t){if(e){if(typeof e=="string")return Ny(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(e,t)}}function V9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q9(e){if(Array.isArray(e))return Ny(e)}function Ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sT(e,t){if(e==null)return{};var n=K9(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dc=Jr({name:"index-widget"});function aT(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function fc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return wr(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function hc(e,t){var n=t.initialSearchParameters,r=sT(t,U9);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||wr(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function vj(e,t){var n=t.initialRecommendParameters,r=sT(t,z9);return e.reduce(function(i,s){return!wr(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function oT(e){var t=e.filter(wr);t.length!==0&&t.forEach(function(n){var r=n.getHelper();aT(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),oT(n.getWidgets())})}function lT(e){var t=e.filter(wr);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(iT(lT(r.getWidgets()))))},[])}var G9=function(t){if(t===void 0||t.indexName===void 0)throw new Error(dc("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],a={},l=null,c=null,u=null,d=null,f=null,p=!1,h=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var m;return(m=d)!==null&&m!==void 0&&m.lastResults?(d.lastResults._state=u.state,d.lastResults):null},getResultsForWidget:function(m){var w;return m.dependsOn!=="recommend"||wr(m)||m.$$id===void 0?this.getResults():(w=u)!==null&&w!==void 0&&w.lastRecommendResults?u.lastRecommendResults[m.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var m=this.getParent(),w;return m?w=m.getWidgets():n.length===0?w=this.getWidgets():w=[this],lT(w)},getParent:function(){return c},createURL:function(m){return typeof m=="function"?l._createURL(Bo({},i,m(a))):l._createURL(Bo({},i,fc(s,{searchParameters:m,helper:u})))},getWidgets:function(){return s},addWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(dc("The `addWidgets` method expects an array of widgets."));if(m.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(dc("The widget definition expects a `render` and/or an `init` method."));return m.forEach(function(v){wr(v)||(l&&v.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:v.dependsOn==="recommend"?p=!0:h=!0,xH(v))}),s=s.concat(m),l&&m.length&&(aT(u,{state:hc(s,{uiState:a,initialSearchParameters:u.state}),recommendState:vj(s,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),m.forEach(function(v){if(v.getRenderState){var y=v.getRenderState(l.renderState[w.getIndexId()]||{},_c(l,w,l._initialUiState));gg({renderState:y,instantSearchInstance:l,parent:w})}}),m.forEach(function(v){v.init&&v.init(_c(l,w,l._initialUiState))}),l.scheduleSearch()),this},removeWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(dc("The `removeWidgets` method expects an array of widgets."));if(m.some(function(E){return typeof E.dispose!="function"}))throw new Error(dc("The widget definition expects a `dispose` method."));if(s=s.filter(function(E){return m.indexOf(E)===-1}),s.forEach(function(E){wr(E)||(l&&E.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:E.dependsOn==="recommend"?p=!0:h=!0)}),l&&m.length){var v=m.reduce(function(E,_){var k=_.dispose({helper:u,state:E.cleanedSearchState,recommendState:E.cleanedRecommendState,parent:w});return k instanceof on.RecommendParameters?E.cleanedRecommendState=k:k&&(E.cleanedSearchState=k),E},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),y=v.cleanedSearchState,b=v.cleanedRecommendState,S=l.future.preserveSharedStateOnUnmount?hc(s,{uiState:a,initialSearchParameters:new on.SearchParameters({index:this.getIndexName()})}):hc(s,{uiState:fc(s,{searchParameters:y,helper:u}),initialSearchParameters:y});a=fc(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=b,s.length&&l.scheduleSearch()}return this},init:function(m){var w=this,v,y=m.instantSearchInstance,b=m.parent,S=m.uiState;if(u===null){l=y,c=b,a=S[i]||{};var E=y.mainHelper,_=hc(s,{uiState:a,initialSearchParameters:new on.SearchParameters({index:n})}),k=vj(s,{uiState:a,initialRecommendParameters:new on.RecommendParameters});u=on({},_.index,_),u.recommendState=k,u.search=function(){return y.onStateChange?(y.onStateChange({uiState:y.mainIndex.getWidgetUiState({}),setUiState:function(O){return y.setUiState(O,!1)}}),E):E.search()},u.searchWithoutTriggeringOnStateChange=function(){return E.search()},u.searchForFacetValues=function(D,O,H,A){var F=u.state.setQueryParameters(A);return E.searchForFacetValues(D,O,H,F)},d=E.derive(function(){return Bc.apply(void 0,[E.state].concat(iT(Z8(w))))},function(){return w.getHelper().recommendState});var N=(v=y._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(N!=null&&N.results){var I=new on.SearchResults(new on.SearchParameters(N.state),N.results);d.lastResults=I,u.lastResults=I}if(N!=null&&N.recommendResults){var C=new on.RecommendResults(new on.RecommendParameters({params:N.recommendResults.params}),N.recommendResults.results);d.lastRecommendResults=C,u.lastRecommendResults=C}u.on("change",function(D){var O=D.isPageReset;O&&oT(s)}),d.on("search",function(){y.scheduleStalledRender()}),d.on("result",function(D){var O=D.results;y.scheduleRender(),u.lastResults=O,f=O==null?void 0:O._state}),d.on("recommend:result",function(D){var O=D.recommend;y.scheduleRender(),u.lastRecommendResults=O.results}),s.forEach(function(D){if(D.getRenderState){var O=D.getRenderState(y.renderState[w.getIndexId()]||{},_c(y,w,S));gg({renderState:O,instantSearchInstance:y,parent:w})}}),s.forEach(function(D){D.init&&D.init(_c(y,w,S))}),u.on("change",function(D){var O=D.state,H=D._uiState;a=fc(s,{searchParameters:O,helper:u},H||{}),y.onStateChange||y.onInternalStateChange()}),N&&y.scheduleRender(),p&&(y._hasRecommendWidget=!0),h&&(y._hasSearchWidget=!0)}},render:function(m){var w,v=this,y=m.instantSearchInstance;y.status==="error"&&!y.mainHelper.hasPendingRequests()&&f&&u.setState(f);var b=this.getResults()||(w=d)!==null&&w!==void 0&&w.lastRecommendResults?s:s.filter(wr);b=b.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:y}):!0}),b.forEach(function(S){if(S.getRenderState){var E=S.getRenderState(y.renderState[v.getIndexId()]||{},tj(y,v,S));gg({renderState:E,instantSearchInstance:y,parent:v})}}),b.forEach(function(S){S.render&&S.render(tj(y,v,S))})},dispose:function(){var m=this,w,v;s.forEach(function(y){y.dispose&&u&&y.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:m})}),l=null,c=null,(w=u)===null||w===void 0||w.removeAllListeners(),u=null,(v=d)===null||v===void 0||v.detach(),d=null},getWidgetUiState:function(m){return s.filter(wr).reduce(function(w,v){return v.getWidgetUiState(w)},hi(hi({},m),{},Bo({},i,hi(hi({},m[i]),a))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,w){var v=w.uiState;return hc(s,{uiState:v,initialSearchParameters:m})},refreshUiState:function(){a=fc(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(m){var w=typeof m=="function"?m(a):m;l.setUiState(function(v){return hi(hi({},v),{},Bo({},i,w))})}}};function gg(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=hi(hi({},n.renderState),{},Bo({},i,hi(hi({},n.renderState[i]),t)))}function Y9(e,t){return eq(e)||Z9(e,t)||J9(e,t)||X9()}function X9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(e,t){if(e){if(typeof e=="string")return yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yj(e,t)}}function yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function eq(e){if(Array.isArray(e))return e}function tq(){var e=x.useReducer(function(r){return r+1},0),t=Y9(e,2),n=t[1];return n}var nq="ais",$p=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",a=i?"--".concat(i):"";return"".concat(nq,"-").concat(t).concat(s).concat(a)}},rq=$p("Highlight");function iq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=Mp(i._highlightResult,t),c=l||{},u=c.value,d=u===void 0?"":u,f=rq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(mn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(mn.highlightPostTag,"g"),"</".concat(r,">"))}var sq=$p("ReverseHighlight");function aq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=Mp(i._highlightResult,t),c=l||{},u=c.value,d=u===void 0?"":u,f=sq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),p=zN(KN(qN(d)));return p.replace(new RegExp(mn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(mn.highlightPostTag,"g"),"</".concat(r,">"))}var oq=$p("Snippet");function lq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=Mp(i._snippetResult,t),c=l||{},u=c.value,d=u===void 0?"":u,f=oq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(mn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(mn.highlightPostTag,"g"),"</".concat(r,">"))}var cq=$p("ReverseSnippet");function uq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=Mp(i._snippetResult,t),c=l||{},u=c.value,d=u===void 0?"":u,f=cq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),p=zN(KN(qN(d)));return p.replace(new RegExp(mn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(mn.highlightPostTag,"g"),"</".concat(r,">"))}function Ty(e){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ty(e)}function dq(e){var t=e.method,n=e.payload;if(Ty(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=BN(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function fq(e,t){return dq({method:e,payload:t})}function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}var hq="_ALGOLIA";function pq(e){if(!((typeof document>"u"?"undefined":Ay(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function mq(){return pq(hq)}function gq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(r){vq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vq(e,t,n){return t=yq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yq(e){var t=xq(e,"string");return Fu(t)=="symbol"?t:String(t)}function xq(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ii(e,t){return Sq(e)||wq(e,t)||cT(e,t)||bq()}function bq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Sq(e){if(Array.isArray(e))return e}function _q(e){return kq(e)||Eq(e)||cT(e)||jq()}function jq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cT(e,t){if(e){if(typeof e=="string")return Oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(e,t)}}function Eq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kq(e){if(Array.isArray(e))return Oy(e)}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uT="2.17.2",Cq="https://cdn.jsdelivr.net/npm/search-insights@".concat(uT,"/dist/search-insights.min.js");function bj(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,a=e.$$automatic,l=a===void 0?!1:a,c=t;!t&&t!==null&&ws(function(d){var f=d.window,p=f.AlgoliaAnalyticsObject||"aa";typeof p=="string"&&(c=f[p]),c||(f.AlgoliaAnalyticsObject=p,f[p]||(f[p]=function(){f[p].queue||(f[p].queue=[]);for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];f[p].queue.push(g)},f[p].version=uT,f[p].shouldAddScript=!0),c=f[p])});var u=c||jt;return function(d){var f=d.instantSearchInstance,p=f.middleware.filter(function(I){return I.instance.$$type==="ais.insights"&&I.instance.$$internal}).map(function(I){return I.creator});f.unuse.apply(f,_q(p));var h=H_(f.client),g=Ii(h,2),m=g[0],w=g[1],v=void 0,y=void 0,b=void 0,S=u.queue;if(Array.isArray(S)){var E=["setUserToken","init"].map(function(I){var C=ju(S.slice().reverse(),function(H){var A=Ii(H,1),F=A[0];return F===I})||[],D=Ii(C,2),O=D[1];return O}),_=Ii(E,2);y=_[0],v=_[1]}u("getUserToken",null,function(I,C){b=Sj(C)}),(n||!wj(u))&&u("init",oa({appId:m,apiKey:w,partial:!0},n));var k,N;return{$$type:"ais.insights",$$internal:s,$$automatic:l,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var C="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var D=document.createElement("script");D.async=!0,D.src=Cq,D.onerror=function(){f.emit("error",new Error(C))},document.body.appendChild(D),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,f.emit("error",new Error(C))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),N=f.mainHelper;var C=u.queue;if(Array.isArray(C)){var D=["setUserToken","init"].map(function(K){var J=ju(C.slice().reverse(),function(le){var ue=Ii(le,1),ve=ue[0];return ve===K})||[],V=Ii(J,2),oe=V[1];return oe}),O=Ii(D,2);y=O[0],v=O[1]}k=Rq(f),l||N.overrideStateWithoutTriggeringChangeEvent(oa(oa({},N.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var H=function(J){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=Sj(J);if(!oe)return;var le=N.state.userToken;function ue(){N.overrideStateWithoutTriggeringChangeEvent(oa(oa({},N.state),{},{userToken:oe})),le&&le!==J&&f.scheduleSearch()}V?ue():setTimeout(ue,0)};function A(K){H(K,!0),u("setUserToken",K)}var F=void 0,U=mq();if(U)F=U;else{var B="anonymous-".concat(gq());F=B}var R,T=k.userToken;if(n!=null&&n.userToken&&(R=n.userToken),R)A(R);else if(T)A(T);else if(b)A(b);else if(y)A(y);else if(F){var j;if(A(F),n!=null&&n.useCookie||(j=v)!==null&&j!==void 0&&j.useCookie){var M;Pq(F,(n==null?void 0:n.cookieDuration)||((M=v)===null||M===void 0?void 0:M.cookieDuration))}}u("onUserTokenChange",function(K){return H(K,!0)},{immediate:!0});var $=u;wj(u)&&($=function(J,V){var oe=H_(f.client),le=Ii(oe,2),ue=le[0],ve=le[1],Pe={headers:{"X-Algolia-Application-Id":ue,"X-Algolia-API-Key":ve}};return u(J,V,Pe)});var P=new Set,Q;f.mainHelper.derivedHelpers[0].on("result",function(K){var J=K.results;J&&(!J.queryID||J.queryID!==Q)&&(Q=J.queryID,P.clear())}),f.sendEventToInsights=function(K){if(r)r(K,$);else if(K.insightsMethod){if(K.insightsMethod==="viewedObjectIDs"){var J=K.payload,V=J.objectIDs.filter(function(oe){return!P.has(oe)});if(V.length===0)return;V.forEach(function(oe){return P.add(oe)}),J.objectIDs=V}K.payload.algoliaSource=["instantsearch"],l&&K.payload.algoliaSource.push("instantsearch-automatic"),K.eventModifier==="internal"&&K.payload.algoliaSource.push("instantsearch-internal"),$(K.insightsMethod,K.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),f.sendEventToInsights=jt,N&&k&&(N.overrideStateWithoutTriggeringChangeEvent(oa(oa({},N.state),k)),f.scheduleSearch())}}}}function Rq(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function Pq(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function wj(e){var t=(e.version||"").split(".").map(Number),n=Ii(t,2),r=n[0],i=n[1],s=r>=3,a=r===2&&i>=6,l=r===1&&i>=10;return s||a||l}function Sj(e){if(e)return typeof e=="number"?e.toString():e}function dT(e,t,n){var r=_c(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var a=i.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var l=Object.keys(s).filter(function(c){return s[c]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:l}),i.$$type==="ais.index"&&dT(i.getWidgets(),t,n)})}function Nq(){return ws(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Tq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),l=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,dT(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(d){return s.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),a.content=JSON.stringify(s),l.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var Aq=String.prototype.replace,Oq=/%20/g,vg={RFC1738:"RFC1738",RFC3986:"RFC3986"},Kb={default:vg.RFC3986,formatters:{RFC1738:function(e){return Aq.call(e,Oq,"+")},RFC3986:function(e){return String(e)}},RFC1738:vg.RFC1738,RFC3986:vg.RFC3986},Iq=Kb,yg=Object.prototype.hasOwnProperty,ga=Array.isArray,ii=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Dq=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(ga(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},fT=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Fq=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(ga(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!yg.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return ga(t)&&!ga(n)&&(i=fT(t,r)),ga(t)&&ga(n)?(n.forEach(function(s,a){if(yg.call(t,a)){var l=t[a];l&&typeof l=="object"&&s&&typeof s=="object"?t[a]=e(l,s,r):t.push(s)}else t[a]=s}),t):Object.keys(n).reduce(function(s,a){var l=n[a];return yg.call(s,a)?s[a]=e(s[a],l,r):s[a]=l,s},i)},Lq=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Mq=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},$q=function(t,n,r,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Iq.RFC1738&&(u===40||u===41)){l+=a.charAt(c);continue}if(u<128){l=l+ii[u];continue}if(u<2048){l=l+(ii[192|u>>6]+ii[128|u&63]);continue}if(u<55296||u>=57344){l=l+(ii[224|u>>12]+ii[128|u>>6&63]+ii[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),l+=ii[240|u>>18]+ii[128|u>>12&63]+ii[128|u>>6&63]+ii[128|u&63]}return l},Uq=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],l=Object.keys(a),c=0;c<l.length;++c){var u=l[c],d=a[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:a,prop:u}),r.push(d))}return Dq(n),t},zq=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Bq=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Hq=function(t,n){return[].concat(t,n)},qq=function(t,n){if(ga(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},hT={arrayToObject:fT,assign:Lq,combine:Hq,compact:Uq,decode:Mq,encode:$q,isBuffer:Bq,isRegExp:zq,maybeMap:qq,merge:Fq},Iy=hT,Hc=Kb,Wq=Object.prototype.hasOwnProperty,_j={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},wa=Array.isArray,Vq=String.prototype.split,Qq=Array.prototype.push,pT=function(e,t){Qq.apply(e,wa(t)?t:[t])},Kq=Date.prototype.toISOString,jj=Hc.default,Gt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Iy.encode,encodeValuesOnly:!1,format:jj,formatter:Hc.formatters[jj],indices:!1,serializeDate:function(t){return Kq.call(t)},skipNulls:!1,strictNullHandling:!1},Gq=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Yq=function e(t,n,r,i,s,a,l,c,u,d,f,p,h,g){var m=t;if(typeof l=="function"?m=l(n,m):m instanceof Date?m=d(m):r==="comma"&&wa(m)&&(m=Iy.maybeMap(m,function(D){return D instanceof Date?d(D):D})),m===null){if(i)return a&&!h?a(n,Gt.encoder,g,"key",f):n;m=""}if(Gq(m)||Iy.isBuffer(m)){if(a){var w=h?n:a(n,Gt.encoder,g,"key",f);if(r==="comma"&&h){for(var v=Vq.call(String(m),","),y="",b=0;b<v.length;++b)y+=(b===0?"":",")+p(a(v[b],Gt.encoder,g,"value",f));return[p(w)+"="+y]}return[p(w)+"="+p(a(m,Gt.encoder,g,"value",f))]}return[p(n)+"="+p(String(m))]}var S=[];if(typeof m>"u")return S;var E;if(r==="comma"&&wa(m))E=[{value:m.length>0?m.join(",")||null:void 0}];else if(wa(l))E=l;else{var _=Object.keys(m);E=c?_.sort(c):_}for(var k=0;k<E.length;++k){var N=E[k],I=typeof N=="object"&&typeof N.value<"u"?N.value:m[N];if(!(s&&I===null)){var C=wa(m)?typeof r=="function"?r(n,N):n:n+(u?"."+N:"["+N+"]");pT(S,e(I,C,r,i,s,a,l,c,u,d,f,p,h,g))}}return S},Xq=function(t){if(!t)return Gt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Gt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Hc.default;if(typeof t.format<"u"){if(!Wq.call(Hc.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=Hc.formatters[r],s=Gt.filter;return(typeof t.filter=="function"||wa(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Gt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Gt.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Gt.charsetSentinel,delimiter:typeof t.delimiter>"u"?Gt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Gt.encode,encoder:typeof t.encoder=="function"?t.encoder:Gt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Gt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Gt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Gt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Gt.strictNullHandling}},Jq=function(e,t){var n=e,r=Xq(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):wa(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var l;t&&t.arrayFormat in _j?l=t.arrayFormat:t&&"indices"in t?l=t.indices?"indices":"repeat":l="indices";var c=_j[l];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var d=i[u];r.skipNulls&&n[d]===null||pT(a,Yq(n[d],d,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=a.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},kl=hT,Dy=Object.prototype.hasOwnProperty,Zq=Array.isArray,Kt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:kl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},eW=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},mT=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},tW="utf8=%26%2310003%3B",nW="utf8=%E2%9C%93",rW=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,s),l=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===nW?u="utf-8":a[c]===tW&&(u="iso-8859-1"),l=c,c=a.length);for(c=0;c<a.length;++c)if(c!==l){var d=a[c],f=d.indexOf("]="),p=f===-1?d.indexOf("="):f+1,h,g;p===-1?(h=n.decoder(d,Kt.decoder,u,"key"),g=n.strictNullHandling?null:""):(h=n.decoder(d.slice(0,p),Kt.decoder,u,"key"),g=kl.maybeMap(mT(d.slice(p+1),n),function(m){return n.decoder(m,Kt.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=eW(g)),d.indexOf("[]=")>-1&&(g=Zq(g)?[g]:g),Dy.call(r,h)?r[h]=kl.combine(r[h],g):r[h]=g}return r},iW=function(e,t,n,r){for(var i=r?t:mT(t,n),s=e.length-1;s>=0;--s){var a,l=e[s];if(l==="[]"&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=parseInt(c,10);!n.parseArrays&&c===""?a={0:i}:!isNaN(u)&&l!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},sW=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=r.depth>0&&a.exec(s),u=c?s.slice(0,c.index):s,d=[];if(u){if(!r.plainObjects&&Dy.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(c=l.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Dy.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),iW(d,n,r,i)}},aW=function(t){if(!t)return Kt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?Kt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Kt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Kt.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Kt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Kt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Kt.comma,decoder:typeof t.decoder=="function"?t.decoder:Kt.decoder,delimiter:typeof t.delimiter=="string"||kl.isRegExp(t.delimiter)?t.delimiter:Kt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Kt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Kt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Kt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Kt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Kt.strictNullHandling}},oW=function(e,t){var n=aW(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?rW(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var l=s[a],c=sW(l,r[l],n,typeof e=="string");i=kl.merge(i,c,n)}return kl.compact(i)},lW=Jq,cW=oW,uW=Kb,dW={formats:uW,parse:cW,stringify:lW};const Ej=Wa(dW);function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function fW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gT(r.key),r)}}function pW(e,t,n){return t&&hW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bn(e,t,n){return t=gT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gT(e){var t=mW(e,"string");return Lu(t)=="symbol"?t:String(t)}function mW(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kj=function(t){t&&(window.document.title=t)},gW=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,a=t.createURL,l=t.parseURL,c=t.getLocation,u=t.start,d=t.dispose,f=t.push,p=t.cleanUrlOnDispose;fW(this,e),bn(this,"$$type","ais.browser"),bn(this,"windowTitle",void 0),bn(this,"writeDelay",void 0),bn(this,"_createURL",void 0),bn(this,"parseURL",void 0),bn(this,"getLocation",void 0),bn(this,"writeTimer",void 0),bn(this,"_onPopState",void 0),bn(this,"inPopState",!1),bn(this,"isDisposed",!1),bn(this,"latestAcknowledgedHistory",0),bn(this,"_start",void 0),bn(this,"_dispose",void 0),bn(this,"_push",void 0),bn(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=l,this.getLocation=c,this._start=u,this._dispose=d,this._push=f,this._cleanUrlOnDispose=typeof p>"u"?!0:p,ws(function(h){var g=h.window,m=n.windowTitle&&n.windowTitle(n.read());kj(m),n.latestAcknowledgedHistory=g.history.length})}return pW(e,[{key:"read",value:function(){return this.parseURL({qsModule:Ej,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;ws(function(i){var s=i.window,a=r.createURL(n),l=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){kj(l),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(n,l||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},ws(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:Ej,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,ws(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return ws(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&n!==s.location.href})}}]),e}();function vW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(g){var m=g.qsModule,w=g.routeState,v=g.location,y=v.protocol,b=v.hostname,S=v.port,E=S===void 0?"":S,_=v.pathname,k=v.hash,N=m.stringify(w),I=E===""?"":":".concat(E);return N?"".concat(y,"//").concat(b).concat(I).concat(_,"?").concat(N).concat(k):"".concat(y,"//").concat(b).concat(I).concat(_).concat(k)}:t,r=e.parseURL,i=r===void 0?function(g){var m=g.qsModule,w=g.location;return m.parse(w.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=s===void 0?400:s,l=e.windowTitle,c=e.getLocation,u=c===void 0?function(){return ws(function(g){var m=g.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,d=e.start,f=e.dispose,p=e.push,h=e.cleanUrlOnDispose;return new gW({createURL:n,parseURL:i,writeDelay:a,windowTitle:l,getLocation:u,start:d,dispose:f,push:p,cleanUrlOnDispose:h})}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var yW=["configure"];function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){Fy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fy(e,t,n){return t=xW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e){var t=bW(e,"string");return Mu(t)=="symbol"?t:String(t)}function bW(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wW(e,t){if(e==null)return{};var n=SW(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Rj(e){e.configure;var t=wW(e,yW);return t}function _W(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return mf(mf({},n),{},Fy({},r,Rj(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return mf(mf({},n),{},Fy({},r,Rj(t[r])))},{})}}}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){vT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vT(e,t,n){return t=jW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=EW(e,"string");return $u(t)=="symbol"?t:String(t)}function EW(e,t){if($u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?vW():n,i=t.stateMapping,s=i===void 0?_W():i,a=t.$$internal,l=a===void 0?!1:a;return function(c){var u=c.instantSearchInstance;function d(h){var g=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),m=Object.keys(h).reduce(function(v,y){return gf(gf({},v),{},vT({},y,h[y]))},g),w=s.stateToRoute(m);return r.createURL(w)}u._createURL=d;var f=void 0,p=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:l,onStateChange:function(g){var m=g.uiState,w=s.stateToRoute(m);(f===void 0||!VN(f,w))&&(r.write(w),f=w)},subscribe:function(){u._initialUiState=gf(gf({},p),s.routeToState(r.read())),r.onUpdate(function(g){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(g))})},started:function(){var g;(g=r.start)===null||g===void 0||g.call(r)},unsubscribe:function(){r.dispose()}}}};function CW(e,t){return e.toLocaleString(t)}function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ti(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return t=PW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=NW(e,"string");return Uu(t)=="symbol"?t:String(t)}function NW(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TW(e){var t=e.numberLocale;return{formatNumber:function(r,i){return CW(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(iq(Ti(Ti({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(aq(Ti(Ti({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(lq(Ti(Ti({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(uq(Ti(Ti({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),a=s.method,l=s.payload;return i(fq(a,Ti({objectIDs:[this.objectID]},l)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const AW="4.79.2";function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){Be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yT(r.key),r)}}function DW(e,t,n){return t&&IW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ly(e,t)}function LW(e){var t=$W();return function(){var r=Mh(e),i;if(t){var s=Mh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return MW(this,i)}}function MW(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mh(e){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(e)}function Be(e,t,n){return t=yT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yT(e){var t=UW(e,"string");return Cl(t)=="symbol"?t:String(t)}function UW(e,t){if(Cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ir=Jr({name:"instantsearch"});function zW(){return"#"}var xT={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},BW=function(e){FW(n,e);var t=LW(n);function n(r){var i;OW(this,n),i=t.call(this),Be($e(i),"client",void 0),Be($e(i),"indexName",void 0),Be($e(i),"compositionID",void 0),Be($e(i),"insightsClient",void 0),Be($e(i),"onStateChange",null),Be($e(i),"future",void 0),Be($e(i),"helper",void 0),Be($e(i),"mainHelper",void 0),Be($e(i),"mainIndex",void 0),Be($e(i),"started",void 0),Be($e(i),"templatesConfig",void 0),Be($e(i),"renderState",{}),Be($e(i),"_stalledSearchDelay",void 0),Be($e(i),"_searchStalledTimer",void 0),Be($e(i),"_initialUiState",void 0),Be($e(i),"_initialResults",void 0),Be($e(i),"_manuallyResetScheduleSearch",!1),Be($e(i),"_resetScheduleSearch",void 0),Be($e(i),"_createURL",void 0),Be($e(i),"_searchFunction",void 0),Be($e(i),"_mainHelperSearch",void 0),Be($e(i),"_hasSearchWidget",!1),Be($e(i),"_hasRecommendWidget",!1),Be($e(i),"_insights",void 0),Be($e(i),"middleware",[]),Be($e(i),"sendEventToInsights",void 0),Be($e(i),"status","idle"),Be($e(i),"error",void 0),Be($e(i),"scheduleSearch",cc(function(){i.started&&i.mainHelper.search()})),Be($e(i),"scheduleRender",cc(function(){var O,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(O=i.mainHelper)!==null&&O!==void 0&&O.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,H&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:$e(i)}),i.emit("render")})),Be($e(i),"onInternalStateChange",cc(function(){var O=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(H){var A=H.instance;A.onStateChange({uiState:O})})})),i.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,l=r.compositionID,c=r.numberLocale,u=r.initialUiState,d=u===void 0?{}:u,f=r.routing,p=f===void 0?null:f,h=r.insights,g=h===void 0?void 0:h,m=r.searchFunction,w=r.stalledSearchDelay,v=w===void 0?200:w,y=r.searchClient,b=y===void 0?null:y,S=r.insightsClient,E=S===void 0?null:S,_=r.onStateChange,k=_===void 0?null:_,N=r.future,I=N===void 0?xg(xg({},xT),r.future||{}):N;if(b===null)throw new Error(Ir("The `searchClient` option is required."));if(typeof b.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof b.addAlgoliaAgent=="function"&&b.addAlgoliaAgent("instantsearch.js (".concat(AW,")")),E&&typeof E!="function")throw new Error(Ir("The `insightsClient` option should be a function."));if(i.client=b,i.future=I,i.insightsClient=E,i.indexName=a,i.compositionID=l,i.helper=null,i.mainHelper=null,i.mainIndex=G9({indexName:i.compositionID||i.indexName}),i.onStateChange=k,i.started=!1,i.templatesConfig={helpers:TW({numberLocale:c}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=zW,i._initialUiState=d,i._initialResults=null,i._insights=g,m&&(i._searchFunction=m),i.sendEventToInsights=jt,p){var C=typeof p=="boolean"?{}:p;C.$$internal=!0,i.use(kW(C))}if(g){var D=typeof g=="boolean"?{}:g;D.$$internal=!0,i.use(bj(D))}return Nq()&&i.use(Tq({$$internal:!0})),i}return DW(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var c=a.map(function(u){var d=xg({$$type:"__unknown__",$$internal:!1,subscribe:jt,started:jt,unsubscribe:jt,onStateChange:jt},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:d}),d});return this.started&&c.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.middleware.filter(function(l){return s.includes(l.creator)}).forEach(function(l){return l.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(l){return!s.includes(l.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Ir("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(Ir("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(wr))throw new Error(Ir("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Ir("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(Ir("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Ir("The `start` method has already been called once."));var s=this.mainHelper||on(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(jt)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var c=i.mainIndex.getHelper(),u=on(a,c.state.index,c.state);return u.once("search",function(d){var f=d.state;c.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),u.on("change",function(d){var f=d.state;c.setState(f)}),i._searchFunction(u),s}}if(s.on("error",function(c){var u=c.error;if(!(u instanceof Error)){var d=u;u=Object.keys(d).reduce(function(f,p){return f[p]=d[p],f},new Error(d.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(c){var u=c.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){P8(this.client,this._initialResults),w8(this.mainHelper,this._initialResults);var l=this.scheduleSearch;this.scheduleSearch=cc(jt),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=l}:cc(function(){i.scheduleSearch=l})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var u=c.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var c=i.mainIndex.getScopedResults().some(function(u){var d=u.results;return d==null?void 0:d._automaticInsights});c&&i.use(bj({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Ir("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var l=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&a?this.onStateChange({uiState:l,setUiState:function(u){Cy(typeof u=="function"?u(l):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(Cy(l,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Ir("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Ir("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(sB),bT={exports:{}},wT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=x;function HW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qW=typeof Object.is=="function"?Object.is:HW,WW=Rl.useState,VW=Rl.useEffect,QW=Rl.useLayoutEffect,KW=Rl.useDebugValue;function GW(e,t){var n=t(),r=WW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return QW(function(){i.value=n,i.getSnapshot=t,bg(i)&&s({inst:i})},[e,n,t]),VW(function(){return bg(i)&&s({inst:i}),e(function(){bg(i)&&s({inst:i})})},[e]),KW(n),n}function bg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qW(e,n)}catch{return!0}}function YW(e,t){return t()}var XW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YW:GW;wT.useSyncExternalStore=Rl.useSyncExternalStore!==void 0?Rl.useSyncExternalStore:XW;bT.exports=wT;var JW=bT.exports,ZW={};function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){eV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eV(e,t,n){return t=tV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e){var t=nV(e,"string");return zu(t)=="symbol"?t:String(t)}function nV(e,t){if(zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ij=["react (".concat(x.version,")"),"react-instantsearch (".concat(by,")"),"react-instantsearch-core (".concat(by,")")],Dj="react-instantsearch-server (".concat(by,")"),rV=function(t){return t?"next.js (".concat(t,")"):null};function iV(e){var t=tq(),n=eT(),r=tT(),i=nT(),s=i.waitForResultsRef,a=r==null?void 0:r.initialResults,l=x.useRef(e),c=n||a||s,u=x.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var d=new BW(e);d._schedule=function(v){d._schedule.queue.push(v),clearTimeout(d._schedule.timer),d._schedule.timer=setTimeout(function(){d._schedule.queue.forEach(function(y){y()}),d._schedule.queue=[]},0)},d._schedule.queue=[],c&&(d._initialResults=a||{},d._manuallyResetScheduleSearch=!0),Fj(e.searchClient,[].concat(Ij,[n&&Dj,rV(sV())])),c&&d.start(),n&&n.notifyServer({search:d}),e.routing,u.current=d}{var f=u.current,p=l.current;if(p.indexName!==e.indexName&&(f.helper.setIndex(e.indexName||"").search(),l.current=e),p.searchClient!==e.searchClient&&(Fj(e.searchClient,[].concat(Ij,[n&&Dj])),f.mainHelper.setClient(e.searchClient).search(),l.current=e),p.onStateChange!==e.onStateChange&&(f.onStateChange=e.onStateChange,l.current=e),p.searchFunction!==e.searchFunction&&(f._searchFunction=e.searchFunction,l.current=e),p.stalledSearchDelay!==e.stalledSearchDelay){var h;f._stalledSearchDelay=(h=e.stalledSearchDelay)!==null&&h!==void 0?h:200,l.current=e}El(p.future,e.future)||(f.future=Oj(Oj({},xT),e.future),l.current=e)}var g=x.useRef(null),m=JW.useSyncExternalStore(x.useCallback(function(){var w=u.current;return g.current===null?w.started||(w.start(),t()):(clearTimeout(g.current),w._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){w.dispose()}clearTimeout(w._schedule.timer),g.current=setTimeout(v),w._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return m}function Fj(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function sV(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=ZW)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var aV=["children"];function oV(e,t){if(e==null)return{};var n=lV(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cV(e){var t=e.children,n=oV(e,aV),r=iV(n);return r.started?q.createElement(JN.Provider,{value:r},q.createElement(YN.Provider,{value:r.mainIndex},t,q.createElement(uV,{search:r}))):null}function uV(e){var t=e.search;return x.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function dV(e){return mV(e)||pV(e)||hV(e)||fV()}function fV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hV(e,t){if(e){if(typeof e=="string")return My(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(e,t)}}function pV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mV(e){if(Array.isArray(e))return My(e)}function My(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(n),!0).forEach(function(r){gV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gV(e,t,n){return t=vV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vV(e){var t=yV(e,"string");return Bu(t)=="symbol"?t:String(t)}function yV(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mj=Jr({name:"clear-refinements",connector:!0}),xV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,Mj()),function(r){var i=r||{},s=i.includedAttributes,a=s===void 0?[]:s,l=i.excludedAttributes,c=l===void 0?["query"]:l,u=i.transformItems,d=u===void 0?function(g){return g}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(Mj("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:jt,createURL:function(){return""},attributesToClear:[]},p=function(){return f.refine()},h=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var w=m.instantSearchInstance;t(yo(yo({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!0)},render:function(m){var w=m.instantSearchInstance;t(yo(yo({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!1)},dispose:function(){n()},getRenderState:function(m,w){return yo(yo({},m),{},{clearRefinements:this.getWidgetRenderState(w)})},getWidgetRenderState:function(m){var w=m.createURL,v=m.scopedResults,y=m.results;f.attributesToClear=v.reduce(function(S,E){return S.concat(bV({scopedResult:E,includedAttributes:a,excludedAttributes:c,transformItems:d,results:y}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var E=S.helper,_=S.items;E.setState(L_({helper:E,attributesToClear:_})).search()})},f.createURL=function(){return w(Bc.apply(void 0,dV(f.attributesToClear.map(function(S){var E=S.helper,_=S.items;return L_({helper:E,attributesToClear:_})}))))};var b=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:b,hasRefinements:b,refine:p,createURL:h,widgetParams:r}}}}};function bV(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(QN(c8(t.results,t.helper.state,a).map(function(l){return l.attribute}).filter(function(l){return n.length===0||n.indexOf(l)!==-1}).filter(function(l){return l==="query"&&a||r.indexOf(l)===-1})),{results:s})}}function wV(e,t){return ts(xV,e,t)}function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){ST(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ST(e,t,n){return t=SV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(e){var t=_V(e,"string");return Hu(t)=="symbol"?t:String(t)}function _V(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jV=Jr({name:"hits",connector:!0});const EV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,jV()),function(r){var i=r||{},s=i.escapeHTML,a=s===void 0?!0:s,l=i.transformItems,c=l===void 0?function(f){return f}:l,u,d;return{$$type:"ais.hits",init:function(p){t(cs(cs({},this.getWidgetRenderState(p)),{},{instantSearchInstance:p.instantSearchInstance}),!0)},render:function(p){var h=this.getWidgetRenderState(p);t(cs(cs({},h),{},{instantSearchInstance:p.instantSearchInstance}),!1),h.sendEvent("view:internal",h.items)},getRenderState:function(p,h){return cs(cs({},p),{},{hits:this.getWidgetRenderState(h)})},getWidgetRenderState:function(p){var h,g,m,w=p.results,v=p.helper,y=p.instantSearchInstance;if(u||(u=e8({instantSearchInstance:y,helper:v,widgetType:this.$$type})),d||(d=t8({helper:v,widgetType:this.$$type,instantSearchInstance:y})),!w)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:d,widgetParams:r};a&&w.hits.length>0&&(w.hits=AH(w.hits));var b=h8(w.hits,w.page,w.hitsPerPage),S=v8(b,w.queryID),E=c(S,{results:w}),_=(h=w.renderingContent)===null||h===void 0||(g=h.widgets)===null||g===void 0||(m=g.banners)===null||m===void 0?void 0:m[0];return{hits:E,items:E,results:w,banner:_,sendEvent:u,bindEvent:d,widgetParams:r}},dispose:function(p){var h=p.state;return n(),a?h.setQueryParameters(Object.keys(Sl).reduce(function(g,m){return cs(cs({},g),{},ST({},m,void 0))},{})):h},getWidgetSearchParameters:function(p,h){return a?p.setQueryParameters(Sl):p}}}};function Up(e,t){return ts(EV,e,t)}function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function kV(e){return NV(e)||PV(e)||RV(e)||CV()}function CV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(e,t){if(e){if(typeof e=="string")return $y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(e,t)}}function PV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NV(e){if(Array.isArray(e))return $y(e)}function $y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(r){TV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TV(e,t,n){return t=AV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AV(e){var t=OV(e,"string");return qu(t)=="symbol"?t:String(t)}function OV(e,t){if(qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vf=Jr({name:"hits-per-page",connector:!0}),IV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,vf()),function(r){var i=r||{},s=i.items,a=i.transformItems,l=a===void 0?function(h){return h}:a;if(!Array.isArray(s))throw new Error(vf("The `items` option expects an array of objects."));var c=s,u=c.filter(function(h){return h.default===!0});if(u.length===0)throw new Error(vf("A default value must be specified in `items`."));if(u.length>1)throw new Error(vf("More than one default value is specified in `items`."));var d=u[0],f=function(g){var m=g.hitsPerPage;return c.map(function(w){return si(si({},w),{},{isRefined:Number(w.value)===Number(m)})})},p={getRefine:function(g){return function(m){return!m&&m!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",m).search()}},createURLFactory:function(g){var m=g.state,w=g.createURL,v=g.getWidgetUiState,y=g.helper;return function(b){return w(function(S){return v(S,{searchParameters:m.resetPage().setQueryParameter("hitsPerPage",!b&&b!==0?void 0:b),helper:y})})}}};return{$$type:"ais.hitsPerPage",init:function(g){var m=g.state,w=g.instantSearchInstance,v=c.some(function(y){return Number(m.hitsPerPage)===Number(y.value)});v||(c=[{value:"",label:""}].concat(kV(c))),t(si(si({},this.getWidgetRenderState(g)),{},{instantSearchInstance:w}),!0)},render:function(g){var m=g.instantSearchInstance;t(si(si({},this.getWidgetRenderState(g)),{},{instantSearchInstance:m}),!1)},dispose:function(g){var m=g.state;return n(),m.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,m){return si(si({},g),{},{hitsPerPage:this.getWidgetRenderState(m)})},getWidgetRenderState:function(g){var m=g.state,w=g.results,v=g.createURL,y=g.helper,b=w?w.nbHits>0:!1;return{items:l(f(m),{results:w}),refine:p.getRefine(y),createURL:p.createURLFactory({state:m,createURL:v,getWidgetUiState:this.getWidgetUiState,helper:y}),hasNoResults:!b,canRefine:b,widgetParams:r}},getWidgetUiState:function(g,m){var w=m.searchParameters,v=w.hitsPerPage;return v===void 0||v===d.value?g:si(si({},g),{},{hitsPerPage:v})},getWidgetSearchParameters:function(g,m){var w=m.uiState;return g.setQueryParameters({hitsPerPage:w.hitsPerPage||d.value})}}}};function DV(e,t){return ts(IV,e,t)}function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function FV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_T(r.key),r)}}function MV(e,t,n){return t&&LV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wg(e,t,n){return t=_T(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _T(e){var t=$V(e,"string");return Wu(t)=="symbol"?t:String(t)}function $V(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UV=function(){function e(t){FV(this,e),wg(this,"currentPage",void 0),wg(this,"total",void 0),wg(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return MV(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return ej({end:n});var a=this.calculatePaddingLeft(r,i,n,s),l=s-a,c=r-a,u=r+l;return ej({start:c,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){zV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zV(e,t,n){return t=BV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BV(e){var t=HV(e,"string");return Vu(t)=="symbol"?t:String(t)}function HV(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qV=Jr({name:"pagination",connector:!0}),WV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,qV()),function(r){var i=r||{},s=i.totalPages,a=i.padding,l=a===void 0?3:a,c=new UV({currentPage:0,total:0,padding:l}),u={};function d(f){var p=f.nbPages;return s!==void 0?Math.min(s,p):p}return{$$type:"ais.pagination",init:function(p){var h=p.instantSearchInstance;t(ai(ai({},this.getWidgetRenderState(p)),{},{instantSearchInstance:h}),!0)},render:function(p){var h=p.instantSearchInstance;t(ai(ai({},this.getWidgetRenderState(p)),{},{instantSearchInstance:h}),!1)},dispose:function(p){var h=p.state;return n(),h.setQueryParameter("page",void 0)},getWidgetUiState:function(p,h){var g=h.searchParameters,m=g.page||0;return m?ai(ai({},p),{},{page:m+1}):p},getWidgetSearchParameters:function(p,h){var g=h.uiState,m=g.page?g.page-1:0;return p.setQueryParameter("page",m)},getWidgetRenderState:function(p){var h=p.results,g=p.helper,m=p.state,w=p.createURL;u.refine||(u.refine=function(b){g.setPage(b),g.search()}),u.createURL||(u.createURL=function(b){return w(function(S){return ai(ai({},S),{},{page:b+1})})});var v=m.page||0,y=d(h||{nbPages:0});return c.currentPage=v,c.total=y,{createURL:u.createURL,refine:u.refine,canRefine:y>1,currentRefinement:v,nbHits:(h==null?void 0:h.nbHits)||0,nbPages:y,pages:h?c.pages():[],isFirstPage:c.isFirstPage(),isLastPage:c.isLastPage(),widgetParams:r}},getRenderState:function(p,h){return ai(ai({},p),{},{pagination:this.getWidgetRenderState(h)})}}}};function jT(e,t){return ts(WV,e,t)}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){Vf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vf(e,t,n){return t=VV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=QV(e,"string");return Qu(t)=="symbol"?t:String(t)}function QV(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(e,t){return XV(e)||YV(e,t)||GV(e,t)||KV()}function KV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e,t){if(e){if(typeof e=="string")return Hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(e,t)}}function Hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function XV(e){if(Array.isArray(e))return e}var Sg=Jr({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),JV="ais.range";function qj(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t&&Math.floor(t*i)/i,max:n&&Math.ceil(n*i)/i}}var ZV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,Sg()),function(r){var i=r||{},s=i.attribute,a=s===void 0?"":s,l=i.min,c=i.max,u=i.precision,d=u===void 0?0:u;if(!a)throw new Error(Sg("The `attribute` option is required."));if(Xe(l)&&Xe(c)&&l>c)throw new Error(Sg("The `max` option can't be lower than `min`."));var f=function(b){return Number(Number(b).toFixed(d))},p={from:function(b){return b.toLocaleString()},to:function(b){return f(b).toLocaleString()}},h=function(b,S,E,_){var k=b.state,N=S.min,I=S.max,C=k.getNumericRefinement(a,">=")||[],D=xo(C,1),O=D[0],H=k.getNumericRefinement(a,"<=")||[],A=xo(H,1),F=A[0],U=E===void 0||E==="",B=_===void 0||_==="",R=qj({min:U?void 0:parseFloat(E),max:B?void 0:parseFloat(_),precision:d}),T=R.min,j=R.max,M;!Xe(l)&&N===T?M=void 0:Xe(l)&&U?M=l:M=T;var $;!Xe(c)&&I===j?$=void 0:Xe(c)&&B?$=c:$=j;var P=M===void 0,Q=Xe(N)&&N<=M,K=P||Xe(M)&&(!Xe(N)||Q),J=$===void 0,V=Xe($)&&I>=$,oe=J||Xe($)&&(!Xe(I)||V),le=O!==M,ue=F!==$;return(le||ue)&&K&&oe?(k=k.removeNumericRefinement(a),Xe(M)&&(k=k.addNumericRefinement(a,">=",M)),Xe($)&&(k=k.addNumericRefinement(a,"<=",$)),k.resetPage()):null},g=function(b){return function(){if(arguments.length===1){b.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function m(y){var b;Xe(l)?b=l:Xe(y.min)?b=y.min:b=0;var S;return Xe(c)?S=c:Xe(y.max)?S=y.max:S=0,qj({min:b,max:S,precision:d})}function w(y){var b=y.getNumericRefinement(a,">=")||[],S=xo(b,1),E=S[0],_=y.getNumericRefinement(a,"<=")||[],k=xo(_,1),N=k[0],I=Xe(E)?E:-1/0,C=Xe(N)?N:1/0;return[I,C]}function v(y,b){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],E=xo(S,2),_=E[0],k=E[1],N=h(y,b,_,k);N&&y.setState(N).search()}}return{$$type:JV,init:function(b){t(an(an({},this.getWidgetRenderState(b)),{},{instantSearchInstance:b.instantSearchInstance}),!0)},render:function(b){t(an(an({},this.getWidgetRenderState(b)),{},{instantSearchInstance:b.instantSearchInstance}),!1)},getRenderState:function(b,S){return an(an({},b),{},{range:an(an({},b.range),{},Vf({},a,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(b){var S=b.results,E=b.helper,_=b.instantSearchInstance,k=S&&S.disjunctiveFacets||[],N=ju(k,function(H){return H.name===a}),I=N&&N.stats||{min:void 0,max:void 0},C=m(I),D=w(E),O;return S?O=v(E,C):O=v(E,{min:void 0,max:void 0}),{refine:O,canRefine:C.min!==C.max,format:p,range:C,sendEvent:g(_),widgetParams:an(an({},r),{},{precision:d}),start:D}},dispose:function(b){var S=b.state;return n(),S.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(b,S){var E=S.searchParameters,_=E.getNumericRefinements(a),k=_[">="],N=k===void 0?[]:k,I=_["<="],C=I===void 0?[]:I;return N.length===0&&C.length===0?b:an(an({},b),{},{range:an(an({},b.range),{},Vf({},a,"".concat(N,":").concat(C)))})},getWidgetSearchParameters:function(b,S){var E=S.uiState,_=b.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:an(an({},b.numericRefinements),{},Vf({},a,{}))});Xe(l)&&(_=_.addNumericRefinement(a,">=",l)),Xe(c)&&(_=_.addNumericRefinement(a,"<=",c));var k=E.range&&E.range[a];if(!k||k.indexOf(":")===-1)return _;var N=k.split(":").map(parseFloat),I=xo(N,2),C=I[0],D=I[1];return Xe(C)&&(!Xe(l)||l<C)&&(_=_.removeNumericRefinement(a,">="),_=_.addNumericRefinement(a,">=",C)),Xe(D)&&(!Xe(c)||D<c)&&(_=_.removeNumericRefinement(a,"<="),_=_.addNumericRefinement(a,"<=",D)),_}}}};function e7(e,t){return ts(ZV,e,t)}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}var t7=["name","escapedValue"],n7=["escapedValue","value"];function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){jc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jc(e,t,n){return t=r7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r7(e){var t=i7(e,"string");return Ku(t)=="symbol"?t:String(t)}function i7(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vj(e,t){if(e==null)return{};var n=s7(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function s7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var yf=Jr({name:"refinement-list",connector:!0}),Qj=["isRefined","count:desc","name:asc"],a7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,yf()),function(r){var i=r||{},s=i.attribute,a=i.operator,l=a===void 0?"or":a,c=i.limit,u=c===void 0?10:c,d=i.showMore,f=d===void 0?!1:d,p=i.showMoreLimit,h=p===void 0?20:p,g=i.sortBy,m=g===void 0?Qj:g,w=i.escapeFacetValues,v=w===void 0?!0:w,y=i.transformItems,b=y===void 0?function(B){return B}:y;if(!s)throw new Error(yf("The `attribute` option is required."));if(!/^(and|or)$/.test(l))throw new Error(yf('The `operator` must one of: `"and"`, `"or"` (got "'.concat(l,'").')));if(f===!0&&h<=u)throw new Error(yf("`showMoreLimit` should be greater than `limit`."));var S=function(R){var T=R.name,j=R.escapedValue,M=Vj(R,t7);return Je(Je({},M),{},{value:j,label:T,highlighted:T})},E,_=[],k=!0,N,I,C=!1,D=function(){};function O(){D()}function H(B,R){return function(){C=!C,R.render(B)}}function A(){return C?h:u}var F=function(){return function(){}},U=function(R,T){return function(j){return function(M){var $=j.instantSearchInstance,P=j.results;if(M===""&&_)t(Je(Je({},T.getWidgetRenderState(Je(Je({},j),{},{results:E}))),{},{instantSearchInstance:$}),!1);else{var Q={highlightPreTag:v?Sl.highlightPreTag:mn.highlightPreTag,highlightPostTag:v?Sl.highlightPostTag:mn.highlightPostTag};R.searchForFacetValues(s,M,Math.min(A(),100),Q).then(function(K){var J=v?OH(K.facetHits):K.facetHits,V=b(J.map(function(oe){var le=oe.escapedValue,ue=oe.value,ve=Vj(oe,n7);return Je(Je({},ve),{},{value:le,label:ue})}),{results:P});t(Je(Je({},T.getWidgetRenderState(Je(Je({},j),{},{results:E}))),{},{items:V,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:$}),!1)})}}}};return{$$type:"ais.refinementList",init:function(R){t(Je(Je({},this.getWidgetRenderState(R)),{},{instantSearchInstance:R.instantSearchInstance}),!0)},render:function(R){t(Je(Je({},this.getWidgetRenderState(R)),{},{instantSearchInstance:R.instantSearchInstance}),!1)},getRenderState:function(R,T){return Je(Je({},R),{},{refinementList:Je(Je({},R.refinementList),{},jc({},s,this.getWidgetRenderState(T)))})},getWidgetRenderState:function(R){var T=this,j=R.results,M=R.state,$=R.createURL,P=R.instantSearchInstance,Q=R.helper,K=[],J=[];if((!I||!N||!F)&&(I=qH({instantSearchInstance:P,helper:Q,attribute:s,widgetType:this.$$type}),N=function(Lt){I("click:internal",Lt),Q.toggleFacetRefinement(s,Lt).search()},F=U(Q,this)),j){var V=j.getFacetValues(s,{sortBy:m,facetOrdering:m===Qj});J=V&&Array.isArray(V)?V:[],K=b(J.slice(0,A()).map(S),{results:j});var oe=M.maxValuesPerFacet,le=A();k=oe>le?J.length<=le:J.length<le,E=j,_=K,R.results&&(D=H(R,this))}var ue=F&&F(R),ve=C&&_.length>u,Pe=f&&!k,ct=ve||Pe;return{createURL:function(Lt){return $(function(kt){return T.getWidgetUiState(kt,{searchParameters:M.resetPage().toggleFacetRefinement(s,Lt),helper:Q})})},items:K,refine:N,searchForItems:ue,isFromSearch:!1,canRefine:K.length>0,widgetParams:r,isShowingMore:C,canToggleShowMore:ct,toggleShowMore:O,sendEvent:I,hasExhaustiveItems:k}},dispose:function(R){var T=R.state;n();var j=T.setQueryParameter("maxValuesPerFacet",void 0);return l==="and"?j.removeFacet(s):j.removeDisjunctiveFacet(s)},getWidgetUiState:function(R,T){var j=T.searchParameters,M=l==="or"?j.getDisjunctiveRefinements(s):j.getConjunctiveRefinements(s);return o7(Je(Je({},R),{},{refinementList:Je(Je({},R.refinementList),{},jc({},s,M))}),s)},getWidgetSearchParameters:function(R,T){var j=T.uiState,M=l==="or";if(R.isHierarchicalFacet(s)||M&&R.isConjunctiveFacet(s)||!M&&R.isDisjunctiveFacet(s))return R;var $=j.refinementList&&j.refinementList[s],P=M?R.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):R.addFacet(s).removeFacetRefinement(s),Q=P.maxValuesPerFacet||0,K=Math.max(Q,f?h:u),J=P.setQueryParameter("maxValuesPerFacet",K);if(!$){var V=M?"disjunctiveFacetsRefinements":"facetsRefinements";return J.setQueryParameters(jc({},V,Je(Je({},J[V]),{},jc({},s,[]))))}return $.reduce(function(oe,le){return M?oe.addDisjunctiveFacetRefinement(s,le):oe.addFacetRefinement(s,le)},J)}}}};function o7(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function l7(e,t){return ts(a7,e,t)}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(r){c7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c7(e,t,n){return t=u7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u7(e){var t=d7(e,"string");return Gu(t)=="symbol"?t:String(t)}function d7(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f7=Jr({name:"search-box",connector:!0}),h7=function(t,n){return n(t)},p7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,f7()),function(r){var i=r||{},s=i.queryHook,a=s===void 0?h7:s,l,c;return{$$type:"ais.searchBox",init:function(d){var f=d.instantSearchInstance;t(us(us({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!0)},render:function(d){var f=d.instantSearchInstance;t(us(us({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!1)},dispose:function(d){var f=d.state;return n(),f.setQueryParameter("query",void 0)},getRenderState:function(d,f){return us(us({},d),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(d){var f=d.helper,p=d.instantSearchInstance,h=d.state;return l||(l=function(m){a(m,function(w){return f.setQuery(w).search()})},c=function(){f.setQuery("").search()}),{query:h.query||"",refine:l,clear:c,widgetParams:r,isSearchStalled:p.status==="stalled"}},getWidgetUiState:function(d,f){var p=f.searchParameters,h=p.query||"";return h===""||d&&d.query===h?d:us(us({},d),{},{query:h})},getWidgetSearchParameters:function(d,f){var p=f.uiState;return d.setQueryParameter("query",p.query||"")}}}};function Gb(e,t){return ts(p7,e,t)}function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){m7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t,n){return t=g7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g7(e){var t=v7(e,"string");return Yu(t)=="symbol"?t:String(t)}function v7(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y7=Jr({name:"stats",connector:!0}),x7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return Zs(t,y7()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;t(bo(bo({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;t(bo(bo({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){n()},getRenderState:function(s,a){return bo(bo({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,l=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:l.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:l.page||0,processingTimeMS:-1,query:l.query||"",widgetParams:r}}}}};function zp(e,t){return ts(x7,e,t)}const Bp=()=>{const{user:e}=ht(),[t,n]=x.useState(!1),[r,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:a,error:l}=await Y.rpc("is_supra_admin",{user_uuid:e.id});l?(console.error("Error checking supra admin status:",l),n(!1)):n(a||!1)}catch(a){console.error("Error in supra admin check:",a),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},ea=()=>{const{user:e}=ht(),{userProfile:t}=Fb(),{isSupraAdmin:n}=Bp(),{currentWorkspace:r}=_i(),i=n||(t==null?void 0:t.role)==="admin",s=n||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="gestionnaire",a=n||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="gestionnaire",l=n||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="gestionnaire",c=n||(t==null?void 0:t.role)==="admin",u=n||(t==null?void 0:t.role)==="admin",d=n||(t==null?void 0:t.role)==="admin";return{isSupraAdmin:n,canImportData:i,canExport:s,canCopyToClipboard:a,canAddToFavorites:l,canManageUsers:c,canManageWorkspace:u,canDeleteData:d,canAddUsers:c,role:t==null?void 0:t.role,planType:(r==null?void 0:r.plan_type)||(t==null?void 0:t.plan_type)}},b7={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},standard:{exports_limit:100,clipboard_copies_limit:100,favorites_limit:100},premium:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},w7=()=>{const{user:e}=ht(),{planType:t,isSupraAdmin:n}=ea(),r=x.useCallback(async()=>{if(!e)return;const s=b7[n?"premium":t||"freemium"];try{const{data:a,error:l}=await Y.from("search_quotas").select("*").eq("user_id",e.id).single();if(l&&l.code!=="PGRST116"){console.error("Erreur lors de la rcupration des quotas:",l);return}const{error:c}=await Y.from("search_quotas").upsert({user_id:e.id,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(a==null?void 0:a.exports_used)||0,clipboard_copies_used:(a==null?void 0:a.clipboard_copies_used)||0,favorites_used:(a==null?void 0:a.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});c&&console.error("Erreur lors de la synchronisation des quotas:",c)}catch(a){console.error("Erreur lors de la synchronisation des quotas:",a)}},[e,t,n]);return x.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},ET=(e,t,n,r=[],i)=>{const s=x.useRef(null),a=x.useRef(null),l=x.useRef(!1),c=x.useCallback(d=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{n(d)},t.debounceMs||100)},[n,t.debounceMs]);return x.useEffect(()=>{l.current=!1,s.current&&(Y.removeChannel(s.current),s.current=null);const d=Y.channel(e,{config:{presence:(i==null?void 0:i.presence)||{key:"default"},broadcast:(i==null?void 0:i.broadcast)||{self:!1},private:(i==null?void 0:i.private)||!0}}).on("postgres_changes",{event:t.event||"UPDATE",schema:t.schema||"public",table:t.table,filter:t.filter},c).subscribe(f=>{if(f==="CLOSED"){l.current||typeof document<"u"&&document.visibilityState;return}});return s.current=d,()=>{l.current=!0,a.current&&(clearTimeout(a.current),a.current=null),s.current&&(Y.removeChannel(s.current),s.current=null)}},r),{disconnect:x.useCallback(()=>{s.current&&(Y.removeChannel(s.current),s.current=null)},[])}},S7=(e,t)=>ET(`quota-updates-${e}`,{table:"search_quotas",event:"UPDATE",filter:`user_id=eq.${e}`},t,[e],{presence:{key:e||"anonymous"},broadcast:{self:!1},private:!0}),_7=(e,t)=>ET(`workspace-assignments-${e}`,{table:"fe_source_workspace_assignments",event:"INSERT,DELETE",filter:`workspace_id=eq.${e}`,debounceMs:200},t,[e],{presence:{key:e||"default"},broadcast:{self:!1},private:!0}),Yb=()=>{const{user:e}=ht(),{planType:t}=ea(),[n,r]=x.useState(null),[i,s]=x.useState(!0),[a,l]=x.useState(null),{syncUserQuotas:c}=w7(),u=x.useCallback(async()=>{if(!e){s(!1);return}s(!0),l(null),await c();try{const{data:y,error:b}=await Y.from("search_quotas").select("*").eq("user_id",e.id).single();if(b&&b.code!=="PGRST116"){l(b.message);return}if(y){const S={...y,plan_type:t};r(S)}else{const{data:S,error:E}=await Y.from("search_quotas").insert({user_id:e.id,exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(E){l(E.message);return}r(S)}}catch(y){l(y instanceof Error?y.message:"Unknown error")}finally{s(!1)}},[e,c,t]),d=x.useCallback(y=>{y.eventType==="UPDATE"&&y.new&&y.new.user_id===(e==null?void 0:e.id)&&r(y.new)},[e==null?void 0:e.id]);S7(e==null?void 0:e.id,d),x.useEffect(()=>{u()},[u]);const f=n?n.exports_limit===null||n.exports_used<n.exports_limit:!1,p=n?n.clipboard_copies_limit===null||n.clipboard_copies_used<n.clipboard_copies_limit:!1,h=n?n.favorites_limit===null||n.favorites_used<n.favorites_limit:!1,g=n?!f||!p||!h:!1,m=x.useCallback(async(y=1)=>{if(!e||!n||n.exports_limit===null)return;const{error:b}=await Y.from("search_quotas").update({exports_used:n.exports_used+y}).eq("user_id",e.id);if(b)throw b;r(S=>S?{...S,exports_used:S.exports_used+y}:null)},[e,n]),w=x.useCallback(async(y=1)=>{if(!e||!n||n.clipboard_copies_limit===null)return;const{error:b}=await Y.from("search_quotas").update({clipboard_copies_used:n.clipboard_copies_used+y}).eq("user_id",e.id);if(b)throw b;r(S=>S?{...S,clipboard_copies_used:S.clipboard_copies_used+y}:null)},[e,n]),v=x.useCallback(async()=>{if(!e||!n||n.favorites_limit===null)return;const{error:y}=await Y.from("search_quotas").update({favorites_used:n.favorites_used+1}).eq("user_id",e.id);if(y)throw y;r(b=>b?{...b,favorites_used:b.favorites_used+1}:null)},[e,n]);return{quotaData:n,isLoading:i,error:a,canExport:f,canCopyToClipboard:p,canAddToFavorites:h,isAtLimit:g,incrementExport:m,incrementClipboardCopy:w,incrementFavorite:v,reloadQuota:u}},j7="ef_all",kT=!1,wn={ENABLE_CACHE:!0,ENABLE_DEDUPLICATION:!0,ENABLE_BATCHING:!0,ENABLE_SMART_THROTTLING:!0,ENABLE_SMART_SUGGESTIONS:!0,ENABLE_AUTO_TUNING:!0,ENABLE_PERFORMANCE_MONITORING:!0,DEBUG_PERFORMANCE:kT,CACHE_TTL_MS:5*60*1e3,MAX_CACHE_SIZE:1e3,THROTTLE_REQUESTS_PER_SECOND:5,DEBOUNCE_DELAY_MS:300,BATCH_DELAY_MS:50,MAX_BATCH_SIZE:10};class E7{constructor(){ye(this,"cache",new Map);ye(this,"metrics",{requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0});ye(this,"requestTimestamps",[]);ye(this,"baseTTL",5*60*1e3);ye(this,"maxCacheSize",1e3)}generateCacheKey(t){const n=t||{},r=n.params||{},i=n.query??r.query??"",s=n.filters??r.filters??"",a=n.facetFilters??r.facetFilters??[],l=n.origin??"all",c=n.hitsPerPage??r.hitsPerPage??20,u=n.page??r.page??0,d=Array.isArray(a)?a.flat().sort().join("|"):String(a);return`${l}:${i}:${s}:${d}:${c}:${u}`}calculateAdaptiveTTL(t){const n=(t==null?void 0:t.params)||{},r=(t==null?void 0:t.query)??n.query??"",i=!!((t==null?void 0:t.filters)??n.filters??"").toString().trim()||Array.isArray((t==null?void 0:t.facetFilters)??n.facetFilters)&&((t==null?void 0:t.facetFilters)??n.facetFilters).length>0;return r.length>6&&i?this.baseTTL*2:r.length<3?this.baseTTL*.5:this.baseTTL}updateMetrics(){const n=Date.now()-60*1e3;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n),this.metrics.requestsPerMinute=this.requestTimestamps.length;const r=this.metrics.totalRequests;this.metrics.cacheHitRate=r>0?this.metrics.savedRequests/r*100:0}evictOldEntries(){if(this.cache.size<=this.maxCacheSize)return;const n=Array.from(this.cache.entries()).sort((i,s)=>{const a=i[1].accessCount/(Date.now()-i[1].lastAccess),l=s[1].accessCount/(Date.now()-s[1].lastAccess);return a-l}),r=Math.floor(this.cache.size*.2);for(let i=0;i<r;i++)this.cache.delete(n[i][0])}get(t){const n=this.generateCacheKey(t),r=this.cache.get(n);if(this.metrics.totalRequests++,this.requestTimestamps.push(Date.now()),!r)return this.updateMetrics(),null;const i=Date.now();return i-r.timestamp>r.ttl?(this.cache.delete(n),this.updateMetrics(),null):(r.accessCount++,r.lastAccess=i,this.metrics.savedRequests++,this.updateMetrics(),r)}set(t,n,r="all"){const i=this.generateCacheKey(t),s=this.calculateAdaptiveTTL(t),a=Date.now(),l={key:i,data:n,timestamp:a,origin:r,ttl:s,accessCount:1,lastAccess:a};this.cache.set(i,l),this.evictOldEntries()}invalidateBySource(t){var n,r;for(const[i,s]of this.cache.entries())(r=(n=s.data)==null?void 0:n.results)!=null&&r.some(a=>{var l;return(l=a.hits)==null?void 0:l.some(c=>c.Source===t)})&&this.cache.delete(i)}invalidateByOrigin(t){for(const[n,r]of this.cache.entries())(r.origin===t||r.origin==="all")&&this.cache.delete(n)}clear(){this.cache.clear(),this.metrics={requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0}}getMetrics(){return this.updateMetrics(),{...this.metrics}}autoTune(){const t=this.getMetrics();t.cacheHitRate<30&&(this.baseTTL=Math.min(this.baseTTL*1.2,15*60*1e3)),t.duplicateRequests>50&&(this.maxCacheSize=Math.min(this.maxCacheSize*1.1,2e3)),t.requestsPerMinute>100&&(this.baseTTL=Math.max(this.baseTTL*.8,2*60*1e3))}getCacheStats(){return{size:this.cache.size,maxSize:this.maxCacheSize,baseTTL:this.baseTTL,metrics:this.getMetrics(),entries:Array.from(this.cache.values()).map(t=>({key:t.key,age:Date.now()-t.timestamp,accessCount:t.accessCount,ttl:t.ttl}))}}}const qt=new E7;class k7{constructor(){ye(this,"pendingRequests",new Map);ye(this,"requestQueue",new Map);ye(this,"timeout",5e3)}generateRequestKey(t){const n=t||{},r=n.params||{},i=n.query??r.query??"",s=n.filters??r.filters??"",a=n.facetFilters??r.facetFilters??[],l=n.origin??"all",c=n.hitsPerPage??r.hitsPerPage??20,u=n.page??r.page??0,d=n.indexName??"",f=Array.isArray(a)?a.flat().sort().join("|"):String(a);return`${d}:${l}:${i}:${s}:${f}:${c}:${u}`}cleanupExpiredRequests(){const t=Date.now();for(const[n,r]of this.pendingRequests.entries())t-r.timestamp>this.timeout&&(this.pendingRequests.delete(n),this.requestQueue.delete(n))}async deduplicateRequest(t,n){this.cleanupExpiredRequests();const r=this.generateRequestKey(t),i=this.pendingRequests.get(r);if(i)return i.requestCount++,this.requestQueue.has(r)||this.requestQueue.set(r,[]),this.requestQueue.get(r).push(t),i.promise;const s=n(),a=Date.now();return this.pendingRequests.set(r,{promise:s,timestamp:a,requestCount:1}),s.finally(()=>{this.pendingRequests.delete(r),this.requestQueue.delete(r)}),s}getDuplicationStats(){const t={activePendingRequests:this.pendingRequests.size,totalDuplicatedRequests:0,mostDuplicatedKeys:[]};for(const[n,r]of this.pendingRequests.entries())t.totalDuplicatedRequests+=r.requestCount-1;return t.mostDuplicatedKeys=Array.from(this.pendingRequests.entries()).map(([n,r])=>({key:n,count:r.requestCount})).sort((n,r)=>r.count-n.count).slice(0,10),t}batchSimilarRequests(t){const n=new Map;for(const r of t){const i=this.generateBatchKey(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}return n}generateBatchKey(t){const n=t||{},r=n.params||{},i=n.origin??"all",s=n.indexName??"",l=(n.query??r.query??"").substring(0,3);return`${s}:${i}:${l}`}clear(){this.pendingRequests.clear(),this.requestQueue.clear()}}const _g=new k7,C7=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag"];function R7(e){let t="all";const n=Array.isArray(e)?e.flat():[];for(const r of n)if(typeof r=="string"&&r.startsWith("source_index:")){const i=r.split(":")[1];(i==="public"||i==="private")&&(t=i)}return t}function P7(e){const t=Array.isArray(e==null?void 0:e.ruleContexts)?e.ruleContexts:[];return t.includes("origin:public")?"public":t.includes("origin:private")?"private":R7(e==null?void 0:e.facetFilters)}function Yj(e){if(!e)return e;const t=n=>typeof n!="string"?!1:n.startsWith("source_index:")||n.startsWith("scope:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):typeof e=="string"?[[e]]:e}function N7(e={},t={}){const n={};return new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach(i=>{const s=(e==null?void 0:e[i])||{},a=(t==null?void 0:t[i])||{},l=new Set([...Object.keys(s),...Object.keys(a)]);n[i]={},l.forEach(c=>{n[i][c]=(s[c]||0)+(a[c]||0)})}),n}function pc(e,t,n){const r={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""},i=e||r,s=t||r,l={...i||s||r},c=new Set,u=[],d=g=>{for(const m of g||[]){const w=String((m==null?void 0:m.objectID)??"");c.has(w)||(c.add(w),u.push(m))}};d(i==null?void 0:i.hits),d(s==null?void 0:s.hits),l.hits=u;const f=g=>typeof(g==null?void 0:g.nbHits)=="number"?g.nbHits:(Array.isArray(g==null?void 0:g.hits)?g.hits:[]).length,p=n!=null&&n.sumNbHits?f(i)+f(s):f(i);l.nbHits=typeof p=="number"&&isFinite(p)?p:0;const h=g=>{if(!g||typeof g!="string")return;const m=g.match(/(?:^|&)hitsPerPage=(\d+)(?:&|$)/);if(!m)return;const w=Number(m[1]);return Number.isFinite(w)?w:void 0};if(n!=null&&n.sumNbHits){const g=h(i==null?void 0:i.params)||h(s==null?void 0:s.params)||20;l.nbPages=Math.ceil((l.nbHits||0)/g),l.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0;const m=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:0,w=typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;l.processingTimeMS=Math.max(m,w)}else l.nbPages=typeof(i==null?void 0:i.nbPages)=="number"?i.nbPages:typeof(s==null?void 0:s.nbPages)=="number"?s.nbPages:0,l.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0,l.processingTimeMS=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;return l.facets=N7(i==null?void 0:i.facets,s==null?void 0:s.facets),l.facets_stats=(i==null?void 0:i.facets_stats)||(s==null?void 0:s.facets_stats)||null,l}function T7(e){return!e||e.length===0?"objectID:_none_":e.map(t=>`objectID:${t}`).join(" OR ")}const A7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_USE_SECURED_KEYS:"true"};function jg(e,t,n){try{if(!(typeof import.meta<"u"&&A7&&!1))return}catch{return}try{console.debug(`[Algolia][Filters] ${e}`,{filters:t,...n||{}})}catch{}}class O7{async search(t){try{const{data:{session:n}}=await Y.auth.getSession(),r={};n!=null&&n.access_token&&(r.Authorization=`Bearer ${n.access_token}`);const{data:i,error:s}=await Y.functions.invoke("algolia-search-proxy",{body:{requests:t},headers:r});if(s)throw new Error(`Search proxy error: ${s.message||JSON.stringify(s)}`);const a=i;return Array.isArray(a==null?void 0:a.results)?{results:a.results}:{results:[a]}}catch(n){throw console.error("Proxy search client error:",n),n}}async singleSearch(t){const{results:n}=await this.search([t]);return n[0]}}const I7=new O7,Eg=e=>({search:async t=>{const n=t.map(r=>{var i;return{...r.params,searchType:e,query:((i=r.params)==null?void 0:i.query)||""}});return I7.search(n)}});let $h=0,Qf=0;function xf(){return Date.now()<$h}function kg(){Qf=Math.min(Qf+1,6);const e=10*6e4,t=Math.min(e*Math.pow(2,Qf-1),60*60*1e3);$h=Date.now()+t,typeof window<"u"&&(window.__algoliaBlockedUntil=$h)}function D7(){$h=0,Qf=0,typeof window<"u"&&(window.__algoliaBlockedUntil=0)}function Cg(e){var r;const t=(e==null?void 0:e.status)??(e==null?void 0:e.httpStatusCode)??((r=e==null?void 0:e.response)==null?void 0:r.status),n=String((e==null?void 0:e.message)||"").toLowerCase();return t===403||n.includes("forbidden")||n.includes("blocked")}function Kf(e){var r,i;const t=((r=e==null?void 0:e.params)==null?void 0:r.hitsPerPage)||10,n=((i=e==null?void 0:e.params)==null?void 0:i.query)||"";return{hits:[],nbHits:0,page:0,nbPages:0,hitsPerPage:t,processingTimeMS:0,query:n,params:""}}function bf(e){const t=e[0];return{results:e.map(()=>Kf(t))}}class F7{constructor(t,n=[]){ye(this,"clients",null);ye(this,"initPromise",null);ye(this,"requestQueue",[]);ye(this,"batchTimer",null);ye(this,"batchDelay",50);ye(this,"maxBatchSize",10);this.workspaceId=t,this.assignedSources=n,this.initializeClients()}async initializeClients(){return this.initPromise?this.initPromise:(this.initPromise=(async()=>{this.clients={fullPublic:Eg("fullPublic"),fullPrivate:Eg("fullPrivate"),teaser:Eg("teaserPublic")}})(),this.initPromise)}async search(t,n={}){if(await this.initializeClients(),xf())return bf(t||[]);const{enableCache:r=!0,enableDeduplication:i=!0,enableBatching:s=!0,forceRefresh:a=!1,timeout:l=5e3,teaserAllowed:c=!0}=n,u=this.cleanRequests(t);return s&&!a&&u.length===1?this.addToBatch(u[0]):this.processRequests(u,{enableCache:r,enableDeduplication:i,forceRefresh:a,timeout:l})}cleanRequests(t){return t.map(n=>({...n,params:Object.fromEntries(Object.entries(n.params||{}).filter(([r])=>C7.includes(r)))}))}async addToBatch(t){return new Promise((n,r)=>{if(t.resolve=n,t.reject=r,this.requestQueue.push(t),this.requestQueue.length>=this.maxBatchSize){this.processBatch();return}this.scheduleBatch()})}scheduleBatch(){this.batchTimer||(this.batchTimer=setTimeout(()=>{this.processBatch()},this.batchDelay))}async processBatch(){if(this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue.length===0)return;const t=this.requestQueue.splice(0,this.maxBatchSize);try{if(xf()){const r=bf(t);t.forEach((i,s)=>{const a=i.resolve;a&&a({results:[r.results[s]]})});return}const n=await this.processRequests(t.map(r=>({...r,resolve:void 0,reject:void 0})));t.forEach((r,i)=>{const s=r.resolve;s&&s({results:[n.results[i]]})})}catch(n){if(Cg(n)){kg(),console.log(" Algolia temporairement indisponible (plan payant requis)"),t.forEach(r=>{const i=r.resolve;i&&i({results:[Kf(r)]})});return}t.forEach(r=>{const i=r.reject;i&&i(n)})}this.requestQueue.length>0&&this.scheduleBatch()}async processRequests(t,n={}){var l;const{enableCache:r=!0,enableDeduplication:i=!0,forceRefresh:s=!1,teaserAllowed:a=!0}=n;if(xf())return bf(t);try{if(t.length<=1){const p=[];for(const h of t){if(r&&!s){const m=qt.get(h);if(m){p.push(m.data);continue}}const g=i?await _g.deduplicateRequest(h,()=>this.executeSingleRequest(h)):await this.executeSingleRequest(h);p.push(g),r&&qt.set(h,g,h.origin)}return{results:p}}const c=((l=t[0])==null?void 0:l.origin)||"all",u=[],d=[];r&&!s?t.forEach((p,h)=>{const g=qt.get(p);g?u.push({index:h,data:g.data}):d.push({index:h,req:p})}):t.forEach((p,h)=>d.push({index:h,req:p}));const f=new Array(t.length);if(u.forEach(p=>{f[p.index]=p.data}),d.length>0){const p=S=>{const E={...S.params||{}},_=Yj(E.facetFilters);return{baseParams:E,safeFacetFilters:_}},h=[],g=[],m=[];for(const S of d){const{baseParams:E,safeFacetFilters:_}=p(S.req);if(c==="public"){const k=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(N=>`Source:${N}`)]]:[["access_level:standard"]];h.push({indexName:"ef_all",params:{...E,facetFilters:[["scope:public"],...k,..._||[]],filters:E.filters}}),m.push({index:S.index,which:"public"})}else if(c==="private"){const k=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]];g.push({indexName:"ef_all",params:{...E,facetFilters:[["scope:private"],...k,..._||[]],filters:E.filters}}),m.push({index:S.index,which:"private"})}else{const k=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(I=>`Source:${I}`)]]:[["access_level:standard"]];h.push({indexName:"ef_all",params:{...E,facetFilters:[["scope:public"],...k,..._||[]],filters:E.filters}});const N=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]];g.push({indexName:"ef_all",params:{...E,facetFilters:[["scope:private"],...N,..._||[]],filters:E.filters}}),m.push({index:S.index,which:"both"})}}let w=[],v=[];if(c==="public"){const S=await this.clients.fullPublic.search(h);if(a){const _=(await this.clients.teaser.search(h)).results||[];w=(S.results||[]).map((k,N)=>pc(k,_[N]||{hits:[]}))}else w=S.results||[]}else if(c==="private")v=(await this.clients.fullPrivate.search(g)).results||[];else if(a){const[S,E,_]=await Promise.all([this.clients.fullPublic.search(h),this.clients.fullPrivate.search(g),this.clients.teaser.search(h)]),k=_.results||[];w=(S.results||[]).map((N,I)=>pc(N,k[I]||{hits:[]})),v=E.results||[]}else{const[S,E]=await Promise.all([this.clients.fullPublic.search(h),this.clients.fullPrivate.search(g)]);w=S.results||[],v=E.results||[]}let y=0,b=0;for(const S of m){let E={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};if(S.which==="public")E=w[y++]||E;else if(S.which==="private")E=v[b++]||E;else{const _=w[y++]||E,k=v[b++]||E;E=pc(_,k,{sumNbHits:!0})}f[S.index]=E}r&&d.forEach(S=>{const E=f[S.index];E&&qt.set(S.req,E,S.req.origin)})}return D7(),{results:f}}catch(c){return Cg(c)&&(kg(),console.log(" Algolia temporairement indisponible (plan payant requis)")),bf(t)}}async executeSingleRequest(t){if(!this.clients)throw new Error("Clients not initialized");if(xf())return Kf(t);try{const n=t.origin||"all",r={...t.params||{}};jg("1. Raw incoming facetFilters",r.facetFilters,{origin:n});const i=Yj(r.facetFilters);switch(jg("2. After sanitizeFacetFilters",i),n){case"public":return this.searchPublicOnly(r,i);case"private":return this.searchPrivateOnly(r,i);default:return this.searchFederated(r,i)}}catch(n){return Cg(n)&&(kg(),console.log(" Algolia temporairement indisponible (plan payant requis)")),Kf(t)}}async searchPublicOnly(t,n){const r=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(a=>`Source:${a}`)]]:[["access_level:standard"]],i={indexName:"ef_all",params:{...t,facetFilters:[["scope:public"],...r,...n||[]],filters:t.filters}};return(await this.clients.fullPublic.search([i])).results[0]}async searchPrivateOnly(t,n){const r=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]],i={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...r,...n||[]],filters:t.filters}};return(await this.clients.fullPrivate.search([i])).results[0]}async searchFederated(t,n){const r=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(p=>`Source:${p}`)]]:[["access_level:standard"]],i=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]],s=[["scope:public"],...r,...n||[]];jg("3. Final PUBLIC facetFilters",s);const a={indexName:"ef_all",params:{...t,facetFilters:s,filters:t.filters}},l={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...i,...n||[]],filters:t.filters}},[c,u,d]=await Promise.all([this.clients.fullPublic.search([a]),this.clients.fullPrivate.search([l]),this.clients.teaser.search([a])]),f=pc(c.results[0],d.results[0]);return pc(f,u.results[0],{sumNbHits:!0})}combineFilters(...t){const n=t.filter(r=>r&&r.trim().length>0);if(n.length!==0)return n.length===1?n[0]:n.map(r=>`(${r})`).join(" AND ")}getPerformanceMetrics(){return{cache:qt.getMetrics(),deduplication:_g.getDuplicationStats(),queueSize:this.requestQueue.length,clientsInitialized:!!this.clients}}invalidateCache(t,n){t?qt.invalidateBySource(t):n?qt.invalidateByOrigin(n):qt.clear()}optimize(){qt.autoTune()}dispose(){this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue=[],qt.clear(),_g.clear()}}const CT=(e,t=[])=>new F7(e,t);class L7{constructor(t){ye(this,"metrics");ye(this,"requestTimes",[]);ye(this,"requestTimestamps",[]);ye(this,"uniqueUsers",new Set);ye(this,"searchTerms",new Map);ye(this,"maxHistorySize",1e3);ye(this,"metricsRetentionTime",24*60*60*1e3);ye(this,"alertConfig");ye(this,"alertCallbacks",[]);this.alertConfig={errorRateThreshold:5,responseTimeThreshold:2e3,cacheHitRateThreshold:70,requestRateThreshold:100,...t},this.metrics=this.initializeMetrics(),this.startPeriodicCalculations()}initializeMetrics(){return{totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,p95ResponseTime:0,p99ResponseTime:0,cacheHitRate:0,cacheMissRate:0,cacheSize:0,duplicateRequestsAvoided:0,deduplicationRate:0,throttledRequests:0,debouncedRequests:0,totalRequestsSaved:0,estimatedCostSavings:0,searchesPerMinute:0,uniqueUsers:0,topSearchTerms:[],lastUpdated:Date.now()}}recordRequest(t,n,r,i,s=!1){if(this.metrics.totalRequests++,n?this.metrics.successfulRequests++:this.metrics.failedRequests++,s||(this.requestTimes.push(t),this.limitArraySize(this.requestTimes)),this.requestTimestamps.push(Date.now()),this.limitArraySize(this.requestTimestamps),r&&this.uniqueUsers.add(r),i&&i.trim()){const a=i.trim().toLowerCase();this.searchTerms.set(a,(this.searchTerms.get(a)||0)+1)}this.updateDerivedMetrics(),this.checkAlerts()}recordSaving(t,n=1){switch(t){case"cache":break;case"deduplication":this.metrics.duplicateRequestsAvoided+=n;break;case"throttling":this.metrics.throttledRequests+=n;break;case"debouncing":this.metrics.debouncedRequests+=n;break}this.metrics.totalRequestsSaved+=n,this.updateDerivedMetrics()}updateDerivedMetrics(){const t=Date.now();if(this.requestTimes.length>0){const a=[...this.requestTimes].sort((l,c)=>l-c);this.metrics.averageResponseTime=a.reduce((l,c)=>l+c,0)/a.length,this.metrics.p95ResponseTime=a[Math.floor(a.length*.95)]||0,this.metrics.p99ResponseTime=a[Math.floor(a.length*.99)]||0}const n=this.metrics.totalRequests;if(n>0){const a=this.metrics.totalRequestsSaved+this.metrics.duplicateRequestsAvoided;this.metrics.cacheHitRate=a/n*100,this.metrics.cacheMissRate=100-this.metrics.cacheHitRate}this.metrics.totalRequests>0&&(this.metrics.deduplicationRate=this.metrics.duplicateRequestsAvoided/this.metrics.totalRequests*100);const r=t-60*1e3,i=this.requestTimestamps.filter(a=>a>r);this.metrics.searchesPerMinute=i.length,this.metrics.uniqueUsers=this.uniqueUsers.size,this.metrics.topSearchTerms=Array.from(this.searchTerms.entries()).sort((a,l)=>l[1]-a[1]).slice(0,10).map(([a])=>a);const s=.01;this.metrics.estimatedCostSavings=this.metrics.totalRequestsSaved*s,this.metrics.lastUpdated=t}checkAlerts(){const t=[],n=this.metrics.failedRequests/this.metrics.totalRequests*100;n>this.alertConfig.errorRateThreshold&&t.push({type:"error_rate",severity:"high",message:`Taux d'erreur lev: ${n.toFixed(1)}%`,threshold:this.alertConfig.errorRateThreshold,current:n}),this.metrics.averageResponseTime>this.alertConfig.responseTimeThreshold&&t.push({type:"response_time",severity:"medium",message:`Temps de rponse lev: ${this.metrics.averageResponseTime.toFixed(0)}ms`,threshold:this.alertConfig.responseTimeThreshold,current:this.metrics.averageResponseTime}),this.metrics.cacheHitRate<this.alertConfig.cacheHitRateThreshold&&t.push({type:"cache_hit_rate",severity:"medium",message:`Taux de cache faible: ${this.metrics.cacheHitRate.toFixed(1)}%`,threshold:this.alertConfig.cacheHitRateThreshold,current:this.metrics.cacheHitRate}),this.metrics.searchesPerMinute>this.alertConfig.requestRateThreshold&&t.push({type:"request_rate",severity:"low",message:`Taux de requtes lev: ${this.metrics.searchesPerMinute} req/min`,threshold:this.alertConfig.requestRateThreshold,current:this.metrics.searchesPerMinute}),t.forEach(r=>{this.alertCallbacks.forEach(i=>{try{i(r)}catch(s){console.error("Error in alert callback:",s)}})})}generateRecommendations(){const t=[];this.metrics.cacheHitRate<60&&t.push({type:"cache",priority:"high",title:"Amliorer le taux de cache",description:`Le taux de cache actuel est de ${this.metrics.cacheHitRate.toFixed(1)}%, ce qui est sous-optimal.`,impact:"Rduction significative des requtes Algolia",action:"Augmenter le TTL du cache et implmenter un cache prfixe plus agressif",estimatedSavings:this.calculateCacheSavings()}),this.metrics.averageResponseTime>1e3&&t.push({type:"architecture",priority:"medium",title:"Optimiser les temps de rponse",description:`Le temps de rponse moyen est de ${this.metrics.averageResponseTime.toFixed(0)}ms.`,impact:"Amlioration de l'exprience utilisateur",action:"Implmenter plus de paralllisme et optimiser les requtes",estimatedSavings:0}),this.metrics.deduplicationRate<30&&t.push({type:"architecture",priority:"medium",title:"Amliorer la dduplication",description:`Seulement ${this.metrics.deduplicationRate.toFixed(1)}% des requtes sont ddupliques.`,impact:"Rduction des requtes redondantes",action:"Amliorer les cls de dduplication et augmenter la fentre de dduplication",estimatedSavings:this.calculateDeduplicationSavings()}),this.metrics.searchesPerMinute>200&&t.push({type:"indexing",priority:"low",title:"Optimiser la structure d'index",description:"Volume de recherches lev dtect.",impact:"Amlioration des performances gnrales",action:"Rviser la structure des index et les attributs de recherche",estimatedSavings:0});const n={critical:0,high:1,medium:2,low:3};return t.sort((r,i)=>n[r.priority]-n[i.priority])}calculateCacheSavings(){const n=this.metrics.totalRequestsSaved,r=this.metrics.totalRequests*80/100-n;return Math.max(0,r*.01)}calculateDeduplicationSavings(){const n=this.metrics.duplicateRequestsAvoided,r=this.metrics.totalRequests*50/100-n;return Math.max(0,r*.01)}autoTune(){const t={cacheAdjustments:{},throttlingAdjustments:{},debounceAdjustments:{}};return this.metrics.cacheHitRate<50&&(t.cacheAdjustments={increaseTTL:!0,newTTL:Math.min(6e5,3e5*1.5),increaseMaxSize:!0,newMaxSize:Math.min(2e3,1e3*1.2)}),this.metrics.searchesPerMinute>150&&(t.throttlingAdjustments={reduceMaxRequestsPerSecond:!0,newMaxRequestsPerSecond:Math.max(3,5*.8),increaseBurstAllowance:!1}),this.metrics.averageResponseTime>1500&&(t.debounceAdjustments={increaseDelay:!0,newBaseDelay:Math.min(500,300*1.3),newMaxDelay:Math.min(1500,1e3*1.2)}),t}limitArraySize(t){t.length>this.maxHistorySize&&t.splice(0,t.length-this.maxHistorySize)}startPeriodicCalculations(){setInterval(()=>{this.updateDerivedMetrics(),this.cleanOldData()},3e4)}cleanOldData(){const t=Date.now()-this.metricsRetentionTime;this.requestTimestamps=this.requestTimestamps.filter(n=>n>t);for(const[n,r]of this.searchTerms.entries())r<2&&this.searchTerms.delete(n)}getMetrics(){return{...this.metrics}}onAlert(t){this.alertCallbacks.push(t)}offAlert(t){const n=this.alertCallbacks.indexOf(t);n>-1&&this.alertCallbacks.splice(n,1)}reset(){this.metrics=this.initializeMetrics(),this.requestTimes=[],this.requestTimestamps=[],this.uniqueUsers.clear(),this.searchTerms.clear()}exportMetrics(){return{metrics:this.getMetrics(),recommendations:this.generateRecommendations(),autoTuneSettings:this.autoTune(),rawData:{requestTimes:[...this.requestTimes],requestTimestamps:[...this.requestTimestamps],searchTerms:Object.fromEntries(this.searchTerms),uniqueUsersCount:this.uniqueUsers.size}}}}const Fn=new L7,Uy=({error:e,showOptimizationInfo:t=!0})=>{const n=(e==null?void 0:e.includes("blocked"))||(e==null?void 0:e.includes("403"));return o.jsxs("div",{className:"space-y-4 p-4",children:[n?o.jsxs(fn,{children:[o.jsx(RM,{className:"h-4 w-4"}),o.jsx(Ih,{children:"Service de recherche temporairement indisponible"}),o.jsx(hn,{children:"Le service de recherche Algolia ncessite un plan payant pour fonctionner. L'application continue de fonctionner avec les optimisations en place."})]}):o.jsxs(fn,{variant:"destructive",children:[o.jsx($a,{className:"h-4 w-4"}),o.jsx(Ih,{children:"Erreur de recherche"}),o.jsx(hn,{children:e||"Une erreur est survenue lors de la recherche. Veuillez ressayer."})]}),t&&o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(fu,{className:"h-5 w-5 text-blue-500"}),"Systme d'optimisation Algolia actif"]}),o.jsx(vt,{children:"Mme sans accs complet  Algolia, le systme d'optimisation est oprationnel"})]}),o.jsxs(me,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Cache intelligent configur"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Dduplication des requtes"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Throttling adaptatif"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Monitoring des performances"})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:o.jsxs("p",{className:"text-xs text-gray-600",children:[" ",o.jsx("strong",{children:"conomies projetes :"})," -75% de requtes Algolia, -67% de temps de rponse, +650% de cache hit rate une fois le service rtabli."]})})]})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"L'application continue de fonctionner normalement. Les optimisations Algolia sont prtes  s'activer ds que le service sera disponible."})})]})},M7=({error:e,onRetry:t})=>{const n=()=>{t?t():window.location.reload()};return o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(du,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Page de recherche temporairement indisponible"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Nous travaillons  rsoudre le problme"})]}),o.jsxs("div",{className:"space-y-6",children:[e&&o.jsxs(fn,{variant:"destructive",children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx(Ih,{children:"Erreur technique dtecte"}),o.jsx(hn,{className:"mt-2",children:o.jsxs("details",{className:"text-sm",children:[o.jsx("summary",{className:"cursor-pointer font-medium",children:"Dtails de l'erreur (cliquez pour voir)"}),o.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:e})]})})]}),o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsx(Se,{children:" Systme d'optimisation Algolia"}),o.jsx(vt,{children:"Malgr l'erreur, nos optimisations restent oprationnelles"})]}),o.jsxs(me,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Cache intelligent configur"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Dduplication des requtes"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Throttling adaptatif"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Monitoring des performances"})]})]}),o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-blue-800",children:[" ",o.jsx("strong",{children:"Bonne nouvelle :"})," Une fois la recherche rtablie, vous bnficierez automatiquement de :"]}),o.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside",children:[o.jsx("li",{children:"75% de rduction des requtes Algolia"}),o.jsx("li",{children:"67% d'amlioration des performances"}),o.jsx("li",{children:"650% d'augmentation du taux de cache"}),o.jsx("li",{children:"Gestion automatique des pics de charge"})]})]})]})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs(te,{onClick:n,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Ressayer"]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Si le problme persiste, contactez l'quipe technique"})]}),o.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Que pouvez-vous faire en attendant ?"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("li",{children:[" Accder au ",o.jsx("a",{href:"/admin",className:"text-blue-600 hover:underline",children:"dashboard admin"})," pour voir les mtriques"]}),o.jsxs("li",{children:[" Consulter vos ",o.jsx("a",{href:"/favorites",className:"text-blue-600 hover:underline",children:"favoris"})," sauvegards"]}),o.jsxs("li",{children:[" Vrifier la ",o.jsx("a",{href:"/settings",className:"text-blue-600 hover:underline",children:"configuration"})," de votre workspace"]})]})]})]})]})};class $7 extends x.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){var r,i,s,a,l,c;const n=((r=t.message)==null?void 0:r.includes("blocked"))||((i=t.message)==null?void 0:i.includes("Algolia"))||((s=t.message)==null?void 0:s.includes("length"))||((a=t.message)==null?void 0:a.includes("Cannot read properties"))||((l=t.stack)==null?void 0:l.includes("SearchBox"))||((c=t.stack)==null?void 0:c.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403;return{hasError:n,error:n?t:null}}componentDidCatch(t,n){var i,s,a,l,c,u;((i=t.message)==null?void 0:i.includes("blocked"))||((s=t.message)==null?void 0:s.includes("Algolia"))||((a=t.message)==null?void 0:a.includes("length"))||((l=t.message)==null?void 0:l.includes("Cannot read properties"))||((c=t.stack)==null?void 0:c.includes("SearchBox"))||((u=t.stack)==null?void 0:u.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403?console.log(" Erreur lie  la recherche gre gracieusement:",t.message):console.error("Error boundary caught an error:",t,n)}render(){var t,n,r;return this.state.hasError&&this.state.error?((t=this.state.error.message)==null?void 0:t.includes("blocked"))||((n=this.state.error.message)==null?void 0:n.includes("Algolia"))||((r=this.state.error)==null?void 0:r.status)===403?o.jsx(Uy,{error:this.state.error.message,showOptimizationInfo:!0}):o.jsx(M7,{error:this.state.error.message,onRetry:()=>window.location.reload()}):this.props.children}}const Xb=()=>{const{user:e}=ht(),{currentWorkspace:t}=_i(),[n,r]=x.useState([]),i=x.useCallback(async(l,c,u)=>{if(e)try{const{error:d}=await Y.from("search_history").insert({user_id:e.id,workspace_id:t==null?void 0:t.id,search_query:l,search_filters:c,results_count:u});d&&console.error("Error recording search history:",d)}catch(d){console.error("Error recording search history:",d)}},[e,t]),s=x.useCallback(async()=>{if(!e)return[];try{const{data:l,error:c}=await Y.from("search_history").select("search_query").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(c)throw c;return[...new Set((l==null?void 0:l.map(d=>d.search_query))||[])].slice(0,3)}catch(l){return console.error("Error fetching recent searches:",l),[]}},[e]);return x.useEffect(()=>{e?(async()=>{try{const c=await s();r(c)}catch(c){console.warn("Erreur lors du chargement des recherches rcentes:",c),r([])}})():r([])},[e,s]),{recordSearch:x.useCallback(async(l,c,u)=>{await i(l,c,u),r(d=>[l,...d.filter(p=>p!==l)].slice(0,3))},[i]),getRecentSearches:s,recentSearches:n}},U7=()=>(Xb(),null);function z7(e,t=[]){const[n,r]=x.useState(null);return x.useEffect(()=>{let i=!1;async function s(){if(!i){const a=CT(e,t);r(a)}}return s(),()=>{i=!0,n&&n.dispose()}},[e,JSON.stringify(t)]),n}const RT=x.createContext(null),B7=()=>{const e=x.useContext(RT);if(!e)throw new Error("useQuotaContext must be used within SearchProvider");return e},Hp=x.createContext(null),Jb=()=>{const e=x.useContext(Hp);if(!e)throw new Error("useOrigin must be used within SearchProvider");return e},H7=()=>x.useContext(Hp),q7=({children:e})=>{const[t,n]=x.useState("all");return o.jsx(Hp.Provider,{value:{origin:t,setOrigin:n},children:e})},PT=({children:e})=>{const{user:t,loading:n}=ht(),r=Yb(),{currentWorkspace:i}=_i(),{assignedSources:s}=Bl(),a=z7(i==null?void 0:i.id,s),[l,c]=x.useState("public"),u=x.useRef("public");x.useEffect(()=>{u.current=l},[l]);const d=x.useRef(i==null?void 0:i.id);x.useEffect(()=>{d.current=i==null?void 0:i.id},[i==null?void 0:i.id]);const f=x.useRef(null),p=x.useRef(!1),h=x.useRef(""),g=x.useRef(null);a&&!f.current&&(f.current={search:async w=>{var b,S,E,_;const v=Date.now();let y=!0;try{const k=w.map(D=>{const O=(D==null?void 0:D.params)||{},H=P7(O)||u.current;return{...D,origin:H,params:{...O,_search_context:{workspace_id:d.current,origin:H,timestamp:Date.now()}}}});if(!(k!=null&&k.some(D=>{const O=(D==null?void 0:D.params)||{},H=typeof O.query=="string"&&O.query.trim().length>0,A=!!(O.filters&&String(O.filters).trim()),F=Array.isArray(O.facetFilters)&&O.facetFilters.length>0,U=Array.isArray(O.numericFilters)&&O.numericFilters.length>0,B=Array.isArray(O.tagFilters)&&O.tagFilters.length>0,R=!!(O.facetName||O.facetQuery);return H||A||F||U||B||R}))){const D={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};return{results:(w||[]).map(()=>D)}}const I=((S=(b=k==null?void 0:k[0])==null?void 0:b.params)==null?void 0:S.query)??"";return(I||"")!==(h.current||"")&&(h.current=I,p.current=!1,g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{p.current=!0},400)),await a.search(k,{enableCache:!0,enableDeduplication:!0,enableBatching:!0,teaserAllowed:p.current})}catch{y=!1;const N={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};return{results:(w||[]).map(()=>N)}}finally{const k=Date.now()-v;Fn.recordRequest(k,y,d.current,((_=(E=w==null?void 0:w[0])==null?void 0:E.params)==null?void 0:_.query)||"",!1)}}});const m=a?f.current:null;return o.jsx($7,{children:o.jsx(RT.Provider,{value:r,children:o.jsx(Hp.Provider,{value:{origin:l,setOrigin:c},children:n||!t?o.jsx(Uy,{error:"Initialisation de l'authentification...",showOptimizationInfo:!0}):m?o.jsxs(cV,{searchClient:m,indexName:j7,future:{preserveSharedStateOnUnmount:!0},children:[e,o.jsx(U7,{})]}):o.jsx(Uy,{error:"Chargement du client de recherche...",showOptimizationInfo:!0})})})})};class NT{constructor(t={}){ye(this,"requestTimestamps",[]);ye(this,"burstTokens");ye(this,"lastRequestTime",0);ye(this,"consecutiveRequests",0);ye(this,"config");this.config={maxRequestsPerSecond:5,maxRequestsPerMinute:60,burstAllowance:10,adaptiveThrottling:!0,...t},this.burstTokens=this.config.burstAllowance}async throttle(t){const n=Date.now();this.cleanOldTimestamps(n);const r=this.calculateDelay(n);r>0&&await this.sleep(r),this.recordRequest(n+r);try{const i=await t();return this.consecutiveRequests++,i}catch(i){throw this.consecutiveRequests=0,i}}calculateDelay(t){const n=t-1e3,r=t-6e4,i=this.requestTimestamps.filter(a=>a>n).length,s=this.requestTimestamps.filter(a=>a>r).length;if(i>=this.config.maxRequestsPerSecond){if(this.burstTokens>0)return this.burstTokens--,0;const a=this.requestTimestamps.filter(l=>l>n).sort()[0];return Math.max(0,1e3-(t-a))}if(s>=this.config.maxRequestsPerMinute){const a=this.requestTimestamps.filter(l=>l>r).sort()[0];return Math.max(0,6e4-(t-a))}if(this.config.adaptiveThrottling&&this.consecutiveRequests>10){const a=t-this.lastRequestTime;if(a<100)return 100-a}return 0}cleanOldTimestamps(t){const n=t-6e4;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n);const r=t-this.lastRequestTime;r>5e3&&(this.burstTokens=Math.min(this.config.burstAllowance,this.burstTokens+Math.floor(r/1e3)),this.consecutiveRequests=0)}recordRequest(t){this.requestTimestamps.push(t),this.lastRequestTime=t}sleep(t){return new Promise(n=>setTimeout(n,t))}getStats(){const t=Date.now(),n=t-1e3,r=t-6e4;return{requestsLastSecond:this.requestTimestamps.filter(i=>i>n).length,requestsLastMinute:this.requestTimestamps.filter(i=>i>r).length,burstTokensAvailable:this.burstTokens,consecutiveRequests:this.consecutiveRequests,config:this.config}}}class TT{constructor(t={}){ye(this,"timers",new Map);ye(this,"requestCounts",new Map);ye(this,"config");this.config={baseDelay:300,maxDelay:1e3,adaptiveDelay:!0,cancelOnNewRequest:!0,...t}}debounce(t,n,r){return new Promise((i,s)=>{this.config.cancelOnNewRequest&&this.timers.has(t)&&(clearTimeout(this.timers.get(t)),this.timers.delete(t));const a=r||this.calculateAdaptiveDelay(t);this.requestCounts.set(t,(this.requestCounts.get(t)||0)+1);const l=setTimeout(async()=>{this.timers.delete(t),this.requestCounts.delete(t);try{const c=await n();i(c)}catch(c){s(c)}},a);this.timers.set(t,l)})}calculateAdaptiveDelay(t){if(!this.config.adaptiveDelay)return this.config.baseDelay;const n=this.requestCounts.get(t)||0,r=Math.min(1+n*.2,3),i=this.config.baseDelay*r;return Math.min(i,this.config.maxDelay)}debounceSearch(t,n,r={}){const{isTyping:i=!1,hasFilters:s=!1}=r;let a=this.config.baseDelay;t.length<3?a=150:t.length>6&&s?a=500:i&&(a=200);const l=`search:${t}:${s}`;return this.debounce(l,n,a)}clear(t){if(t){const n=this.timers.get(t);n&&(clearTimeout(n),this.timers.delete(t),this.requestCounts.delete(t))}else{for(const n of this.timers.values())clearTimeout(n);this.timers.clear(),this.requestCounts.clear()}}getStats(){return{activeTimers:this.timers.size,totalRequests:Array.from(this.requestCounts.values()).reduce((t,n)=>t+n,0),requestsByKey:Object.fromEntries(this.requestCounts),config:this.config}}}class W7{constructor(t,n){ye(this,"throttler");ye(this,"debouncer");ye(this,"requestQueue",[]);ye(this,"processing",!1);this.throttler=new NT(t),this.debouncer=new TT(n)}async optimizedRequest(t,n,r={}){const{debounce:i=!0,throttle:s=!0,priority:a=2,context:l={}}=r;let c=n;if(s){const u=c;c=()=>this.throttler.throttle(u)}return i?this.debouncer.debounceSearch(t,c,l):new Promise((u,d)=>{this.requestQueue.push({fn:c,resolve:u,reject:d,priority:a}),this.requestQueue.sort((f,p)=>f.priority-p.priority),this.processQueue()})}async processQueue(){if(!(this.processing||this.requestQueue.length===0)){for(this.processing=!0;this.requestQueue.length>0;){const{fn:t,resolve:n,reject:r}=this.requestQueue.shift();try{const i=await t();n(i)}catch(i){r(i)}}this.processing=!1}}getStats(){return{throttler:this.throttler.getStats(),debouncer:this.debouncer.getStats(),queueSize:this.requestQueue.length,processing:this.processing}}clear(){this.debouncer.clear(),this.requestQueue=[],this.processing=!1}}new NT;new TT;const V7=new W7;class Q7{constructor(){ye(this,"prefixCache",new Map);ye(this,"recentSearchCache",new Map);ye(this,"maxCacheSize",500);ye(this,"prefixCacheTTL",10*60*1e3);ye(this,"minPrefixLength",1);ye(this,"maxSuggestions",8);ye(this,"client",null);ye(this,"context",null);this.startCacheCleanup()}updateContext(t){this.contextChanged(t)&&(this.prefixCache.clear(),this.client&&this.client.dispose(),this.client=CT(t.workspaceId,t.assignedSources)),this.context=t}contextChanged(t){return this.context?this.context.workspaceId!==t.workspaceId||this.context.origin!==t.origin||JSON.stringify(this.context.assignedSources)!==JSON.stringify(t.assignedSources):!0}async getSuggestions(t,n=this.maxSuggestions){if(!this.context||!this.client)throw new Error("Context not initialized. Call updateContext() first.");const r=t.trim();if(r.length===0)return this.getRecentSearchSuggestions();if(r.length<this.minPrefixLength)return this.fetchDirectSuggestions(r,n);const i=this.findCachedSuggestions(r,n);return i||this.fetchAndCacheSuggestions(r,n)}findCachedSuggestions(t,n){let r=null,i=0;for(const[a,l]of this.prefixCache.entries())t.startsWith(a)&&a.length>i&&(Date.now()-l.timestamp<=this.prefixCacheTTL?(r=l,i=a.length):this.prefixCache.delete(a));if(!r)return null;const s=r.suggestions.filter(a=>a.label.toLowerCase().includes(t.toLowerCase()));return s.length>=n||r.isComplete?this.rankSuggestions(s,t).slice(0,n):null}async fetchAndCacheSuggestions(t,n){const r=Math.min(t.length,3),i=t.substring(0,r),s=`suggestions:${i}:${this.context.origin}`,a=await V7.optimizedRequest(s,()=>this.fetchDirectSuggestions(t,n*2),{debounce:!0,throttle:!0,priority:1,context:{isTyping:!0,hasFilters:!1}});return this.cacheByPrefix(i,a,t),this.rankSuggestions(a,t).slice(0,n)}async fetchDirectSuggestions(t,n){var a;const{origin:r}=this.context,i=[],s=new Set;try{const l=[];if((r==="all"||r==="public")&&l.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:public"]],typoTolerance:"strict"},origin:"public"}),(r==="all"||r==="private")&&l.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:private"]],typoTolerance:"strict"},origin:"private"}),l.length===0)return[];const c=await this.client.search(l,{enableCache:!0,enableDeduplication:!0,enableBatching:!1});for(const u of c.results)if(u!=null&&u.hits)for(const d of u.hits){const f=d.Nom_fr||d.Nom_en||"";if(!f||s.has(f))continue;s.add(f);const p={label:f,isPrivate:d.scope==="private",source:d.Source,objectID:d.objectID,relevanceScore:this.calculateRelevanceScore(d,t),category:d.Secteur_fr||d.Secteur_en||"Autres"};i.push(p)}return i}catch(l){return(a=l==null?void 0:l.message)!=null&&a.includes("blocked")||(l==null?void 0:l.status)===403?(console.log(" Algolia temporairement indisponible (plan payant requis)"),[]):(console.error("Error fetching suggestions:",l),[])}}calculateRelevanceScore(t,n){var c;const r=n.toLowerCase();let i=0;const s=(t.Nom_fr||t.Nom_en||"").toLowerCase();return s.startsWith(r)?i+=100:s.includes(r)&&(i+=50),(t.Description_fr||t.Description_en||"").toLowerCase().includes(r)&&(i+=25),["ADEME","Base Carbone","GHG Protocol"].includes(t.Source)&&(i+=10),((c=this.context)==null?void 0:c.origin)==="public"&&t.scope==="private"&&(i-=20),i}rankSuggestions(t,n){return t.sort((r,i)=>{const s=r.label.toLowerCase().startsWith(n.toLowerCase()),a=i.label.toLowerCase().startsWith(n.toLowerCase());return s&&!a?-1:!s&&a?1:(i.relevanceScore||0)-(r.relevanceScore||0)})}cacheByPrefix(t,n,r){if(t.length<this.minPrefixLength||n.length===0)return;const i={prefix:t,suggestions:n,timestamp:Date.now(),totalCount:n.length,isComplete:n.length<this.maxSuggestions*2};this.prefixCache.set(t,i),this.evictOldCacheEntries()}getRecentSearchSuggestions(){var n;return(((n=this.context)==null?void 0:n.recentSearches)||[]).slice(0,5).map(r=>({label:r,isPrivate:!1,category:"Recherches rcentes"}))}evictOldCacheEntries(){if(this.prefixCache.size<=this.maxCacheSize)return;const n=Array.from(this.prefixCache.entries()).sort(([,i],[,s])=>{const a=Date.now()-i.timestamp,l=Date.now()-s.timestamp,c=i.totalCount/(a/1e3),u=s.totalCount/(l/1e3);return c-u}),r=Math.floor(this.prefixCache.size*.2);for(let i=0;i<r;i++)this.prefixCache.delete(n[i][0])}startCacheCleanup(){setInterval(()=>{const t=Date.now();for(const[n,r]of this.prefixCache.entries())t-r.timestamp>this.prefixCacheTTL&&this.prefixCache.delete(n)},5*60*1e3)}getCacheStats(){const t=Date.now(),n=Array.from(this.prefixCache.values()).filter(r=>t-r.timestamp<=this.prefixCacheTTL);return{totalEntries:this.prefixCache.size,validEntries:n.length,averageAge:n.length>0?n.reduce((r,i)=>r+(t-i.timestamp),0)/n.length:0,totalSuggestionsCached:n.reduce((r,i)=>r+i.totalCount,0),averageSuggestionsPerPrefix:n.length>0?n.reduce((r,i)=>r+i.totalCount,0)/n.length:0}}async preloadPopularPrefixes(t){const n=new Set;for(const r of t)if(r.length>=this.minPrefixLength)for(let i=this.minPrefixLength;i<=Math.min(r.length,4);i++)n.add(r.substring(0,i));for(const r of n)if(!this.prefixCache.has(r))try{await this.fetchAndCacheSuggestions(r,this.maxSuggestions*2),await new Promise(i=>setTimeout(i,100))}catch(i){console.warn(`Failed to preload prefix ${r}:`,i)}}clear(){this.prefixCache.clear(),this.recentSearchCache.clear(),this.client&&(this.client.dispose(),this.client=null),this.context=null}}const Ui=new Q7,K7=(e,t="all",n={})=>{const{maxSuggestions:r=8,enablePreloading:i=!0,debounceDelay:s=150,showRecentSearches:a=!0}=n,{currentWorkspace:l}=_i(),{assignedSources:c}=Bl(),{recentSearches:u}=Xb(),[d,f]=x.useState([]),[p,h]=x.useState(!1),[g,m]=x.useState(null),w=x.useRef(null),v=x.useRef(""),y=x.useRef(0);x.useEffect(()=>{Ui.updateContext({workspaceId:l==null?void 0:l.id,assignedSources:c,origin:t,recentSearches:a?u||[]:[],userLanguage:"fr"})},[l==null?void 0:l.id,c,t,u,a]),x.useEffect(()=>{i&&u&&u.length>0&&Ui.preloadPopularPrefixes(u.slice(0,10))},[i,u]);const b=x.useCallback(async I=>{const C=++y.current;try{h(!0),m(null);const D=await Ui.getSuggestions(I,r);C===y.current&&f(D)}catch(D){C===y.current&&(m(D.message||"Erreur lors de la rcupration des suggestions"),f([]))}finally{C===y.current&&h(!1)}},[r]),S=x.useCallback(I=>{if(w.current&&clearTimeout(w.current),I.trim().length===0){b(I);return}let C=s;I.length<3?C=Math.max(100,s*.5):I.length>6&&(C=Math.min(300,s*1.5)),w.current=setTimeout(()=>{b(I)},C)},[b,s]);x.useEffect(()=>(e!==v.current&&(v.current=e,S(e)),()=>{w.current&&clearTimeout(w.current)}),[e,S]),x.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const E=x.useCallback(()=>{f([]),m(null),h(!1),w.current&&(clearTimeout(w.current),w.current=null)},[]),_=x.useCallback(()=>{b(e)},[e,b]),k=x.useCallback(()=>Ui.getCacheStats(),[]),N=x.useCallback(I=>{Ui.getSuggestions(I,r)},[r]);return{suggestions:d,loading:p,error:g,clearSuggestions:E,refreshSuggestions:_,getCacheStats:k,preloadSuggestions:N,hasResults:d.length>0,isEmpty:!p&&d.length===0&&e.trim().length>0,isRecentSearches:d.length>0&&d.every(I=>I.category==="Recherches rcentes")}},G7=(e,t="all",n={})=>{const{showCategories:r=!0,groupByCategory:i=!1,highlightMatches:s=!0,...a}=n,{suggestions:l,loading:c,error:u,...d}=K7(e,t,a),f=x.useRef({suggestions:[],groupedSuggestions:{},highlightedSuggestions:[]});return x.useEffect(()=>{const p=s?l.map(g=>({...g,highlightedLabel:Y7(g.label,e)})):l,h=i?J7(p):{};f.current={suggestions:l,groupedSuggestions:h,highlightedSuggestions:p}},[l,e,i,s]),{suggestions:f.current.suggestions,groupedSuggestions:f.current.groupedSuggestions,highlightedSuggestions:f.current.highlightedSuggestions,loading:c,error:u,...d}};function Y7(e,t){if(!t.trim())return e;const n=new RegExp(`(${X7(t)})`,"gi");return e.replace(n,"<mark>$1</mark>")}function X7(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function J7(e){return e.reduce((t,n)=>{const r=n.category||"Autres";return t[r]||(t[r]=[]),t[r].push(n),t},{})}const Z7=ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function He({className:e,variant:t,...n}){return o.jsx("div",{className:ae(Z7({variant:t}),e),...n})}const eQ=()=>{const{query:e,refine:t}=Gb(),{nbHits:n}=zp(),{hits:r}=Up(),{origin:i}=Jb(),{highlightedSuggestions:s,groupedSuggestions:a,loading:l,isRecentSearches:c,getCacheStats:u}=G7(e,i,{maxSuggestions:8,enablePreloading:!1,debounceDelay:250,showCategories:!0,groupByCategory:!0,highlightMatches:!0}),{recordSearch:d}=Xb(),[f,p]=x.useState(!1),h=x.useRef(null);x.useRef({origin:i,query:e,suggestions:0}),q.useEffect(()=>{s.length},[i,e,s.length,u]),x.useEffect(()=>{const v=y=>{h.current&&!h.current.contains(y.target)&&p(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const g=()=>{t(""),p(!1)},m=v=>{t(v),p(!1),d(v,{},0)},w=()=>{e.trim()&&d(e,{},n||0),p(!1)};return o.jsx("div",{className:"space-y-4",ref:h,children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(du,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-6 w-6"}),o.jsx(Ot,{type:"text",value:e,onChange:v=>{t(v.target.value),p(v.target.value.length>0)},onKeyDown:v=>{v.key==="Enter"&&w()},placeholder:"Rechercher des facteurs d'mission...",className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-20 text-2xl pl-20 pr-20 rounded-xl"}),e&&o.jsx("button",{onClick:g,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:o.jsx(yp,{className:"h-6 w-6"})})]}),o.jsx(te,{variant:"hero",onClick:w,className:"h-20 px-10 text-xl rounded-xl",children:"Rechercher"})]}),f&&s.length>0&&o.jsxs("div",{className:"absolute top-full left-0 right-[200px] bg-white border border-white/20 rounded-xl shadow-xl z-50 mt-2",children:[l&&o.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[o.jsx(fu,{className:"h-3 w-3 animate-pulse"}),"Recherche optimise..."]}),c?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white flex items-center gap-2 font-montserrat",children:[o.jsx(jh,{className:"h-3 w-3"}),"Recherches rcentes"]}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-white",children:s.map((v,y)=>o.jsxs("button",{onClick:()=>m(v.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white flex items-center gap-2 font-montserrat",children:[o.jsx(jh,{className:"h-3 w-3 text-indigo-950/60"}),v.label]},`recent-${y}`))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[o.jsx(fu,{className:"h-3 w-3"}),"Suggestions intelligentes (",s.length,")"]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-white",children:Object.keys(a).length>0?Object.entries(a).map(([v,y])=>o.jsxs("div",{children:[v!=="Autres"&&o.jsx("div",{className:"px-4 py-2 text-xs text-indigo-950/50 bg-gray-50 font-montserrat",children:v}),y.map((b,S)=>o.jsxs("button",{onClick:()=>m(b.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[o.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:b.label}}),b.isPrivate&&o.jsx(He,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE import"}),b.source&&o.jsx(He,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:b.source})]},`${v}-${S}`))]},v)):s.map((v,y)=>o.jsxs("button",{onClick:()=>m(v.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[o.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:v.highlightedLabel||v.label}}),v.isPrivate&&o.jsx(He,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE import"}),v.source&&o.jsx(He,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:v.source})]},`suggestion-${y}`))})]})]})]})})};function Xj(e,[t,n]){return Math.min(n,Math.max(t,e))}var Rg=0;function Zb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jj()),document.body.insertAdjacentElement("beforeend",e[1]??Jj()),Rg++,()=>{Rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rg--}},[])}function Jj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pg="focusScope.autoFocusOnMount",Ng="focusScope.autoFocusOnUnmount",Zj={bubbles:!1,cancelable:!0},tQ="FocusScope",qp=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=x.useState(null),u=qn(i),d=qn(s),f=x.useRef(null),p=Le(t,m=>c(m)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(b){if(h.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:ms(f.current,{select:!0})},w=function(b){if(h.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||ms(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&ms(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),y.disconnect()}}},[r,l,h.paused]),x.useEffect(()=>{if(l){t1.add(h);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(Pg,Zj);l.addEventListener(Pg,u),l.dispatchEvent(v),v.defaultPrevented||(nQ(oQ(AT(l)),{select:!0}),document.activeElement===m&&ms(l))}return()=>{l.removeEventListener(Pg,u),setTimeout(()=>{const v=new CustomEvent(Ng,Zj);l.addEventListener(Ng,d),l.dispatchEvent(v),v.defaultPrevented||ms(m??document.body,{select:!0}),l.removeEventListener(Ng,d),t1.remove(h)},0)}}},[l,u,d,h]);const g=x.useCallback(m=>{if(!n&&!r||h.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const y=m.currentTarget,[b,S]=rQ(y);b&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&ms(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&ms(S,{select:!0})):v===y&&m.preventDefault()}},[n,r,h.paused]);return o.jsx(ge.div,{tabIndex:-1,...a,ref:p,onKeyDown:g})});qp.displayName=tQ;function nQ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ms(r,{select:t}),document.activeElement!==n)return}function rQ(e){const t=AT(e),n=e1(t,e),r=e1(t.reverse(),e);return[n,r]}function AT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function e1(e,t){for(const n of e)if(!iQ(n,{upTo:t}))return n}function iQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sQ(e){return e instanceof HTMLInputElement&&"select"in e}function ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&sQ(e)&&t&&e.select()}}var t1=aQ();function aQ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=n1(e,t),e.unshift(t)},remove(t){var n;e=n1(e,t),(n=e[0])==null||n.resume()}}}function n1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function oQ(e){return e.filter(t=>t.tagName!=="A")}function OT(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wo=new WeakMap,wf=new WeakMap,Sf={},Tg=0,IT=function(e){return e&&(e.host||IT(e.parentNode))},cQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=IT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},uQ=function(e,t,n,r){var i=cQ(t,Array.isArray(e)?e:[e]);Sf[n]||(Sf[n]=new WeakMap);var s=Sf[n],a=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var h=p.getAttribute(r),g=h!==null&&h!=="false",m=(wo.get(p)||0)+1,w=(s.get(p)||0)+1;wo.set(p,m),s.set(p,w),a.push(p),m===1&&g&&wf.set(p,!0),w===1&&p.setAttribute(n,"true"),g||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(t),l.clear(),Tg++,function(){a.forEach(function(f){var p=wo.get(f)-1,h=s.get(f)-1;wo.set(f,p),s.set(f,h),p||(wf.has(f)||f.removeAttribute(r),wf.delete(f)),h||f.removeAttribute(n)}),Tg--,Tg||(wo=new WeakMap,wo=new WeakMap,wf=new WeakMap,Sf={})}},ew=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=lQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),uQ(r,i,n,"aria-hidden")):function(){return null}},mi=function(){return mi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mi.apply(this,arguments)};function DT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function dQ(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Gf="right-scroll-bar-position",Yf="width-before-scroll-bar",fQ="with-scroll-bars-hidden",hQ="--removed-body-scroll-bar-size";function Ag(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pQ(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var mQ=typeof window<"u"?x.useLayoutEffect:x.useEffect,r1=new WeakMap;function gQ(e,t){var n=pQ(null,function(r){return e.forEach(function(i){return Ag(i,r)})});return mQ(function(){var r=r1.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(l){s.has(l)||Ag(l,null)}),s.forEach(function(l){i.has(l)||Ag(l,a)})}r1.set(n,e)},[e]),n}function vQ(e){return e}function yQ(e,t){t===void 0&&(t=vQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function xQ(e){e===void 0&&(e={});var t=yQ(null);return t.options=mi({async:!0,ssr:!1},e),t}var FT=function(e){var t=e.sideCar,n=DT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,mi({},n))};FT.isSideCarExport=!0;function bQ(e,t){return e.useMedium(t),FT}var LT=xQ(),Og=function(){},Wp=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:Og,onWheelCapture:Og,onTouchMoveCapture:Og}),i=r[0],s=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,g=e.noIsolation,m=e.inert,w=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,S=DT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,_=gQ([n,t]),k=mi(mi({},S),i);return x.createElement(x.Fragment,null,d&&x.createElement(E,{sideCar:LT,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:b}),a?x.cloneElement(x.Children.only(l),mi(mi({},k),{ref:_})):x.createElement(y,mi({},k,{className:c,ref:_}),l))});Wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wp.classNames={fullWidth:Yf,zeroRight:Gf};var wQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wQ();return t&&e.setAttribute("nonce",t),e}function _Q(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=SQ())&&(_Q(t,n),jQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kQ=function(){var e=EQ();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},MT=function(){var e=kQ(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},CQ={left:0,top:0,right:0,gap:0},Ig=function(e){return parseInt(e||"",10)||0},RQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ig(n),Ig(r),Ig(i)]},PQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CQ;var t=RQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},NQ=MT(),Xo="data-scroll-locked",TQ=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(fQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Xo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Yf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Gf," .").concat(Gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yf," .").concat(Yf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xo,`] {
    `).concat(hQ,": ").concat(l,`px;
  }
`)},i1=function(){var e=parseInt(document.body.getAttribute(Xo)||"0",10);return isFinite(e)?e:0},AQ=function(){x.useEffect(function(){return document.body.setAttribute(Xo,(i1()+1).toString()),function(){var e=i1()-1;e<=0?document.body.removeAttribute(Xo):document.body.setAttribute(Xo,e.toString())}},[])},OQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;AQ();var s=x.useMemo(function(){return PQ(i)},[i]);return x.createElement(NQ,{styles:TQ(s,!t,i,n?"":"!important")})},zy=!1;if(typeof window<"u")try{var _f=Object.defineProperty({},"passive",{get:function(){return zy=!0,!0}});window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch{zy=!1}var So=zy?{passive:!1}:!1,IQ=function(e){return e.tagName==="TEXTAREA"},$T=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!IQ(e)&&n[t]==="visible")},DQ=function(e){return $T(e,"overflowY")},FQ=function(e){return $T(e,"overflowX")},s1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UT(e,r);if(i){var s=zT(e,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},LQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},UT=function(e,t){return e==="v"?DQ(t):FQ(t)},zT=function(e,t){return e==="v"?LQ(t):MQ(t)},$Q=function(e,t){return e==="h"&&t==="rtl"?-1:1},UQ=function(e,t,n,r,i){var s=$Q(e,window.getComputedStyle(t).direction),a=s*r,l=n.target,c=t.contains(l),u=!1,d=a>0,f=0,p=0;do{if(!l)break;var h=zT(e,l),g=h[0],m=h[1],w=h[2],v=m-w-s*g;(g||v)&&UT(e,l)&&(f+=v,p+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},jf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},a1=function(e){return[e.deltaX,e.deltaY]},o1=function(e){return e&&"current"in e?e.current:e},zQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HQ=0,_o=[];function qQ(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(HQ++)[0],s=x.useState(MT)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=dQ([e.lockRef.current],(e.shards||[]).map(o1),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=jf(m),y=n.current,b="deltaX"in m?m.deltaX:y[0]-v[0],S="deltaY"in m?m.deltaY:y[1]-v[1],E,_=m.target,k=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&k==="h"&&_.type==="range")return!1;var N=s1(k,_);if(!N)return!0;if(N?E=k:(E=k==="v"?"h":"v",N=s1(k,_)),!N)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=E),!E)return!0;var I=r.current||E;return UQ(I,w,m,I==="h"?b:S)},[]),c=x.useCallback(function(m){var w=m;if(!(!_o.length||_o[_o.length-1]!==s)){var v="deltaY"in w?a1(w):jf(w),y=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&zQ(E.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(o1).filter(Boolean).filter(function(E){return E.contains(w.target)}),S=b.length>0?l(w,b[0]):!a.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=x.useCallback(function(m,w,v,y){var b={name:m,delta:w,target:v,should:y,shadowParent:WQ(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=x.useCallback(function(m){n.current=jf(m),r.current=void 0},[]),f=x.useCallback(function(m){u(m.type,a1(m),m.target,l(m,e.lockRef.current))},[]),p=x.useCallback(function(m){u(m.type,jf(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return _o.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,So),document.addEventListener("touchmove",c,So),document.addEventListener("touchstart",d,So),function(){_o=_o.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,So),document.removeEventListener("touchmove",c,So),document.removeEventListener("touchstart",d,So)}},[]);var h=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:BQ(i)}):null,h?x.createElement(OQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function WQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VQ=bQ(LT,qQ);var Vp=x.forwardRef(function(e,t){return x.createElement(Wp,mi({},e,{ref:t,sideCar:VQ}))});Vp.classNames=Wp.classNames;var QQ=[" ","Enter","ArrowUp","ArrowDown"],KQ=[" ","Enter"],za="Select",[Qp,Kp,GQ]=pp(za),[Hl,Sie]=dr(za,[GQ,Ll]),Gp=Ll(),[YQ,ta]=Hl(za),[XQ,JQ]=Hl(za),BT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=e,m=Gp(t),[w,v]=x.useState(null),[y,b]=x.useState(null),[S,E]=x.useState(!1),_=Dp(u),[k,N]=Ki({prop:r,defaultProp:i??!1,onChange:s,caller:za}),[I,C]=Ki({prop:a,defaultProp:l,onChange:c,caller:za}),D=x.useRef(null),O=w?g||!!w.closest("form"):!0,[H,A]=x.useState(new Set),F=Array.from(H).map(U=>U.props.value).join(";");return o.jsx(bb,{...m,children:o.jsxs(YQ,{required:h,scope:t,trigger:w,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Vr(),value:I,onValueChange:C,open:k,onOpenChange:N,dir:_,triggerPointerDownPosRef:D,disabled:p,children:[o.jsx(Qp.Provider,{scope:t,children:o.jsx(XQ,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(U=>{A(B=>new Set(B).add(U))},[]),onNativeOptionRemove:x.useCallback(U=>{A(B=>{const R=new Set(B);return R.delete(U),R})},[]),children:n})}),O?o.jsxs(fA,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:U=>C(U.target.value),disabled:p,form:g,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(H)]},F):null]})})};BT.displayName=za;var HT="SelectTrigger",qT=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Gp(n),a=ta(HT,n),l=a.disabled||r,c=Le(t,a.onTriggerChange),u=Kp(n),d=x.useRef("touch"),[f,p,h]=pA(m=>{const w=u().filter(b=>!b.disabled),v=w.find(b=>b.value===a.value),y=mA(w,m,v);y!==void 0&&a.onValueChange(y.value)}),g=m=>{l||(a.onOpenChange(!0),h()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(wb,{asChild:!0,...s,children:o.jsx(ge.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":hA(a.value)?"":void 0,...i,ref:c,onClick:re(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:re(i.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:re(i.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(w&&m.key===" ")&&QQ.includes(m.key)&&(g(),m.preventDefault())})})})});qT.displayName=HT;var WT="SelectValue",VT=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=e,c=ta(WT,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Le(t,c.onValueNodeChange);return Zt(()=>{u(d)},[u,d]),o.jsx(ge.span,{...l,ref:f,style:{pointerEvents:"none"},children:hA(c.value)?o.jsx(o.Fragment,{children:a}):s})});VT.displayName=WT;var ZQ="SelectIcon",QT=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return o.jsx(ge.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});QT.displayName=ZQ;var eK="SelectPortal",KT=e=>o.jsx(ld,{asChild:!0,...e});KT.displayName=eK;var Ba="SelectContent",GT=x.forwardRef((e,t)=>{const n=ta(Ba,e.__scopeSelect),[r,i]=x.useState();if(Zt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ka.createPortal(o.jsx(YT,{scope:e.__scopeSelect,children:o.jsx(Qp.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(XT,{...e,ref:t})});GT.displayName=Ba;var Fr=10,[YT,na]=Hl(Ba),tK="SelectContentImpl",nK=Da("SelectContent.RemoveScroll"),XT=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:w,...v}=e,y=ta(Ba,n),[b,S]=x.useState(null),[E,_]=x.useState(null),k=Le(t,V=>S(V)),[N,I]=x.useState(null),[C,D]=x.useState(null),O=Kp(n),[H,A]=x.useState(!1),F=x.useRef(!1);x.useEffect(()=>{if(b)return ew(b)},[b]),Zb();const U=x.useCallback(V=>{const[oe,...le]=O().map(Pe=>Pe.ref.current),[ue]=le.slice(-1),ve=document.activeElement;for(const Pe of V)if(Pe===ve||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===oe&&E&&(E.scrollTop=0),Pe===ue&&E&&(E.scrollTop=E.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==ve))return},[O,E]),B=x.useCallback(()=>U([N,b]),[U,N,b]);x.useEffect(()=>{H&&B()},[H,B]);const{onOpenChange:R,triggerPointerDownPosRef:T}=y;x.useEffect(()=>{if(b){let V={x:0,y:0};const oe=ue=>{var ve,Pe;V={x:Math.abs(Math.round(ue.pageX)-(((ve=T.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((Pe=T.current)==null?void 0:Pe.y)??0))}},le=ue=>{V.x<=10&&V.y<=10?ue.preventDefault():b.contains(ue.target)||R(!1),document.removeEventListener("pointermove",oe),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",le,{capture:!0})}}},[b,R,T]),x.useEffect(()=>{const V=()=>R(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[R]);const[j,M]=pA(V=>{const oe=O().filter(ve=>!ve.disabled),le=oe.find(ve=>ve.ref.current===document.activeElement),ue=mA(oe,V,le);ue&&setTimeout(()=>ue.ref.current.focus())}),$=x.useCallback((V,oe,le)=>{const ue=!F.current&&!le;(y.value!==void 0&&y.value===oe||ue)&&(I(V),ue&&(F.current=!0))},[y.value]),P=x.useCallback(()=>b==null?void 0:b.focus(),[b]),Q=x.useCallback((V,oe,le)=>{const ue=!F.current&&!le;(y.value!==void 0&&y.value===oe||ue)&&D(V)},[y.value]),K=r==="popper"?By:JT,J=K===By?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:w}:{};return o.jsx(YT,{scope:n,content:b,viewport:E,onViewportChange:_,itemRefCallback:$,selectedItem:N,onItemLeave:P,itemTextRefCallback:Q,focusSelectedItem:B,selectedItemText:C,position:r,isPositioned:H,searchRef:j,children:o.jsx(Vp,{as:nK,allowPinchZoom:!0,children:o.jsx(qp,{asChild:!0,trapped:y.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:re(i,V=>{var oe;(oe=y.trigger)==null||oe.focus({preventScroll:!0}),V.preventDefault()}),children:o.jsx(Ol,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(K,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:V=>V.preventDefault(),...v,...J,onPlaced:()=>A(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:re(v.onKeyDown,V=>{const oe=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!oe&&V.key.length===1&&M(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let ue=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(V.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ve=V.target,Pe=ue.indexOf(ve);ue=ue.slice(Pe+1)}setTimeout(()=>U(ue)),V.preventDefault()}})})})})})})});XT.displayName=tK;var rK="SelectItemAlignedPosition",JT=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=ta(Ba,n),a=na(Ba,n),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Le(t,k=>d(k)),p=Kp(n),h=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:y}=a,b=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&w&&v){const k=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),C=v.getBoundingClientRect();if(s.dir!=="rtl"){const ve=C.left-N.left,Pe=I.left-ve,ct=k.left-Pe,Ft=k.width+ct,Lt=Math.max(Ft,N.width),kt=window.innerWidth-Fr,fr=Xj(Pe,[Fr,Math.max(Fr,kt-Lt)]);l.style.minWidth=Ft+"px",l.style.left=fr+"px"}else{const ve=N.right-C.right,Pe=window.innerWidth-I.right-ve,ct=window.innerWidth-k.right-Pe,Ft=k.width+ct,Lt=Math.max(Ft,N.width),kt=window.innerWidth-Fr,fr=Xj(Pe,[Fr,Math.max(Fr,kt-Lt)]);l.style.minWidth=Ft+"px",l.style.right=fr+"px"}const D=p(),O=window.innerHeight-Fr*2,H=m.scrollHeight,A=window.getComputedStyle(u),F=parseInt(A.borderTopWidth,10),U=parseInt(A.paddingTop,10),B=parseInt(A.borderBottomWidth,10),R=parseInt(A.paddingBottom,10),T=F+U+H+R+B,j=Math.min(w.offsetHeight*5,T),M=window.getComputedStyle(m),$=parseInt(M.paddingTop,10),P=parseInt(M.paddingBottom,10),Q=k.top+k.height/2-Fr,K=O-Q,J=w.offsetHeight/2,V=w.offsetTop+J,oe=F+U+V,le=T-oe;if(oe<=Q){const ve=D.length>0&&w===D[D.length-1].ref.current;l.style.bottom="0px";const Pe=u.clientHeight-m.offsetTop-m.offsetHeight,ct=Math.max(K,J+(ve?P:0)+Pe+B),Ft=oe+ct;l.style.height=Ft+"px"}else{const ve=D.length>0&&w===D[0].ref.current;l.style.top="0px";const ct=Math.max(Q,F+m.offsetTop+(ve?$:0)+J)+le;l.style.height=ct+"px",m.scrollTop=oe-Q+m.offsetTop}l.style.margin=`${Fr}px 0`,l.style.minHeight=j+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,s.trigger,s.valueNode,l,u,m,w,v,s.dir,r]);Zt(()=>b(),[b]);const[S,E]=x.useState();Zt(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(k=>{k&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return o.jsx(sK,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(ge.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});JT.displayName=rK;var iK="SelectPopperPosition",By=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Fr,...s}=e,a=Gp(n);return o.jsx(Sb,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});By.displayName=iK;var[sK,tw]=Hl(Ba,{}),Hy="SelectViewport",ZT=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=na(Hy,n),a=tw(Hy,n),l=Le(t,s.onViewportChange),c=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Qp.Slot,{scope:n,children:o.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:re(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-Fr*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(m,w);if(v<g){const y=v+h,b=Math.min(g,y),S=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ZT.displayName=Hy;var eA="SelectGroup",[aK,oK]=Hl(eA),lK=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Vr();return o.jsx(aK,{scope:n,id:i,children:o.jsx(ge.div,{role:"group","aria-labelledby":i,...r,ref:t})})});lK.displayName=eA;var tA="SelectLabel",nA=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=oK(tA,n);return o.jsx(ge.div,{id:i.id,...r,ref:t})});nA.displayName=tA;var Uh="SelectItem",[cK,rA]=Hl(Uh),iA=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,l=ta(Uh,n),c=na(Uh,n),u=l.value===r,[d,f]=x.useState(s??""),[p,h]=x.useState(!1),g=Le(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,i)}),m=Vr(),w=x.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(cK,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:x.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(Qp.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(ge.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:re(a.onFocus,()=>h(!0)),onBlur:re(a.onBlur,()=>h(!1)),onClick:re(a.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:re(a.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:re(a.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:re(a.onPointerMove,y=>{var b;w.current=y.pointerType,i?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(a.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:re(a.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(KQ.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});iA.displayName=Uh;var Ec="SelectItemText",sA=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=ta(Ec,n),l=na(Ec,n),c=rA(Ec,n),u=JQ(Ec,n),[d,f]=x.useState(null),p=Le(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=x.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return Zt(()=>(m(g),()=>w(g)),[m,w,g]),o.jsxs(o.Fragment,{children:[o.jsx(ge.span,{id:c.textId,...s,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ka.createPortal(s.children,a.valueNode):null]})});sA.displayName=Ec;var aA="SelectItemIndicator",oA=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return rA(aA,n).isSelected?o.jsx(ge.span,{"aria-hidden":!0,...r,ref:t}):null});oA.displayName=aA;var qy="SelectScrollUpButton",lA=x.forwardRef((e,t)=>{const n=na(qy,e.__scopeSelect),r=tw(qy,e.__scopeSelect),[i,s]=x.useState(!1),a=Le(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(uA,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});lA.displayName=qy;var Wy="SelectScrollDownButton",cA=x.forwardRef((e,t)=>{const n=na(Wy,e.__scopeSelect),r=tw(Wy,e.__scopeSelect),[i,s]=x.useState(!1),a=Le(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(uA,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});cA.displayName=Wy;var uA=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=na("SelectScrollButton",n),a=x.useRef(null),l=Kp(n),c=x.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Zt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ge.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:re(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:re(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:re(i.onPointerLeave,()=>{c()})})}),uK="SelectSeparator",dA=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ge.div,{"aria-hidden":!0,...r,ref:t})});dA.displayName=uK;var Vy="SelectArrow",dK=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Gp(n),s=ta(Vy,n),a=na(Vy,n);return s.open&&a.position==="popper"?o.jsx(_b,{...i,...r,ref:t}):null});dK.displayName=Vy;var fK="SelectBubbleInput",fA=x.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=x.useRef(null),s=Le(r,i),a=OT(t);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ge.select,{...n,style:{...IC,...n.style},ref:s,defaultValue:t})});fA.displayName=fK;function hA(e){return e===""||e===void 0}function pA(e){const t=qn(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function mA(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=hK(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function hK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var pK=BT,gA=qT,mK=VT,gK=QT,vK=KT,vA=GT,yK=ZT,yA=nA,xA=iA,xK=sA,bK=oA,bA=lA,wA=cA,SA=dA;const Er=pK,kr=mK,ir=x.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(gA,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(gK,{asChild:!0,children:o.jsx(dd,{className:"h-4 w-4 opacity-50"})})]}));ir.displayName=gA.displayName;const _A=x.forwardRef(({className:e,...t},n)=>o.jsx(bA,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ob,{className:"h-4 w-4"})}));_A.displayName=bA.displayName;const jA=x.forwardRef(({className:e,...t},n)=>o.jsx(wA,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(dd,{className:"h-4 w-4"})}));jA.displayName=wA.displayName;const sr=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>o.jsx(vK,{children:o.jsxs(vA,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(_A,{}),o.jsx(yK,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(jA,{})]})}));sr.displayName=vA.displayName;const wK=x.forwardRef(({className:e,...t},n)=>o.jsx(yA,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));wK.displayName=yA.displayName;const it=x.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(xA,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(bK,{children:o.jsx(vp,{className:"h-4 w-4"})})}),o.jsx(xK,{children:t})]}));it.displayName=xA.displayName;const SK=x.forwardRef(({className:e,...t},n)=>o.jsx(SA,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));SK.displayName=SA.displayName;var Yp="Checkbox",[_K,_ie]=dr(Yp),[jK,nw]=_K(Yp);function EK(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,h]=Ki({prop:n,defaultProp:i??!1,onChange:c,caller:Yp}),[g,m]=x.useState(null),[w,v]=x.useState(null),y=x.useRef(!1),b=g?!!a||!!g.closest("form"):!0,S={checked:p,disabled:s,setChecked:h,control:g,setControl:m,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Us(i)?!1:i,isFormControl:b,bubbleInput:w,setBubbleInput:v};return o.jsx(jK,{scope:t,...S,children:kK(f)?f(S):r})}var EA="CheckboxTrigger",kA=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=nw(EA,e),m=Le(i,d),w=x.useRef(c);return x.useEffect(()=>{const v=s==null?void 0:s.form;if(v){const y=()=>f(w.current);return v.addEventListener("reset",y),()=>v.removeEventListener("reset",y)}},[s,f]),o.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Us(c)?"mixed":c,"aria-required":u,"data-state":TA(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:m,onKeyDown:re(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:re(n,v=>{f(y=>Us(y)?!0:!y),g&&h&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});kA.displayName=EA;var rw=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(EK,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(kA,{...f,ref:t,__scopeCheckbox:n}),p&&o.jsx(NA,{__scopeCheckbox:n})]})})});rw.displayName=Yp;var CA="CheckboxIndicator",RA=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=nw(CA,n);return o.jsx(Nr,{present:r||Us(s.checked)||s.checked===!0,children:o.jsx(ge.span,{"data-state":TA(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});RA.displayName=CA;var PA="CheckboxBubbleInput",NA=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=nw(PA,e),g=Le(n,h),m=OT(s),w=TR(r);x.useEffect(()=>{const y=p;if(!y)return;const b=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(b,"checked").set,_=!i.current;if(m!==s&&E){const k=new Event("click",{bubbles:_});y.indeterminate=Us(s),E.call(y,Us(s)?!1:s),y.dispatchEvent(k)}},[p,m,s,i]);const v=x.useRef(Us(s)?!1:s);return o.jsx(ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NA.displayName=PA;function kK(e){return typeof e=="function"}function Us(e){return e==="indeterminate"}function TA(e){return Us(e)?"indeterminate":e?"checked":"unchecked"}const Zi=x.forwardRef(({className:e,...t},n)=>o.jsx(rw,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(RA,{className:ae("flex items-center justify-center text-current"),children:o.jsx(vp,{className:"h-4 w-4"})})}));Zi.displayName=rw.displayName;const zh=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>{const{currentWorkspace:s}=_i();return e?o.jsxs("div",{className:ae("relative",n),children:[o.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:o.jsxs("div",{className:"text-center space-y-2",children:[i&&o.jsxs(He,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[o.jsx(Fa,{className:"w-3 h-3 mr-1"}),"Base payante"]}),r&&o.jsxs(te,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[o.jsx(NM,{className:"w-3 h-3 mr-1"}),"Dbloquer"]})]})})]}):o.jsx(o.Fragment,{children:t})},AA=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=Yb(),{canExport:s}=ea(),a=u=>({id:u.objectID,nom:u.Nom_fr||u.Nom_en||u.Nom||"",description:u.Description_fr||u.Description_en||u.Description||"",fe:u.FE,uniteActivite:u.Unite_fr||u.Unite_en||u["Unit donne d'activit"]||"",source:u.Source,secteur:u.Secteur_fr||u.Secteur_en||u.Secteur||"",sousSecteur:u["Sous-secteur_fr"]||u["Sous-secteur_en"]||u["Sous-secteur"]||"",localisation:u.Localisation_fr||u.Localisation_en||u.Localisation||"",date:u.Date||0,incertitude:u.Incertitude,perimetre:u.Primtre_fr||u.Primtre_en||u.Primtre||"",contributeur:u.Contributeur||"",commentaires:u.Commentaires_fr||u.Commentaires_en||u.Commentaires||""}),l=x.useCallback(async(u,d="emission_factors")=>{if(!s)return _n.error("Vous n'avez pas les permissions pour exporter"),!1;if(u.length===0)return _n.error("Aucun lment slectionn pour l'export"),!1;if(!e)return _n.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const f=n.exports_limit-n.exports_used;if(u.length>f)return _n.error(`Quota insuffisant. Il vous reste ${f} export(s) disponible(s), mais vous tentez d'exporter ${u.length} lment(s).`),!1}try{await r(u.length);let f;u.length>0&&"objectID"in u[0]?f=u.map(a):f=u;const g=[["Nom","Nom_en","Description","Description_en","FE","Unit donne d'activit","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Primtre","Primtre_en","Contributeur","Commentaires","Commentaires_en"],...f.map(v=>{var y,b;return[v.nom||"","",v.description||"","",((y=v.fe)==null?void 0:y.toString())||"",v.uniteActivite||"","",v.source||"",v.secteur||"","",v.sousSecteur||"","",v.localisation||"","",((b=v.date)==null?void 0:b.toString())||"",v.incertitude||"",v.perimetre||"","",v.contributeur||"",v.commentaires||"",""]})].map(v=>v.map(y=>`"${String(y).replace(/"/g,'""')}"`).join(",")).join(`
`),m=new Blob([g],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");return w.href=URL.createObjectURL(m),w.download=`${d}.csv`,w.click(),URL.revokeObjectURL(w.href),_n.success(`${f.length} facteur(s) d'mission export(s)`),!0}catch(f){return console.error("Erreur lors de l'export:",f),_n.error("Erreur lors de l'export"),!1}},[s,e,n,r]),c=x.useCallback(async u=>{if(u.length===0)return _n.error("Aucun lment slectionn pour la copie"),!1;if(!t)return _n.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const d=n.clipboard_copies_limit-n.clipboard_copies_used;if(u.length>d)return _n.error(`Quota insuffisant. Il vous reste ${d} copie(s) disponible(s), mais vous tentez de copier ${u.length} lment(s).`),!1}try{await i(u.length);let d;u.length>0&&"objectID"in u[0]?d=u.map(a):d=u;const f=["Nom","Nom_en","Description","Description_en","FE","Unit donne d'activit","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Primtre","Primtre_en","Contributeur","Commentaires","Commentaires_en"],p=d.map(m=>{var w,v;return[m.nom||"","",m.description||"","",((w=m.fe)==null?void 0:w.toString())||"",m.uniteActivite||"","",m.source||"",m.secteur||"","",m.sousSecteur||"","",m.localisation||"","",((v=m.date)==null?void 0:v.toString())||"",m.incertitude||"",m.perimetre||"","",m.contributeur||"",m.commentaires||"",""]}),g=[f,...p].map(m=>m.join("	")).join(`
`);return await navigator.clipboard.writeText(g),_n.success(`${d.length} facteur(s) d'mission copi(s) dans le presse-papier`),!0}catch(d){return console.error("Erreur lors de la copie:",d),_n.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:l,handleCopyToClipboard:c,canExport:s&&e,canCopyToClipboard:t}};function CK(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const RK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NK={};function l1(e,t){return(NK.jsx?PK:RK).test(e)}const TK=/[ \t\n\f\r]/g;function AK(e){return typeof e=="object"?e.type==="text"?c1(e.value):!1:c1(e)}function c1(e){return e.replace(TK,"")===""}class wd{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}wd.prototype.normal={};wd.prototype.property={};wd.prototype.space=void 0;function OA(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new wd(n,r,t)}function Qy(e){return e.toLowerCase()}class Wn{constructor(t,n){this.attribute=n,this.property=t}}Wn.prototype.attribute="";Wn.prototype.booleanish=!1;Wn.prototype.boolean=!1;Wn.prototype.commaOrSpaceSeparated=!1;Wn.prototype.commaSeparated=!1;Wn.prototype.defined=!1;Wn.prototype.mustUseProperty=!1;Wn.prototype.number=!1;Wn.prototype.overloadedBoolean=!1;Wn.prototype.property="";Wn.prototype.spaceSeparated=!1;Wn.prototype.space=void 0;let OK=0;const Re=Ja(),_t=Ja(),Ky=Ja(),Z=Ja(),et=Ja(),Jo=Ja(),Yn=Ja();function Ja(){return 2**++OK}const Gy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:_t,commaOrSpaceSeparated:Yn,commaSeparated:Jo,number:Z,overloadedBoolean:Ky,spaceSeparated:et},Symbol.toStringTag,{value:"Module"})),Dg=Object.keys(Gy);class iw extends Wn{constructor(t,n,r,i){let s=-1;if(super(t,n),u1(this,"space",i),typeof r=="number")for(;++s<Dg.length;){const a=Dg[s];u1(this,Dg[s],(r&Gy[a])===Gy[a])}}}iw.prototype.defined=!0;function u1(e,t,n){n&&(e[t]=n)}function ql(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new iw(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Qy(r)]=r,n[Qy(s.attribute)]=r}return new wd(t,n,e.space)}const IA=ql({properties:{ariaActiveDescendant:null,ariaAtomic:_t,ariaAutoComplete:null,ariaBusy:_t,ariaChecked:_t,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:et,ariaCurrent:null,ariaDescribedBy:et,ariaDetails:null,ariaDisabled:_t,ariaDropEffect:et,ariaErrorMessage:null,ariaExpanded:_t,ariaFlowTo:et,ariaGrabbed:_t,ariaHasPopup:null,ariaHidden:_t,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:et,ariaLevel:Z,ariaLive:null,ariaModal:_t,ariaMultiLine:_t,ariaMultiSelectable:_t,ariaOrientation:null,ariaOwns:et,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:_t,ariaReadOnly:_t,ariaRelevant:null,ariaRequired:_t,ariaRoleDescription:et,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:_t,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function DA(e,t){return t in e?e[t]:t}function FA(e,t){return DA(e,t.toLowerCase())}const IK=ql({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Jo,acceptCharset:et,accessKey:et,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:et,autoFocus:Re,autoPlay:Re,blocking:et,capture:null,charSet:null,checked:Re,cite:null,className:et,cols:Z,colSpan:null,content:null,contentEditable:_t,controls:Re,controlsList:et,coords:Z|Jo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:Ky,draggable:_t,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:et,height:Z,hidden:Ky,high:Z,href:null,hrefLang:null,htmlFor:et,httpEquiv:et,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:et,itemRef:et,itemScope:Re,itemType:et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:Z,pattern:null,ping:et,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:et,required:Re,reversed:Re,rows:Z,rowSpan:Z,sandbox:et,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:_t,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:_t,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:et,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:_t,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:Z,security:null,unselectable:null},space:"html",transform:FA}),DK=ql({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Yn,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Jo,g2:Jo,glyphName:Jo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:Yn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Yn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Yn,rev:Yn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Yn,requiredFeatures:Yn,requiredFonts:Yn,requiredFormats:Yn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:Yn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Yn,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Yn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:DA}),LA=ql({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),MA=ql({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FA}),$A=ql({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),FK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},LK=/[A-Z]/g,d1=/-[a-z]/g,MK=/^data[-\w.:]+$/i;function $K(e,t){const n=Qy(t);let r=t,i=Wn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&MK.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(d1,zK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!d1.test(s)){let a=s.replace(LK,UK);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=iw}return new i(r,t)}function UK(e){return"-"+e.toLowerCase()}function zK(e){return e.charAt(1).toUpperCase()}const BK=OA([IA,IK,LA,MA,$A],"html"),sw=OA([IA,DK,LA,MA,$A],"svg");function HK(e){return e.join(" ").trim()}var aw={},f1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,qK=/\n/g,WK=/^\s*/,VK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,QK=/^:\s*/,KK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,GK=/^[;\s]*/,YK=/^\s+|\s+$/g,XK=`
`,h1="/",p1="*",va="",JK="comment",ZK="declaration",eG=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var m=g.match(qK);m&&(n+=m.length);var w=g.lastIndexOf(XK);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new a(g),u(),m}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(g){var m=new Error(t.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(g){var m=g.exec(e);if(m){var w=m[0];return i(w),e=e.slice(w.length),m}}function u(){c(WK)}function d(g){var m;for(g=g||[];m=f();)m!==!1&&g.push(m);return g}function f(){var g=s();if(!(h1!=e.charAt(0)||p1!=e.charAt(1))){for(var m=2;va!=e.charAt(m)&&(p1!=e.charAt(m)||h1!=e.charAt(m+1));)++m;if(m+=2,va===e.charAt(m-1))return l("End of comment missing");var w=e.slice(2,m-2);return r+=2,i(w),e=e.slice(m),r+=2,g({type:JK,comment:w})}}function p(){var g=s(),m=c(VK);if(m){if(f(),!c(QK))return l("property missing ':'");var w=c(KK),v=g({type:ZK,property:m1(m[0].replace(f1,va)),value:w?m1(w[0].replace(f1,va)):va});return c(GK),v}}function h(){var g=[];d(g);for(var m;m=p();)m!==!1&&(g.push(m),d(g));return g}return u(),h()};function m1(e){return e?e.replace(YK,va):va}var tG=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aw,"__esModule",{value:!0});aw.default=rG;var nG=tG(eG);function rG(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,nG.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,l=s.value;i?t(a,l,s):l&&(n=n||{},n[a]=l)}}),n}var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.camelCase=void 0;var iG=/^--[a-zA-Z0-9_-]+$/,sG=/-([a-z])/g,aG=/^[^-]+$/,oG=/^-(webkit|moz|ms|o|khtml)-/,lG=/^-(ms)-/,cG=function(e){return!e||aG.test(e)||iG.test(e)},uG=function(e,t){return t.toUpperCase()},g1=function(e,t){return"".concat(t,"-")},dG=function(e,t){return t===void 0&&(t={}),cG(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(lG,g1):e=e.replace(oG,g1),e.replace(sG,uG))};Xp.camelCase=dG;var fG=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},hG=fG(aw),pG=Xp;function Yy(e,t){var n={};return!e||typeof e!="string"||(0,hG.default)(e,function(r,i){r&&i&&(n[(0,pG.camelCase)(r,t)]=i)}),n}Yy.default=Yy;var mG=Yy;const gG=Wa(mG),UA=zA("end"),ow=zA("start");function zA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function vG(e){const t=ow(e),n=UA(e);if(t&&n)return{start:t,end:n}}function qc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?v1(e.position):"start"in e||"end"in e?v1(e):"line"in e||"column"in e?Xy(e):""}function Xy(e){return y1(e&&e.line)+":"+y1(e&&e.column)}function v1(e){return Xy(e&&e.start)+"-"+Xy(e&&e.end)}function y1(e){return e&&typeof e=="number"?e:1}class gn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=qc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}gn.prototype.file="";gn.prototype.name="";gn.prototype.reason="";gn.prototype.message="";gn.prototype.stack="";gn.prototype.column=void 0;gn.prototype.line=void 0;gn.prototype.ancestors=void 0;gn.prototype.cause=void 0;gn.prototype.fatal=void 0;gn.prototype.place=void 0;gn.prototype.ruleId=void 0;gn.prototype.source=void 0;const lw={}.hasOwnProperty,yG=new Map,xG=/[A-Z]/g,bG=new Set(["table","tbody","thead","tfoot","tr"]),wG=new Set(["td","th"]),BA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function SG(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=NG(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=PG(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?sw:BK,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=HA(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function HA(e,t,n){if(t.type==="element")return _G(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return jG(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return kG(e,t,n);if(t.type==="mdxjsEsm")return EG(e,t);if(t.type==="root")return CG(e,t,n);if(t.type==="text")return RG(e,t)}function _G(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=sw,e.schema=i),e.ancestors.push(t);const s=WA(e,t.tagName,!1),a=TG(e,t);let l=uw(e,t);return bG.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!AK(c):!0})),qA(e,a,s,t),cw(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function jG(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Xu(e,t.position)}function EG(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xu(e,t.position)}function kG(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=sw,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:WA(e,t.name,!0),a=AG(e,t),l=uw(e,t);return qA(e,a,s,t),cw(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function CG(e,t,n){const r={};return cw(r,uw(e,t)),e.create(t,e.Fragment,r,n)}function RG(e,t){return t.value}function qA(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function cw(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function PG(e,t,n){return r;function r(i,s,a,l){const u=Array.isArray(a.children)?n:t;return l?u(s,a,l):u(s,a)}}function NG(e,t){return n;function n(r,i,s,a){const l=Array.isArray(s.children),c=ow(r);return t(i,s,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function TG(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&lw.call(t.properties,i)){const s=OG(e,i,t.properties[i]);if(s){const[a,l]=s;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&wG.has(t.tagName)?r=l:n[a]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function AG(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Xu(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else Xu(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function uw(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:yG;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const l=HA(e,s,a);l!==void 0&&n.push(l)}return n}function OG(e,t,n){const r=$K(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?CK(n):HK(n)),r.property==="style"){let i=typeof n=="object"?n:IG(e,String(n));return e.stylePropertyNameCase==="css"&&(i=DG(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?FK[r.property]||r.property:r.attribute,n]}}function IG(e,t){try{return gG(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new gn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=BA+"#cannot-parse-style-attribute",i}}function WA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const l=l1(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=a}else r=l1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return lw.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xu(e)}function Xu(e,t){const n=new gn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=BA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function DG(e){const t={};let n;for(n in e)lw.call(e,n)&&(t[FG(n)]=e[n]);return t}function FG(e){let t=e.replace(xG,LG);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function LG(e){return"-"+e.toLowerCase()}const Fg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},MG={};function dw(e,t){const n=MG,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return VA(e,r,i)}function VA(e,t,n){if($G(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return x1(e.children,t,n)}return Array.isArray(e)?x1(e,t,n):""}function x1(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=VA(e[i],t,n);return r.join("")}function $G(e){return!!(e&&typeof e=="object")}const b1=document.createElement("i");function fw(e){const t="&"+e+";";b1.innerHTML=t;const n=b1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ar(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function xr(e,t){return e.length>0?(ar(e,e.length,0,t),e):t}const w1={}.hasOwnProperty;function QA(e){const t={};let n=-1;for(;++n<e.length;)UG(t,e[n]);return t}function UG(e,t){let n;for(n in t){const i=(w1.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){w1.call(i,a)||(i[a]=[]);const l=s[a];zG(i[a],Array.isArray(l)?l:l?[l]:[])}}}function zG(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ar(e,0,0,r)}function KA(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Kr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const kn=ra(/[A-Za-z]/),cn=ra(/[\dA-Za-z]/),BG=ra(/[#-'*+\--9=?A-Z^-~]/);function Bh(e){return e!==null&&(e<32||e===127)}const Jy=ra(/\d/),HG=ra(/[\dA-Fa-f]/),qG=ra(/[!-/:-@[-`{-~]/);function he(e){return e!==null&&e<-2}function Ke(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}const Jp=ra(new RegExp("\\p{P}|\\p{S}","u")),Ha=ra(/\s/);function ra(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Wl(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&cn(e.charCodeAt(n+1))&&cn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Me(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Oe(c)?(e.enter(n),l(c)):t(c)}function l(c){return Oe(c)&&s++<i?(e.consume(c),l):(e.exit(n),t(c))}}const WG={tokenize:VG};function VG(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Me(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return he(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}const QG={tokenize:KG},S1={tokenize:GG};function KG(e){const t=this,n=[];let r=0,i,s,a;return l;function l(b){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(b)}return u(b)}function c(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const S=t.events.length;let E=S,_;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){_=t.events[E][1].end;break}v(r);let k=S;for(;k<t.events.length;)t.events[k][1].end={..._},k++;return ar(t.events,E+1,0,t.events.slice(S)),t.events.length=k,u(b)}return l(b)}function u(b){if(r===n.length){if(!i)return p(b);if(i.currentConstruct&&i.currentConstruct.concrete)return g(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(S1,d,f)(b)}function d(b){return i&&y(),v(r),p(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(b)}function p(b){return t.containerState={},e.attempt(S1,h,g)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),p(b)}function g(b){if(b===null){i&&y(),v(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(b)}function m(b){if(b===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(b);return}return he(b)?(e.consume(b),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(b),m)}function w(b,S){const E=t.sliceStream(b);if(S&&E.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(E),t.parser.lazy[b.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const k=t.events.length;let N=k,I,C;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(I){C=t.events[N][1].end;break}I=!0}for(v(r),_=k;_<t.events.length;)t.events[_][1].end={...C},_++;ar(t.events,N+1,0,t.events.slice(k)),t.events.length=_}}function v(b){let S=n.length;for(;S-- >b;){const E=n[S];t.containerState=E[1],E[0].exit.call(t,e)}n.length=b}function y(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function GG(e,t,n){return Me(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pl(e){if(e===null||Ke(e)||Ha(e))return 1;if(Jp(e))return 2}function Zp(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Zy={name:"attention",resolveAll:YG,tokenize:XG};function YG(e,t){let n=-1,r,i,s,a,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};_1(f,-c),_1(p,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=xr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=xr(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=xr(u,Zp(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=xr(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=xr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ar(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function XG(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Pl(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===s)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Pl(c),f=!d||d===2&&i||n.includes(c),p=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!p)),u._close=!!(s===42?p:p&&(d||!f)),t(c)}}function _1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const JG={name:"autolink",tokenize:ZG};function ZG(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return kn(h)?(e.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||cn(h)?(r=1,l(h)):u(h)}function l(h){return h===58?(e.consume(h),r=0,c):(h===43||h===45||h===46||cn(h))&&r++<32?(e.consume(h),l):(r=0,u(h))}function c(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Bh(h)?n(h):(e.consume(h),c)}function u(h){return h===64?(e.consume(h),d):BG(h)?(e.consume(h),u):n(h)}function d(h){return cn(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||cn(h))&&r++<63){const g=h===45?p:f;return e.consume(h),g}return n(h)}}const Sd={partial:!0,tokenize:eY};function eY(e,t,n){return r;function r(s){return Oe(s)?Me(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||he(s)?t(s):n(s)}}const GA={continuation:{tokenize:nY},exit:rY,name:"blockQuote",tokenize:tY};function tY(e,t,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Oe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function nY(e,t,n){const r=this;return i;function i(a){return Oe(a)?Me(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(GA,t,n)(a)}}function rY(e){e.exit("blockQuote")}const YA={name:"characterEscape",tokenize:iY};function iY(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return qG(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const XA={name:"characterReference",tokenize:sY};function sY(e,t,n){const r=this;let i=0,s,a;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=cn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=HG,d):(e.enter("characterReferenceValue"),s=7,a=Jy,d(f))}function d(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return a===cn&&!fw(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const j1={partial:!0,tokenize:oY},E1={concrete:!0,name:"codeFenced",tokenize:aY};function aY(e,t,n){const r=this,i={partial:!0,tokenize:E};let s=0,a=0,l;return c;function c(_){return u(_)}function u(_){const k=r.events[r.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===l?(a++,e.consume(_),d):a<3?n(_):(e.exit("codeFencedFenceSequence"),Oe(_)?Me(e,f,"whitespace")(_):f(_))}function f(_){return _===null||he(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(j1,m,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||he(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):Oe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Me(e,h,"whitespace")(_)):_===96&&_===l?n(_):(e.consume(_),p)}function h(_){return _===null||he(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||he(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===l?n(_):(e.consume(_),g)}function m(_){return e.attempt(i,S,w)(_)}function w(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return s>0&&Oe(_)?Me(e,y,"linePrefix",s+1)(_):y(_)}function y(_){return _===null||he(_)?e.check(j1,m,S)(_):(e.enter("codeFlowValue"),b(_))}function b(_){return _===null||he(_)?(e.exit("codeFlowValue"),y(_)):(e.consume(_),b)}function S(_){return e.exit("codeFenced"),t(_)}function E(_,k,N){let I=0;return C;function C(F){return _.enter("lineEnding"),_.consume(F),_.exit("lineEnding"),D}function D(F){return _.enter("codeFencedFence"),Oe(F)?Me(_,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):O(F)}function O(F){return F===l?(_.enter("codeFencedFenceSequence"),H(F)):N(F)}function H(F){return F===l?(I++,_.consume(F),H):I>=a?(_.exit("codeFencedFenceSequence"),Oe(F)?Me(_,A,"whitespace")(F):A(F)):N(F)}function A(F){return F===null||he(F)?(_.exit("codeFencedFence"),k(F)):N(F)}}}function oY(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Lg={name:"codeIndented",tokenize:cY},lY={partial:!0,tokenize:uY};function cY(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Me(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):he(u)?e.attempt(lY,a,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||he(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function uY(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):he(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Me(e,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):he(a)?i(a):n(a)}}const dY={name:"codeText",previous:hY,resolve:fY,tokenize:pY};function fY(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function hY(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pY(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):he(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||he(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class mY{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&mc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),mc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),mc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);mc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);mc(this.left,n.reverse())}}}function mc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function JA(e){const t={};let n=-1,r,i,s,a,l,c,u;const d=new mY(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,gY(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return ar(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function gY(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],u={};let d,f,p=-1,h=n,g=0,m=0;const w=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(d=r.sliceStream(h),h.next||d.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(m=p+1,w.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),p=w.length;p--;){const v=l.slice(w[p],w[p+1]),y=s.pop();c.push([y,y+v.length-1]),e.splice(y,2,v)}for(c.reverse(),p=-1;++p<c.length;)u[g+c[p][0]]=g+c[p][1],g+=c[p][1]-c[p][0]-1;return u}const vY={resolve:xY,tokenize:bY},yY={partial:!0,tokenize:wY};function xY(e){return JA(e),e}function bY(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):he(l)?e.check(yY,a,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function wY(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Me(e,s,"linePrefix")}function s(a){if(a===null||he(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function ZA(e,t,n,r,i,s,a,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),p):v===null||v===32||v===41||Bh(v)?n(v):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),m(v))}function p(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(l),p(v)):v===null||v===60||he(v)?n(v):(e.consume(v),v===92?g:h)}function g(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function m(v){return!d&&(v===null||v===41||Ke(v))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,m):v===41?(e.consume(v),d--,m):v===null||v===32||v===40||Bh(v)?n(v):(e.consume(v),v===92?w:m)}function w(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function eO(e,t,n,r,i,s){const a=this;let l=0,c;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),d}function d(h){return l>999||h===null||h===91||h===93&&!c||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):he(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||he(h)||l++>999?(e.exit("chunkString"),d(h)):(e.consume(h),c||(c=!Oe(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),l++,f):f(h)}}function tO(e,t,n,r,i,s){let a;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),a=p===40?41:p,c):n(p)}function c(p){return p===a?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),u(p))}function u(p){return p===a?(e.exit(s),c(a)):p===null?n(p):he(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Me(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||he(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===a||p===92?(e.consume(p),d):d(p)}}function Wc(e,t){let n;return r;function r(i){return he(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Oe(i)?Me(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const SY={name:"definition",tokenize:jY},_Y={partial:!0,tokenize:EY};function jY(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),a(h)}function a(h){return eO.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=Kr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),c):n(h)}function c(h){return Ke(h)?Wc(e,u)(h):u(h)}function u(h){return ZA(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(_Y,f,f)(h)}function f(h){return Oe(h)?Me(e,p,"whitespace")(h):p(h)}function p(h){return h===null||he(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function EY(e,t,n){return r;function r(l){return Ke(l)?Wc(e,i)(l):n(l)}function i(l){return tO(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Oe(l)?Me(e,a,"whitespace")(l):a(l)}function a(l){return l===null||he(l)?t(l):n(l)}}const kY={name:"hardBreakEscape",tokenize:CY};function CY(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return he(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const RY={name:"headingAtx",resolve:PY,tokenize:NY};function PY(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ar(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function NY(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||Ke(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||he(d)?(e.exit("atxHeading"),t(d)):Oe(d)?Me(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Ke(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const TY=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],k1=["pre","script","style","textarea"],AY={concrete:!0,name:"htmlFlow",resolveTo:DY,tokenize:FY},OY={partial:!0,tokenize:MY},IY={partial:!0,tokenize:LY};function DY(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function FY(e,t,n){const r=this;let i,s,a,l,c;return u;function u(P){return d(P)}function d(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),f}function f(P){return P===33?(e.consume(P),p):P===47?(e.consume(P),s=!0,m):P===63?(e.consume(P),i=3,r.interrupt?t:j):kn(P)?(e.consume(P),a=String.fromCharCode(P),w):n(P)}function p(P){return P===45?(e.consume(P),i=2,h):P===91?(e.consume(P),i=5,l=0,g):kn(P)?(e.consume(P),i=4,r.interrupt?t:j):n(P)}function h(P){return P===45?(e.consume(P),r.interrupt?t:j):n(P)}function g(P){const Q="CDATA[";return P===Q.charCodeAt(l++)?(e.consume(P),l===Q.length?r.interrupt?t:O:g):n(P)}function m(P){return kn(P)?(e.consume(P),a=String.fromCharCode(P),w):n(P)}function w(P){if(P===null||P===47||P===62||Ke(P)){const Q=P===47,K=a.toLowerCase();return!Q&&!s&&k1.includes(K)?(i=1,r.interrupt?t(P):O(P)):TY.includes(a.toLowerCase())?(i=6,Q?(e.consume(P),v):r.interrupt?t(P):O(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?y(P):b(P))}return P===45||cn(P)?(e.consume(P),a+=String.fromCharCode(P),w):n(P)}function v(P){return P===62?(e.consume(P),r.interrupt?t:O):n(P)}function y(P){return Oe(P)?(e.consume(P),y):C(P)}function b(P){return P===47?(e.consume(P),C):P===58||P===95||kn(P)?(e.consume(P),S):Oe(P)?(e.consume(P),b):C(P)}function S(P){return P===45||P===46||P===58||P===95||cn(P)?(e.consume(P),S):E(P)}function E(P){return P===61?(e.consume(P),_):Oe(P)?(e.consume(P),E):b(P)}function _(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),c=P,k):Oe(P)?(e.consume(P),_):N(P)}function k(P){return P===c?(e.consume(P),c=null,I):P===null||he(P)?n(P):(e.consume(P),k)}function N(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Ke(P)?E(P):(e.consume(P),N)}function I(P){return P===47||P===62||Oe(P)?b(P):n(P)}function C(P){return P===62?(e.consume(P),D):n(P)}function D(P){return P===null||he(P)?O(P):Oe(P)?(e.consume(P),D):n(P)}function O(P){return P===45&&i===2?(e.consume(P),U):P===60&&i===1?(e.consume(P),B):P===62&&i===4?(e.consume(P),M):P===63&&i===3?(e.consume(P),j):P===93&&i===5?(e.consume(P),T):he(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(OY,$,H)(P)):P===null||he(P)?(e.exit("htmlFlowData"),H(P)):(e.consume(P),O)}function H(P){return e.check(IY,A,$)(P)}function A(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),F}function F(P){return P===null||he(P)?H(P):(e.enter("htmlFlowData"),O(P))}function U(P){return P===45?(e.consume(P),j):O(P)}function B(P){return P===47?(e.consume(P),a="",R):O(P)}function R(P){if(P===62){const Q=a.toLowerCase();return k1.includes(Q)?(e.consume(P),M):O(P)}return kn(P)&&a.length<8?(e.consume(P),a+=String.fromCharCode(P),R):O(P)}function T(P){return P===93?(e.consume(P),j):O(P)}function j(P){return P===62?(e.consume(P),M):P===45&&i===2?(e.consume(P),j):O(P)}function M(P){return P===null||he(P)?(e.exit("htmlFlowData"),$(P)):(e.consume(P),M)}function $(P){return e.exit("htmlFlow"),t(P)}}function LY(e,t,n){const r=this;return i;function i(a){return he(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function MY(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Sd,t,n)}}const $Y={name:"htmlText",tokenize:UY};function UY(e,t,n){const r=this;let i,s,a;return l;function l(j){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(j),c}function c(j){return j===33?(e.consume(j),u):j===47?(e.consume(j),E):j===63?(e.consume(j),b):kn(j)?(e.consume(j),N):n(j)}function u(j){return j===45?(e.consume(j),d):j===91?(e.consume(j),s=0,g):kn(j)?(e.consume(j),y):n(j)}function d(j){return j===45?(e.consume(j),h):n(j)}function f(j){return j===null?n(j):j===45?(e.consume(j),p):he(j)?(a=f,B(j)):(e.consume(j),f)}function p(j){return j===45?(e.consume(j),h):f(j)}function h(j){return j===62?U(j):j===45?p(j):f(j)}function g(j){const M="CDATA[";return j===M.charCodeAt(s++)?(e.consume(j),s===M.length?m:g):n(j)}function m(j){return j===null?n(j):j===93?(e.consume(j),w):he(j)?(a=m,B(j)):(e.consume(j),m)}function w(j){return j===93?(e.consume(j),v):m(j)}function v(j){return j===62?U(j):j===93?(e.consume(j),v):m(j)}function y(j){return j===null||j===62?U(j):he(j)?(a=y,B(j)):(e.consume(j),y)}function b(j){return j===null?n(j):j===63?(e.consume(j),S):he(j)?(a=b,B(j)):(e.consume(j),b)}function S(j){return j===62?U(j):b(j)}function E(j){return kn(j)?(e.consume(j),_):n(j)}function _(j){return j===45||cn(j)?(e.consume(j),_):k(j)}function k(j){return he(j)?(a=k,B(j)):Oe(j)?(e.consume(j),k):U(j)}function N(j){return j===45||cn(j)?(e.consume(j),N):j===47||j===62||Ke(j)?I(j):n(j)}function I(j){return j===47?(e.consume(j),U):j===58||j===95||kn(j)?(e.consume(j),C):he(j)?(a=I,B(j)):Oe(j)?(e.consume(j),I):U(j)}function C(j){return j===45||j===46||j===58||j===95||cn(j)?(e.consume(j),C):D(j)}function D(j){return j===61?(e.consume(j),O):he(j)?(a=D,B(j)):Oe(j)?(e.consume(j),D):I(j)}function O(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),i=j,H):he(j)?(a=O,B(j)):Oe(j)?(e.consume(j),O):(e.consume(j),A)}function H(j){return j===i?(e.consume(j),i=void 0,F):j===null?n(j):he(j)?(a=H,B(j)):(e.consume(j),H)}function A(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||Ke(j)?I(j):(e.consume(j),A)}function F(j){return j===47||j===62||Ke(j)?I(j):n(j)}function U(j){return j===62?(e.consume(j),e.exit("htmlTextData"),e.exit("htmlText"),t):n(j)}function B(j){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),R}function R(j){return Oe(j)?Me(e,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):T(j)}function T(j){return e.enter("htmlTextData"),a(j)}}const hw={name:"labelEnd",resolveAll:qY,resolveTo:WY,tokenize:VY},zY={tokenize:QY},BY={tokenize:KY},HY={tokenize:GY};function qY(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ar(e,0,e.length,n),e}function WY(e,t){let n=e.length,r=0,i,s,a,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=xr(l,e.slice(s+1,s+r+3)),l=xr(l,[["enter",d,t]]),l=xr(l,Zp(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),l=xr(l,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),l=xr(l,e.slice(a+1)),l=xr(l,[["exit",c,t]]),ar(e,s,e.length,l),e}function VY(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(p){return s?s._inactive?f(p):(a=r.parser.defined.includes(Kr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),c):n(p)}function c(p){return p===40?e.attempt(zY,d,a?d:f)(p):p===91?e.attempt(BY,d,a?u:f)(p):a?d(p):f(p)}function u(p){return e.attempt(HY,d,f)(p)}function d(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function QY(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ke(f)?Wc(e,s)(f):s(f)}function s(f){return f===41?d(f):ZA(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Ke(f)?Wc(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?tO(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Ke(f)?Wc(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function KY(e,t,n){const r=this;return i;function i(l){return eO.call(r,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Kr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function GY(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const YY={name:"labelStartImage",resolveAll:hw.resolveAll,tokenize:XY};function XY(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const JY={name:"labelStartLink",resolveAll:hw.resolveAll,tokenize:ZY};function ZY(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Mg={name:"lineEnding",tokenize:eX};function eX(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Me(e,t,"linePrefix")}}const Xf={name:"thematicBreak",tokenize:tX};function tX(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||he(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Oe(u)?Me(e,l,"whitespace")(u):l(u))}}const In={continuation:{tokenize:sX},exit:oX,name:"list",tokenize:iX},nX={partial:!0,tokenize:lX},rX={partial:!0,tokenize:aX};function iX(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Jy(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Xf,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(h)}return n(h)}function c(h){return Jy(h)&&++a<10?(e.consume(h),c):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Sd,r.interrupt?n:d,e.attempt(nX,p,f))}function d(h){return r.containerState.initialBlankLine=!0,s++,p(h)}function f(h){return Oe(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function sX(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Sd,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Me(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Oe(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(rX,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Me(e,e.attempt(In,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function aX(e,t,n){const r=this;return Me(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function oX(e){e.exit(this.containerState.type)}function lX(e,t,n){const r=this;return Me(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Oe(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const C1={name:"setextUnderline",resolveTo:cX,tokenize:uX};function cX(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function uX(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Oe(u)?Me(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||he(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const dX={tokenize:fX};function fX(e){const t=this,n=e.attempt(Sd,r,e.attempt(this.parser.constructs.flowInitial,i,Me(e,e.attempt(this.parser.constructs.flow,i,e.attempt(vY,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const hX={resolveAll:rO()},pX=nO("string"),mX=nO("text");function nO(e){return{resolveAll:rO(e==="text"?gX:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,l);return a;function a(d){return u(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function rO(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function gX(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,l=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)c=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const vX={42:In,43:In,45:In,48:In,49:In,50:In,51:In,52:In,53:In,54:In,55:In,56:In,57:In,62:GA},yX={91:SY},xX={[-2]:Lg,[-1]:Lg,32:Lg},bX={35:RY,42:Xf,45:[C1,Xf],60:AY,61:C1,95:Xf,96:E1,126:E1},wX={38:XA,92:YA},SX={[-5]:Mg,[-4]:Mg,[-3]:Mg,33:YY,38:XA,42:Zy,60:[JG,$Y],91:JY,92:[kY,YA],93:hw,95:Zy,96:dY},_X={null:[Zy,hX]},jX={null:[42,95]},EX={null:[]},kX=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jX,contentInitial:yX,disable:EX,document:vX,flow:bX,flowInitial:xX,insideSpan:_X,string:wX,text:SX},Symbol.toStringTag,{value:"Module"}));function CX(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],l=[];const c={attempt:k(E),check:k(_),consume:y,enter:b,exit:S,interrupt:k(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(D){return a=xr(a,D),w(),a[a.length-1]!==null?[]:(N(t,0),u.events=Zp(s,u.events,u),u.events)}function p(D,O){return PX(h(D),O)}function h(D){return RX(a,D)}function g(){const{_bufferIndex:D,_index:O,line:H,column:A,offset:F}=r;return{_bufferIndex:D,_index:O,line:H,column:A,offset:F}}function m(D){i[D.line]=D.column,C()}function w(){let D;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(D){d=d(D)}function y(D){he(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,C()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function b(D,O){const H=O||{};return H.type=D,H.start=g(),u.events.push(["enter",H,u]),l.push(H),H}function S(D){const O=l.pop();return O.end=g(),u.events.push(["exit",O,u]),O}function E(D,O){N(D,O.from)}function _(D,O){O.restore()}function k(D,O){return H;function H(A,F,U){let B,R,T,j;return Array.isArray(A)?$(A):"tokenize"in A?$([A]):M(A);function M(J){return V;function V(oe){const le=oe!==null&&J[oe],ue=oe!==null&&J.null,ve=[...Array.isArray(le)?le:le?[le]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return $(ve)(oe)}}function $(J){return B=J,R=0,J.length===0?U:P(J[R])}function P(J){return V;function V(oe){return j=I(),T=J,J.partial||(u.currentConstruct=J),J.name&&u.parser.constructs.disable.null.includes(J.name)?K():J.tokenize.call(O?Object.assign(Object.create(u),O):u,c,Q,K)(oe)}}function Q(J){return D(T,j),F}function K(J){return j.restore(),++R<B.length?P(B[R]):U}}}function N(D,O){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&ar(u.events,O,u.events.length-O,D.resolve(u.events.slice(O),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function I(){const D=g(),O=u.previous,H=u.currentConstruct,A=u.events.length,F=Array.from(l);return{from:A,restore:U};function U(){r=D,u.previous=O,u.currentConstruct=H,u.events.length=A,l=F,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function RX(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function PX(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function NX(e){const r={constructs:QA([kX,...(e||{}).extensions||[]]),content:i(WG),defined:[],document:i(QG),flow:i(dX),lazy:{},string:i(pX),text:i(mX)};return r;function i(s){return a;function a(l){return CX(r,s,l)}}}function TX(e){for(;!JA(e););return e}const R1=/[\0\t\n\r]/g;function AX(){let e=1,t="",n=!0,r;return i;function i(s,a,l){const c=[];let u,d,f,p,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(R1.lastIndex=f,u=R1.exec(s),p=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(p),!u){t=s.slice(f);break}if(h===10&&f===p&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<p&&(c.push(s.slice(f,p)),e+=p-f),h){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const OX=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function IX(e){return e.replace(OX,DX)}function DX(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return KA(n.slice(s?2:1),s?16:10)}return fw(n)||e}const iO={}.hasOwnProperty;function FX(e,t,n){return typeof t!="string"&&(n=t,t=void 0),LX(n)(TX(NX(n).document().write(AX()(e,t,!0))))}function LX(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(hr),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(Lt),blockQuote:s(ue),characterEscape:I,characterReference:I,codeFenced:s(ve),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ve,a),codeText:s(Pe,a),codeTextData:I,data:I,codeFlowValue:I,definition:s(ct),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Ft),hardBreakEscape:s(kt),hardBreakTrailing:s(kt),htmlFlow:s(fr,a),htmlFlowData:I,htmlText:s(fr,a),htmlTextData:I,image:s(Ei),label:a,link:s(hr),listItem:s(ki),listItemValue:p,listOrdered:s(is,f),listUnordered:s(is),paragraph:s(Ee),reference:P,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Lt),strong:s(ie),thematicBreak:s(Ne)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:le,autolinkProtocol:oe,blockQuote:c(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:J,characterReference:V,codeFenced:c(w),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:C,codeIndented:c(v),codeText:c(F),codeTextData:C,data:C,definition:c(),definitionDestinationString:S,definitionLabelString:y,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(H),htmlFlowData:C,htmlText:c(A),htmlTextData:C,image:c(B),label:T,labelText:R,lineEnding:D,link:c(U),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Q,resourceDestinationString:j,resourceTitleString:M,resource:$,setextHeading:c(N),setextHeadingLineSequence:k,setextHeadingText:_,strong:c(),thematicBreak:c()}};sO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(z){let G={type:"root",children:[]};const fe={stack:[G],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:d,data:n},ke=[];let Fe=-1;for(;++Fe<z.length;)if(z[Fe][1].type==="listOrdered"||z[Fe][1].type==="listUnordered")if(z[Fe][0]==="enter")ke.push(Fe);else{const Ct=ke.pop();Fe=i(z,Ct,Fe)}for(Fe=-1;++Fe<z.length;){const Ct=t[z[Fe][0]];iO.call(Ct,z[Fe][1].type)&&Ct[z[Fe][1].type].call(Object.assign({sliceSerialize:z[Fe][2].sliceSerialize},fe),z[Fe][1])}if(fe.tokenStack.length>0){const Ct=fe.tokenStack[fe.tokenStack.length-1];(Ct[1]||P1).call(fe,void 0,Ct[0])}for(G.position={start:ds(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:ds(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<t.transforms.length;)G=t.transforms[Fe](G)||G;return G}function i(z,G,fe){let ke=G-1,Fe=-1,Ct=!1,pr,vn,Tn,Vn;for(;++ke<=fe;){const Ge=z[ke];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?Fe++:Fe--,Vn=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(pr&&!Vn&&!Fe&&!Tn&&(Tn=ke),Vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vn=void 0}if(!Fe&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||Fe===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(pr){let ei=ke;for(vn=void 0;ei--;){const Qn=z[ei];if(Qn[1].type==="lineEnding"||Qn[1].type==="lineEndingBlank"){if(Qn[0]==="exit")continue;vn&&(z[vn][1].type="lineEndingBlank",Ct=!0),Qn[1].type="lineEnding",vn=ei}else if(!(Qn[1].type==="linePrefix"||Qn[1].type==="blockQuotePrefix"||Qn[1].type==="blockQuotePrefixWhitespace"||Qn[1].type==="blockQuoteMarker"||Qn[1].type==="listItemIndent"))break}Tn&&(!vn||Tn<vn)&&(pr._spread=!0),pr.end=Object.assign({},vn?z[vn][1].start:Ge[1].end),z.splice(vn||ke,0,["exit",pr,Ge[2]]),ke++,fe++}if(Ge[1].type==="listItemPrefix"){const ei={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};pr=ei,z.splice(ke,0,["enter",ei,Ge[2]]),ke++,fe++,Tn=void 0,Vn=!0}}}return z[G][1]._spread=Ct,fe}function s(z,G){return fe;function fe(ke){l.call(this,z(ke),ke),G&&G.call(this,ke)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(z,G,fe){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([G,fe||void 0]),z.position={start:ds(G.start),end:void 0}}function c(z){return G;function G(fe){z&&z.call(this,fe),u.call(this,fe)}}function u(z,G){const fe=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==z.type&&(G?G.call(this,z,ke[0]):(ke[1]||P1).call(this,z,ke[0]));else throw new Error("Cannot close `"+z.type+"` ("+qc({start:z.start,end:z.end})+"): its not open");fe.position.end=ds(z.end)}function d(){return dw(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(z){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function h(){const z=this.resume(),G=this.stack[this.stack.length-1];G.lang=z}function g(){const z=this.resume(),G=this.stack[this.stack.length-1];G.meta=z}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/(\r?\n|\r)$/g,"")}function y(z){const G=this.resume(),fe=this.stack[this.stack.length-1];fe.label=G,fe.identifier=Kr(this.sliceSerialize(z)).toLowerCase()}function b(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function S(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function E(z){const G=this.stack[this.stack.length-1];if(!G.depth){const fe=this.sliceSerialize(z).length;G.depth=fe}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(z){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function I(z){const fe=this.stack[this.stack.length-1].children;let ke=fe[fe.length-1];(!ke||ke.type!=="text")&&(ke=De(),ke.position={start:ds(z.start),end:void 0},fe.push(ke)),this.stack.push(ke)}function C(z){const G=this.stack.pop();G.value+=this.sliceSerialize(z),G.position.end=ds(z.end)}function D(z){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=G.children[G.children.length-1];fe.position.end=ds(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(G.type)&&(I.call(this,z),C.call(this,z))}function O(){this.data.atHardBreak=!0}function H(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function A(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function F(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function U(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function B(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function R(z){const G=this.sliceSerialize(z),fe=this.stack[this.stack.length-2];fe.label=IX(G),fe.identifier=Kr(G).toLowerCase()}function T(){const z=this.stack[this.stack.length-1],G=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const ke=z.children;fe.children=ke}else fe.alt=G}function j(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function M(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function $(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Q(z){const G=this.resume(),fe=this.stack[this.stack.length-1];fe.label=G,fe.identifier=Kr(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function K(z){this.data.characterReferenceType=z.type}function J(z){const G=this.sliceSerialize(z),fe=this.data.characterReferenceType;let ke;fe?(ke=KA(G,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=fw(G);const Fe=this.stack[this.stack.length-1];Fe.value+=ke}function V(z){const G=this.stack.pop();G.position.end=ds(z.end)}function oe(z){C.call(this,z);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(z)}function le(z){C.call(this,z);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(z)}function ue(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ft(){return{type:"emphasis",children:[]}}function Lt(){return{type:"heading",depth:0,children:[]}}function kt(){return{type:"break"}}function fr(){return{type:"html",value:""}}function Ei(){return{type:"image",title:null,url:"",alt:null}}function hr(){return{type:"link",title:null,url:"",children:[]}}function is(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function ki(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function Ee(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function De(){return{type:"text",value:""}}function Ne(){return{type:"thematicBreak"}}}function ds(e){return{line:e.line,column:e.column,offset:e.offset}}function sO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?sO(e,r):MX(e,r)}}function MX(e,t){let n;for(n in t)if(iO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function P1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qc({start:t.start,end:t.end})+") is still open")}function $X(e){const t=this;t.parser=n;function n(r){return FX(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UX(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function zX(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function BX(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function HX(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qX(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WX(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Wl(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function VX(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QX(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function aO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function KX(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aO(e,t);const i={src:Wl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function GX(e,t){const n={src:Wl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function YX(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function XX(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aO(e,t);const i={href:Wl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function JX(e,t){const n={href:Wl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ZX(e,t,n){const r=e.all(t),i=n?eJ(n):oO(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function eJ(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=oO(n[r])}return t}function oO(e){const t=e.spread;return t??e.children.length>1}function tJ(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function nJ(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rJ(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function iJ(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sJ(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=ow(t.children[1]),c=UA(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function aJ(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],p={},h=a?a[c]:void 0;h&&(p.align=h);let g={type:"element",tagName:s,properties:p,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function oJ(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const N1=9,T1=32;function lJ(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(A1(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(A1(t.slice(i),i>0,!1)),s.join("")}function A1(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===N1||s===T1;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===N1||s===T1;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function cJ(e,t){const n={type:"text",value:lJ(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function uJ(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const dJ={blockquote:UX,break:zX,code:BX,delete:HX,emphasis:qX,footnoteReference:WX,heading:VX,html:QX,imageReference:KX,image:GX,inlineCode:YX,linkReference:XX,link:JX,listItem:ZX,list:tJ,paragraph:nJ,root:rJ,strong:iJ,table:sJ,tableCell:oJ,tableRow:aJ,text:cJ,thematicBreak:uJ,toml:Ef,yaml:Ef,definition:Ef,footnoteDefinition:Ef};function Ef(){}const lO=-1,em=0,Vc=1,Hh=2,pw=3,mw=4,gw=5,vw=6,cO=7,uO=8,O1=typeof self=="object"?self:globalThis,fJ=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case em:case lO:return n(a,i);case Vc:{const l=n([],i);for(const c of a)l.push(r(c));return l}case Hh:{const l=n({},i);for(const[c,u]of a)l[r(c)]=r(u);return l}case pw:return n(new Date(a),i);case mw:{const{source:l,flags:c}=a;return n(new RegExp(l,c),i)}case gw:{const l=n(new Map,i);for(const[c,u]of a)l.set(r(c),r(u));return l}case vw:{const l=n(new Set,i);for(const c of a)l.add(r(c));return l}case cO:{const{name:l,message:c}=a;return n(new O1[l](c),i)}case uO:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new O1[s](a),i)};return r},I1=e=>fJ(new Map,e)(0),jo="",{toString:hJ}={},{keys:pJ}=Object,gc=e=>{const t=typeof e;if(t!=="object"||!e)return[em,t];const n=hJ.call(e).slice(8,-1);switch(n){case"Array":return[Vc,jo];case"Object":return[Hh,jo];case"Date":return[pw,jo];case"RegExp":return[mw,jo];case"Map":return[gw,jo];case"Set":return[vw,jo];case"DataView":return[Vc,n]}return n.includes("Array")?[Vc,n]:n.includes("Error")?[cO,n]:[Hh,n]},kf=([e,t])=>e===em&&(t==="function"||t==="symbol"),mJ=(e,t,n,r)=>{const i=(a,l)=>{const c=r.push(a)-1;return n.set(l,c),c},s=a=>{if(n.has(a))return n.get(a);let[l,c]=gc(a);switch(l){case em:{let d=a;switch(c){case"bigint":l=uO,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([lO],a)}return i([l,d],a)}case Vc:{if(c){let p=a;return c==="DataView"?p=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(p=new Uint8Array(a)),i([c,[...p]],a)}const d=[],f=i([l,d],a);for(const p of a)d.push(s(p));return f}case Hh:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([l,d],a);for(const p of pJ(a))(e||!kf(gc(a[p])))&&d.push([s(p),s(a[p])]);return f}case pw:return i([l,a.toISOString()],a);case mw:{const{source:d,flags:f}=a;return i([l,{source:d,flags:f}],a)}case gw:{const d=[],f=i([l,d],a);for(const[p,h]of a)(e||!(kf(gc(p))||kf(gc(h))))&&d.push([s(p),s(h)]);return f}case vw:{const d=[],f=i([l,d],a);for(const p of a)(e||!kf(gc(p)))&&d.push(s(p));return f}}const{message:u}=a;return i([l,{name:c,message:u}],a)};return s},D1=(e,{json:t,lossy:n}={})=>{const r=[];return mJ(!(t||n),!!t,new Map,r)(e),r},qh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?I1(D1(e,t)):structuredClone(e):(e,t)=>I1(D1(e,t));function gJ(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function vJ(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function yJ(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||gJ,r=e.options.footnoteBackLabel||vJ,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=Wl(f.toLowerCase());let h=0;const g=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++h<=m;){g.length>0&&g.push({type:"text",value:" "});let y=typeof n=="string"?n:n(c,h);typeof y=="string"&&(y={type:"text",value:y}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,h),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const y=w.children[w.children.length-1];y&&y.type==="text"?y.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else d.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...qh(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const tm=function(e){if(e==null)return SJ;if(typeof e=="function")return nm(e);if(typeof e=="object")return Array.isArray(e)?xJ(e):bJ(e);if(typeof e=="string")return wJ(e);throw new Error("Expected function, string, or object as test")};function xJ(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tm(e[n]);return nm(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function bJ(e){const t=e;return nm(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function wJ(e){return nm(t);function t(n){return n&&n.type===e}}function nm(e){return t;function t(n,r,i){return!!(_J(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function SJ(){return!0}function _J(e){return e!==null&&typeof e=="object"&&"type"in e}const dO=[],jJ=!0,ex=!1,EJ="skip";function fO(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=tm(i),a=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=dO,g,m,w;if((!t||s(c,u,d[d.length-1]||void 0))&&(h=kJ(n(c,d)),h[0]===ex))return h;if("children"in c&&c.children){const v=c;if(v.children&&h[0]!==EJ)for(m=(r?v.children.length:-1)+a,w=d.concat(v);m>-1&&m<v.children.length;){const y=v.children[m];if(g=l(y,m,w)(),g[0]===ex)return g;m=typeof g[1]=="number"?g[1]:m+a}}return h}}}function kJ(e){return Array.isArray(e)?e:typeof e=="number"?[jJ,e]:e==null?dO:[e]}function yw(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),fO(e,s,l,i);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const tx={}.hasOwnProperty,CJ={};function RJ(e,t){const n=t||CJ,r=new Map,i=new Map,s=new Map,a={...dJ,...n.handlers},l={all:u,applyData:NJ,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:PJ,wrap:AJ};return yw(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),l;function c(d,f){const p=d.type,h=l.handlers[p];if(tx.call(l.handlers,p)&&h)return h(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in d){const{children:m,...w}=d,v=qh(w);return v.children=l.all(d),v}return qh(d)}return(l.options.unknownHandler||TJ)(l,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let h=-1;for(;++h<p.length;){const g=l.one(p[h],d);if(g){if(h&&p[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=F1(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=F1(m.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function PJ(e,t){e.position&&(t.position=vG(e))}function NJ(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,qh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function TJ(e,t){const n=t.data||{},r="value"in t&&!(tx.call(n,"hProperties")||tx.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function AJ(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function F1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function L1(e,t){const n=RJ(e,t),r=n.one(e,void 0),i=yJ(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function OJ(e,t){return e&&"run"in e?async function(n,r){const i=L1(n,{file:r,...t});await e.run(i,r)}:function(n,r){return L1(n,{file:r,...e||t})}}function M1(e){if(e)throw e}var Jf=Object.prototype.hasOwnProperty,hO=Object.prototype.toString,$1=Object.defineProperty,U1=Object.getOwnPropertyDescriptor,z1=function(t){return typeof Array.isArray=="function"?Array.isArray(t):hO.call(t)==="[object Array]"},B1=function(t){if(!t||hO.call(t)!=="[object Object]")return!1;var n=Jf.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Jf.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Jf.call(t,i)},H1=function(t,n){$1&&n.name==="__proto__"?$1(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},q1=function(t,n){if(n==="__proto__")if(Jf.call(t,n)){if(U1)return U1(t,n).value}else return;return t[n]},IJ=function e(){var t,n,r,i,s,a,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=q1(l,n),i=q1(t,n),l!==i&&(d&&i&&(B1(i)||(s=z1(i)))?(s?(s=!1,a=r&&z1(r)?r:[]):a=r&&B1(r)?r:{},H1(l,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&H1(l,{name:n,newValue:i}));return l};const $g=Wa(IJ);function nx(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function DJ(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...u){const d=e[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?FJ(d,l)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function FJ(e,t){let n;return r;function r(...a){const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...l){n||(n=!0,t(a,...l))}function s(a){i(null,a)}}const ci={basename:LJ,dirname:MJ,extname:$J,join:UJ,sep:"/"};function LJ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');_d(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function MJ(e){if(_d(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function $J(e){_d(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function UJ(...e){let t=-1,n;for(;++t<e.length;)_d(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":zJ(n)}function zJ(e){_d(e);const t=e.codePointAt(0)===47;let n=BJ(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function BJ(e,t){let n="",r=0,i=-1,s=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return n}function _d(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const HJ={cwd:qJ};function qJ(){return"/"}function rx(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function WJ(e){if(typeof e=="string")e=new URL(e);else if(!rx(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return VJ(e)}function VJ(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ug=["history","path","basename","stem","extname","dirname"];class pO{constructor(t){let n;t?rx(t)?n={path:t}:typeof t=="string"||QJ(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":HJ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ug.length;){const s=Ug[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ug.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ci.basename(this.path):void 0}set basename(t){Bg(t,"basename"),zg(t,"basename"),this.path=ci.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ci.dirname(this.path):void 0}set dirname(t){W1(this.basename,"dirname"),this.path=ci.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ci.extname(this.path):void 0}set extname(t){if(zg(t,"extname"),W1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ci.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){rx(t)&&(t=WJ(t)),Bg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ci.basename(this.path,this.extname):void 0}set stem(t){Bg(t,"stem"),zg(t,"stem"),this.path=ci.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new gn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function zg(e,t){if(e&&e.includes(ci.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ci.sep+"`")}function Bg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function W1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function QJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const KJ=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},GJ={}.hasOwnProperty;class xw extends KJ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=DJ()}copy(){const t=new xw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($g(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Wg("data",this.frozen),this.namespace[t]=n,this):GJ.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Wg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Cf(t),r=this.parser||this.Parser;return Hg("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Hg("process",this.parser||this.Parser),qg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const l=Cf(t),c=r.parse(l);r.run(c,l,function(d,f,p){if(d||!f||!p)return u(d);const h=f,g=r.stringify(h,p);JJ(g)?p.value=g:p.result=g,u(d,p)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Hg("processSync",this.parser||this.Parser),qg("processSync",this.compiler||this.Compiler),this.process(t,i),Q1("processSync","process",n),r;function i(s,a){n=!0,M1(s),r=a}}run(t,n,r){V1(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){const c=Cf(n);i.run(t,c,u);function u(d,f,p){const h=f||t;d?l(d):a?a(h):r(void 0,h,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Q1("runSync","run",r),i;function s(a,l){M1(a),i=l,r=!0}}stringify(t,n){this.freeze();const r=Cf(n),i=this.compiler||this.Compiler;return qg("stringify",i),V1(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Wg("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=$g(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[h,...g]=d;const m=r[p][1];nx(m)&&nx(h)&&(h=$g(!0,m,h)),r[p]=[u,h,...g]}}}}const YJ=new xw().freeze();function Hg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function qg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Wg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function V1(e){if(!nx(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Q1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Cf(e){return XJ(e)?e:new pO(e)}function XJ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function JJ(e){return typeof e=="string"||ZJ(e)}function ZJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eZ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",K1=[],G1={allowDangerousHtml:!0},tZ=/^(https?|ircs?|mailto|xmpp)$/i,nZ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Zo(e){const t=rZ(e),n=iZ(e);return sZ(t.runSync(t.parse(n),n),e)}function rZ(e){const t=e.rehypePlugins||K1,n=e.remarkPlugins||K1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...G1}:G1;return YJ().use($X).use(n).use(OJ,r).use(t)}function iZ(e){const t=e.children||"",n=new pO;return typeof t=="string"&&(n.value=t),n}function sZ(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||aZ;for(const d of nZ)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+eZ+d.id,void 0);return yw(e,u),SG(e,{Fragment:o.Fragment,components:i,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return a?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let h;for(h in Fg)if(Object.hasOwn(Fg,h)&&Object.hasOwn(d.properties,h)){const g=d.properties[h],m=Fg[h];(m===null||m.includes(d.tagName))&&(d.properties[h]=c(String(g||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(d,f,p)),h&&p&&typeof f=="number")return l&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function aZ(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||tZ.test(e.slice(0,t))?e:""}function Y1(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function oZ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function lZ(e,t,n){const i=tm((n||{}).ignore||[]),s=cZ(t);let a=-1;for(;++a<s.length;)fO(e,"text",l);function l(u,d){let f=-1,p;for(;++f<d.length;){const h=d[f],g=p?p.children:void 0;if(i(h,g?g.indexOf(h):void 0,p))return;p=h}if(p)return c(u,d)}function c(u,d){const f=d[d.length-1],p=s[a][0],h=s[a][1];let g=0;const w=f.children.indexOf(u);let v=!1,y=[];p.lastIndex=0;let b=p.exec(u.value);for(;b;){const S=b.index,E={index:b.index,input:b.input,stack:[...d,u]};let _=h(...b,E);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?p.lastIndex=S+1:(g!==S&&y.push({type:"text",value:u.value.slice(g,S)}),Array.isArray(_)?y.push(..._):_&&y.push(_),g=S+b[0].length,v=!0),!p.global)break;b=p.exec(u.value)}return v?(g<u.value.length&&y.push({type:"text",value:u.value.slice(g)}),f.children.splice(w,1,...y)):y=[u],w+y.length}}function cZ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([uZ(i[0]),dZ(i[1])])}return t}function uZ(e){return typeof e=="string"?new RegExp(oZ(e),"g"):e}function dZ(e){return typeof e=="function"?e:function(){return e}}const Vg="phrasing",Qg=["autolink","link","image","label"];function fZ(){return{transforms:[xZ],enter:{literalAutolink:pZ,literalAutolinkEmail:Kg,literalAutolinkHttp:Kg,literalAutolinkWww:Kg},exit:{literalAutolink:yZ,literalAutolinkEmail:vZ,literalAutolinkHttp:mZ,literalAutolinkWww:gZ}}}function hZ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vg,notInConstruct:Qg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vg,notInConstruct:Qg},{character:":",before:"[ps]",after:"\\/",inConstruct:Vg,notInConstruct:Qg}]}}function pZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Kg(e){this.config.enter.autolinkProtocol.call(this,e)}function mZ(e){this.config.exit.autolinkProtocol.call(this,e)}function gZ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function vZ(e){this.config.exit.autolinkEmail.call(this,e)}function yZ(e){this.exit(e)}function xZ(e){lZ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,bZ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),wZ]],{ignore:["link","linkReference"]})}function bZ(e,t,n,r,i){let s="";if(!mO(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!SZ(n)))return!1;const a=_Z(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function wZ(e,t,n,r){return!mO(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function SZ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function _Z(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Y1(e,"(");let s=Y1(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function mO(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ha(n)||Jp(n))&&(!t||n!==47)}gO.peek=AZ;function jZ(){this.buffer()}function EZ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function kZ(){this.buffer()}function CZ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function RZ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Kr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function PZ(e){this.exit(e)}function NZ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Kr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function TZ(e){this.exit(e)}function AZ(){return"["}function gO(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),l(),a(),s+=i.move("]"),s}function OZ(){return{enter:{gfmFootnoteCallString:jZ,gfmFootnoteCall:EZ,gfmFootnoteDefinitionLabelString:kZ,gfmFootnoteDefinition:CZ},exit:{gfmFootnoteCallString:RZ,gfmFootnoteCall:PZ,gfmFootnoteDefinitionLabelString:NZ,gfmFootnoteDefinition:TZ}}}function IZ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:gO},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const l=s.createTracker(a);let c=l.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=l.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),t?vO:DZ))),u(),c}}function DZ(e,t,n){return t===0?e:vO(e,t,n)}function vO(e,t,n){return(n?"":"    ")+e}const FZ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];yO.peek=zZ;function LZ(){return{canContainEols:["delete"],enter:{strikethrough:$Z},exit:{strikethrough:UZ}}}function MZ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:FZ}],handlers:{delete:yO}}}function $Z(e){this.enter({type:"delete",children:[]},e)}function UZ(e){this.exit(e)}function yO(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function zZ(){return"~"}function BZ(e){return e.length}function HZ(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||BZ,s=[],a=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const m=[],w=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const y=qZ(e[d][v]);if(n.alignDelimiters!==!1){const b=i(y);w[v]=b,(c[v]===void 0||b>c[v])&&(c[v]=b)}m.push(y)}a[d]=m,l[d]=w}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=X1(r[f]);else{const m=X1(r);for(;++f<u;)s[f]=m}f=-1;const p=[],h=[];for(;++f<u;){const m=s[f];let w="",v="";m===99?(w=":",v=":"):m===108?w=":":m===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,c[f]-w.length-v.length);const b=w+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=w.length+y+v.length,y>c[f]&&(c[f]=y),h[f]=y),p[f]=b}a.splice(1,0,p),l.splice(1,0,h),d=-1;const g=[];for(;++d<a.length;){const m=a[d],w=l[d];f=-1;const v=[];for(;++f<u;){const y=m[f]||"";let b="",S="";if(n.alignDelimiters!==!1){const E=c[f]-(w[f]||0),_=s[f];_===114?b=" ".repeat(E):_===99?E%2?(b=" ".repeat(E/2+.5),S=" ".repeat(E/2-.5)):(b=" ".repeat(E/2),S=b):S=" ".repeat(E)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(b),v.push(y),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function qZ(e){return e==null?"":String(e)}function X1(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function WZ(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),VZ);return i(),a}function VZ(e,t,n){return">"+(n?"":" ")+e}function QZ(e,t){return J1(e,t.inConstruct,!0)&&!J1(e,t.notInConstruct,!1)}function J1(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Z1(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&QZ(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function KZ(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function GZ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function YZ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function XZ(e,t,n,r){const i=YZ(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(GZ(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(s,JZ);return f(),p}const l=n.createTracker(r),c=i.repeat(Math.max(KZ(s,i)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const f=n.enter(`codeFencedLang${a}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${a}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),s&&(d+=l.move(s+`
`)),d+=l.move(c),u(),d}function JZ(e,t,n){return(n?"":"    ")+e}function bw(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ZZ(e,t,n,r){const i=bw(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),a(),u}function eee(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ju(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Wh(e,t,n){const r=Pl(e),i=Pl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}xO.peek=tee;function xO(e,t,n,r){const i=eee(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),d=Wh(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Ju(u)+c.slice(1));const f=c.charCodeAt(c.length-1),p=Wh(r.after.charCodeAt(0),f,i);p.inside&&(c=c.slice(0,-1)+Ju(f));const h=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},l+c+h}function tee(e,t,n){return n.options.emphasis||"*"}function nee(e,t){let n=!1;return yw(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ex}),!!((!e.depth||e.depth<3)&&dw(e)&&(t.options.setext||n))}function ree(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(nee(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Ju(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),l(),u}bO.peek=iee;function bO(e){return e.value||""}function iee(){return"<"}wO.peek=see;function wO(e,t,n,r){const i=bw(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),a(),u}function see(){return"!"}SO.peek=aee;function SO(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function aee(){return"!"}_O.peek=oee;function _O(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],l=n.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function oee(){return"`"}function jO(e,t){const n=dw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}EO.peek=lee;function EO(e,t,n,r){const i=bw(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,c;if(jO(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),l(),u}function lee(e,t,n){return jO(e,n)?"<":"["}kO.peek=cee;function kO(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function cee(){return"["}function ww(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function uee(e){const t=ww(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function dee(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function CO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function fee(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?dee(n):ww(n);const l=e.ordered?a==="."?")":".":uee(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),CO(n)===a&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function hee(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function pee(e,t,n,r){const i=hee(n);let s=n.bulletCurrent||ww(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(f,p,h){return p?(h?"":" ".repeat(a))+f:(h?s:s+" ".repeat(a-s.length))+f}}function mee(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const gee=tm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vee(e,t,n,r){return(e.children.some(function(a){return gee(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function yee(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}RO.peek=xee;function RO(e,t,n,r){const i=yee(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),d=Wh(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Ju(u)+c.slice(1));const f=c.charCodeAt(c.length-1),p=Wh(r.after.charCodeAt(0),f,i);p.inside&&(c=c.slice(0,-1)+Ju(f));const h=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},l+c+h}function xee(e,t,n){return n.options.strong||"*"}function bee(e,t,n,r){return n.safe(e.value,r)}function wee(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function See(e,t,n){const r=(CO(n)+(n.options.ruleSpaces?" ":"")).repeat(wee(n));return n.options.ruleSpaces?r.slice(0,-1):r}const PO={blockquote:WZ,break:Z1,code:XZ,definition:ZZ,emphasis:xO,hardBreak:Z1,heading:ree,html:bO,image:wO,imageReference:SO,inlineCode:_O,link:EO,linkReference:kO,list:fee,listItem:pee,paragraph:mee,root:vee,strong:RO,text:bee,thematicBreak:See};function _ee(){return{enter:{table:jee,tableData:eE,tableHeader:eE,tableRow:kee},exit:{codeText:Cee,table:Eee,tableData:Gg,tableHeader:Gg,tableRow:Gg}}}function jee(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Eee(e){this.exit(e),this.data.inTable=void 0}function kee(e){this.enter({type:"tableRow",children:[]},e)}function Gg(e){this.exit(e)}function eE(e){this.enter({type:"tableCell",children:[]},e)}function Cee(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Ree));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Ree(e,t){return t==="|"?t:e}function Pee(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:c,tableRow:l}};function a(h,g,m,w){return u(d(h,m,w),h.align)}function l(h,g,m,w){const v=f(h,m,w),y=u([v]);return y.slice(0,y.indexOf(`
`))}function c(h,g,m,w){const v=m.enter("tableCell"),y=m.enter("phrasing"),b=m.containerPhrasing(h,{...w,before:s,after:s});return y(),v(),b}function u(h,g){return HZ(h,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function d(h,g,m){const w=h.children;let v=-1;const y=[],b=g.enter("table");for(;++v<w.length;)y[v]=f(w[v],g,m);return b(),y}function f(h,g,m){const w=h.children;let v=-1;const y=[],b=g.enter("tableRow");for(;++v<w.length;)y[v]=c(w[v],h,g,m);return b(),y}function p(h,g,m){let w=PO.inlineCode(h,g,m);return m.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function Nee(){return{exit:{taskListCheckValueChecked:tE,taskListCheckValueUnchecked:tE,paragraph:Aee}}}function Tee(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Oee}}}function tE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Aee(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Oee(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(a);let c=PO.listItem(e,t,n,{...r,...l.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function Iee(){return[fZ(),OZ(),LZ(),_ee(),Nee()]}function Dee(e){return{extensions:[hZ(),IZ(e),MZ(),Pee(e),Tee()]}}const Fee={tokenize:Bee,partial:!0},NO={tokenize:Hee,partial:!0},TO={tokenize:qee,partial:!0},AO={tokenize:Wee,partial:!0},Lee={tokenize:Vee,partial:!0},OO={name:"wwwAutolink",tokenize:Uee,previous:DO},IO={name:"protocolAutolink",tokenize:zee,previous:FO},ns={name:"emailAutolink",tokenize:$ee,previous:LO},ji={};function Mee(){return{text:ji}}let la=48;for(;la<123;)ji[la]=ns,la++,la===58?la=65:la===91&&(la=97);ji[43]=ns;ji[45]=ns;ji[46]=ns;ji[95]=ns;ji[72]=[ns,IO];ji[104]=[ns,IO];ji[87]=[ns,OO];ji[119]=[ns,OO];function $ee(e,t,n){const r=this;let i,s;return a;function a(f){return!ix(f)||!LO.call(r,r.previous)||Sw(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return ix(f)?(e.consume(f),l):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(Lee,d,u)(f):f===45||f===95||cn(f)?(s=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return s&&i&&kn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Uee(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!DO.call(r,r.previous)||Sw(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Fee,e.attempt(NO,e.attempt(TO,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function zee(e,t,n){const r=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&FO.call(r,r.previous)&&!Sw(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),l):n(f)}function l(f){if(kn(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),s?u:(s=!0,c)):n(f)}function u(f){return f===null||Bh(f)||Ke(f)||Ha(f)||Jp(f)?n(f):e.attempt(NO,e.attempt(TO,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Bee(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function Hee(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(AO,c,l)(u):u===null||Ke(u)||Ha(u)||u!==45&&Jp(u)?c(u):(s=!0,e.consume(u),a)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function c(u){return i||r||!s?n(u):t(u)}}function qee(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(AO,t,s)(a):a===null||Ke(a)||Ha(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function Wee(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||Ke(l)||Ha(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||Ke(l)||Ha(l)?t(l):r(l)}function s(l){return kn(l)?a(l):n(l)}function a(l){return l===59?(e.consume(l),r):kn(l)?(e.consume(l),a):n(l)}}function Vee(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return cn(s)?n(s):t(s)}}function DO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ke(e)}function FO(e){return!kn(e)}function LO(e){return!(e===47||ix(e))}function ix(e){return e===43||e===45||e===46||e===95||cn(e)}function Sw(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Qee={tokenize:tte,partial:!0};function Kee(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Jee,continuation:{tokenize:Zee},exit:ete}},text:{91:{name:"gfmFootnoteCall",tokenize:Xee},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Gee,resolveTo:Yee}}}}function Gee(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return n(c);const u=Kr(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Yee(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function Xee(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!a||f===null||f===91||Ke(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Kr(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ke(f)||(a=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function Jee(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,l;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(a>999||g===93&&!l||g===null||g===91||Ke(g))return n(g);if(g===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=Kr(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Ke(g)||(l=!0),a++,e.consume(g),g===92?f:d}function f(g){return g===91||g===92||g===93?(e.consume(g),a++,d):d(g)}function p(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),Me(e,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return t(g)}}function Zee(e,t,n){return e.check(Sd,t,e.attempt(Qee,t,n))}function ete(e){e.exit("gfmFootnoteDefinition")}function tte(e,t,n){const r=this;return Me(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function nte(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},p=[["enter",d,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",f,l]],h=l.parser.constructs.insideSpan.null;h&&ar(p,p.length,0,Zp(h,a.slice(u+1,c),l)),ar(p,p.length,0,[["exit",f,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",d,l]]),ar(a,u-1,c-u+3,p),c=u+p.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,l,c){const u=this.previous,d=this.events;let f=0;return p;function p(g){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(g):(a.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const m=Pl(u);if(g===126)return f>1?c(g):(a.consume(g),f++,h);if(f<2&&!n)return c(g);const w=a.exit("strikethroughSequenceTemporary"),v=Pl(g);return w._open=!v||v===2&&!!m,w._close=!m||m===2&&!!v,l(g)}}}class rte{constructor(){this.map=[]}add(t,n,r){ite(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function ite(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function ste(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function ate(){return{flow:{null:{name:"table",tokenize:ote,resolveAll:lte}}}}function ote(e,t,n){const r=this;let i=0,s=0,a;return l;function l(C){let D=r.events.length-1;for(;D>-1;){const A=r.events[D][1].type;if(A==="lineEnding"||A==="linePrefix")D--;else break}const O=D>-1?r.events[D][1].type:null,H=O==="tableHead"||O==="tableRow"?_:c;return H===_&&r.parser.lazy[r.now().line]?n(C):H(C)}function c(C){return e.enter("tableHead"),e.enter("tableRow"),u(C)}function u(C){return C===124||(a=!0,s+=1),d(C)}function d(C){return C===null?n(C):he(C)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),h):n(C):Oe(C)?Me(e,d,"whitespace")(C):(s+=1,a&&(a=!1,i+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),f(C)))}function f(C){return C===null||C===124||Ke(C)?(e.exit("data"),d(C)):(e.consume(C),C===92?p:f)}function p(C){return C===92||C===124?(e.consume(C),f):f(C)}function h(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(e.enter("tableDelimiterRow"),a=!1,Oe(C)?Me(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):g(C))}function g(C){return C===45||C===58?w(C):C===124?(a=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),m):E(C)}function m(C){return Oe(C)?Me(e,w,"whitespace")(C):w(C)}function w(C){return C===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),v):C===45?(s+=1,v(C)):C===null||he(C)?S(C):E(C)}function v(C){return C===45?(e.enter("tableDelimiterFiller"),y(C)):E(C)}function y(C){return C===45?(e.consume(C),y):C===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(C))}function b(C){return Oe(C)?Me(e,S,"whitespace")(C):S(C)}function S(C){return C===124?g(C):C===null||he(C)?!a||i!==s?E(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):E(C)}function E(C){return n(C)}function _(C){return e.enter("tableRow"),k(C)}function k(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),k):C===null||he(C)?(e.exit("tableRow"),t(C)):Oe(C)?Me(e,k,"whitespace")(C):(e.enter("data"),N(C))}function N(C){return C===null||C===124||Ke(C)?(e.exit("data"),k(C)):(e.consume(C),C===92?I:N)}function I(C){return C===92||C===124?(e.consume(C),N):N(C)}}function lte(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,u,d,f;const p=new rte;for(;++n<e.length;){const h=e[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(l=!1,c!==0&&(nE(p,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",d,t]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=Rf(p,t,s,i,void 0,f),s=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],f=Rf(p,t,s,i,void 0,f)),s=a,a=[s[1],n,0,0])):g.type==="tableHead"?(l=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],f=Rf(p,t,s,i,n,f)):a[1]!==0&&(f=Rf(p,t,a,i,n,f)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&nE(p,t,c,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=ste(t.events,n))}return e}function Rf(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},Ro(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=Ro(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=Ro(t.events,n[2]),d=Ro(t.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],h=t.events[n[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,m=n[3]-n[2]-1;e.add(g,m,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},Ro(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function nE(e,t,n,r,i){const s=[],a=Ro(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function Ro(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const cte={name:"tasklistCheck",tokenize:dte};function ute(){return{text:{91:cte}}}function dte(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Ke(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return he(c)?t(c):Oe(c)?e.check({tokenize:fte},t,n)(c):n(c)}}function fte(e,t,n){return Me(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function hte(e){return QA([Mee(),Kee(),nte(e),ate(),ute()])}const pte={};function el(e){const t=this,n=e||pte,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(hte(n)),s.push(Iee()),a.push(Dee(n))}const Yg={PCAF:"/public/lovable-uploads/pcaf-logo.png",CBAM:"/public/lovable-uploads/cbam-logo.png",ADEME:"/public/lovable-uploads/ademe-logo.png","GHG Protocol":"/public/lovable-uploads/ghg-protocol-logo.png"},MO=()=>{const[e,t]=x.useState({}),[n,r]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const{data:a,error:l}=await Y.storage.from("source-logos").list();if(l){console.error(" Error fetching source logos:",l),t(Yg);return}const c={...Yg};for(const u of a||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:d}=Y.storage.from("source-logos").getPublicUrl(u.name);if(d!=null&&d.publicUrl){const f=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");c[f]=d.publicUrl}}t(c)}catch(a){console.error(" Error in fetchLogos:",a),t(Yg)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const a=s.toLowerCase(),l=Object.keys(e).find(c=>c.toLowerCase()===a);return l?e[l]:null},loading:n,logos:e}},mte=()=>{var n;const{items:e,refine:t}=DV({items:[{label:"9 par page",value:9},{label:"18 par page",value:18},{label:"36 par page",value:36,default:!0},{label:"72 par page",value:72}]});return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Rsultats par page:"}),o.jsxs(Er,{value:String(((n=e.find(r=>r.isRefined))==null?void 0:n.value)||9),onValueChange:r=>t(Number(r)),children:[o.jsx(ir,{className:"w-auto",children:o.jsx(kr,{})}),o.jsx(sr,{children:e.map(r=>o.jsx(it,{value:String(r.value),children:r.label},r.value))})]})]})},gte=({onSortChange:e,currentSort:t})=>{const n=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE dcroissant",value:"fe_desc"},{label:"Plus rcent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}];return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Trier par:"}),o.jsxs(Er,{value:t,onValueChange:e,children:[o.jsx(ir,{className:"w-auto min-w-[140px]",children:o.jsx(kr,{})}),o.jsx(sr,{children:n.map(r=>o.jsx(it,{value:r.value,children:r.label},r.value))})]})]})},vte=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=jT();if(t<=1)return null;const s=[],a=5;let l=Math.max(0,e-Math.floor(a/2)),c=Math.min(t-1,l+a-1);c-l<a-1&&(l=Math.max(0,c-a+1));for(let u=l;u<=c;u++)s.push(u);return o.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[o.jsx(rR,{className:"h-4 w-4"}),"Prcdent"]}),l>0&&o.jsxs(o.Fragment,{children:[o.jsx(te,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),l>1&&o.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>o.jsx(te,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),c<t-1&&o.jsxs(o.Fragment,{children:[c<t-2&&o.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),o.jsx(te,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",o.jsx(ab,{className:"h-4 w-4"})]})]})},yte=()=>{const{query:e}=Gb(),{hits:t}=Up();return t.length===0&&e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(du,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun rsultat trouv"}),o.jsxs("p",{className:"text-muted-foreground mb-4",children:[`Nous n'avons trouv aucun facteur d'mission pour "`,e,'"']}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("p",{children:"Suggestions :"}),o.jsxs("ul",{className:"mt-2 space-y-1",children:[o.jsx("li",{children:" Vrifiez l'orthographe de votre recherche"}),o.jsx("li",{children:" Essayez des termes plus gnraux"}),o.jsx("li",{children:" Utilisez moins de filtres"})]})]})]}):t.length===0&&!e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(du,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Commencez votre recherche"}),o.jsx("p",{className:"text-muted-foreground",children:"Utilisez la barre de recherche ou les filtres pour explorer notre base de donnes"})]}):null},xte=()=>{const{hits:e}=Up(),[t,n]=q.useState(new Set),[r,i]=q.useState(new Set),[s,a]=q.useState("relevance"),{addToFavorites:l,removeFromFavorites:c,isFavorite:u}=vd(),{hasAccess:d,shouldBlurPremiumContent:f,canUseFavorites:p}=Bl();ea();const{toast:h}=Dt(),{user:g}=ht(),{quotaData:m,canExport:w,incrementExport:v}=B7(),{getSourceLogo:y}=MO(),{handleExport:b,handleCopyToClipboard:S}=AA(),E="fr",_=q.useCallback((j,M)=>M==="relevance"?j:[...j].sort(($,P)=>{switch(M){case"fe_asc":return($.FE||0)-(P.FE||0);case"fe_desc":return(P.FE||0)-($.FE||0);case"date_desc":return(P.Date||0)-($.Date||0);case"date_asc":return($.Date||0)-(P.Date||0);case"nom_asc":{const Q=$.Nom_fr||"",K=P.Nom_fr||"";return Q.localeCompare(K,E,{numeric:!0,sensitivity:"base"})}case"nom_desc":{const Q=$.Nom_fr||"";return(P.Nom_fr||"").localeCompare(Q,E,{numeric:!0,sensitivity:"base"})}case"source_asc":return($.Source||"").localeCompare(P.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),{start:k}=e7({attribute:"FE",precision:2}),N=q.useMemo(()=>{const j=P=>{if(typeof P=="object"&&(P==null?void 0:P._type)==="Number"){const Q=String(P.value);if(Q==="-Infinity"||Q==="Infinity"||Q==="NaN")return;const K=parseFloat(P.value);return Number.isFinite(K)?K:void 0}if(typeof P=="number")return Number.isFinite(P)?P:void 0};let M,$;if(k&&Array.isArray(k)){const P=j(k[0]),Q=j(k[1]);typeof P=="number"&&(M=P),typeof Q=="number"&&($=Q)}return M===void 0&&$===void 0?e:e.filter(P=>{const Q=typeof P.FE=="number"?P.FE:Number(P.FE);return!(!Number.isFinite(Q)||M!==void 0&&Q<M||$!==void 0&&Q>$)})},[e,k]),I=q.useMemo(()=>_(N,s),[N,s,_]),C=j=>{a(j)},D=j=>{const M=new Set(t);M.has(j)?M.delete(j):M.add(j),n(M)},O=(j,M)=>{const $=(()=>{switch(M){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Primtre":return["Primtre_fr","Primtre_en","Primtre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unit donne d'activit"];case"Source":return["Source"];default:return[M]}})(),P=j._highlightResult||{};for(const Q of $){const K=P[Q];if(K!=null&&K.value)return{__html:K.value};const J=j[Q];if(J)return{__html:J}}return{__html:""}},H=j=>{const M=new Set(r);M.has(j)?M.delete(j):M.add(j),i(M)},A=()=>{r.size===I.length?i(new Set):i(new Set(I.map(j=>j.objectID)))},F=async()=>{if(r.size===0){h({title:"Aucune slection",description:"Veuillez slectionner au moins un facteur d'mission.",variant:"destructive"});return}const j=I.filter($=>r.has($.objectID));await S(j)&&i(new Set)},U=async()=>{if(r.size===0){h({title:"Aucune slection",description:"Veuillez slectionner au moins un facteur d'mission.",variant:"destructive"});return}const j=I.filter($=>r.has($.objectID));await b(j,"facteurs_emissions_recherche")&&i(new Set)},B=j=>({id:j.objectID,nom:j.Nom_fr||"",description:j.Description_fr||"",fe:j.FE,uniteActivite:j.Unite_fr||"",source:j.Source,secteur:j.Secteur_fr||"",sousSecteur:j["Sous-secteur_fr"]||"",localisation:j.Localisation_fr||"",date:j.Date,incertitude:j.Incertitude,perimetre:j.Primtre_fr||"",contributeur:j.Contributeur||"",commentaires:j.Commentaires_fr||""}),R=async j=>{const M=B(j);u(j.objectID)?await c(j.objectID):await l(M)},T=async()=>{if(!p()){h({title:"Fonctionnalit Premium",description:"L'ajout aux favoris est disponible avec le plan Premium."});return}const M=I.filter($=>r.has($.objectID)).filter($=>!u($.objectID));if(M.length===0){h({title:"Dj en favoris",description:"Tous les lments slectionns sont dj dans vos favoris."});return}await Promise.all(M.map($=>l(B($)))),h({title:"Favoris mis  jour",description:`${M.length} lment${M.length>1?"s":""} ajout${M.length>1?"s":""} aux favoris`})};return o.jsxs("div",{className:"space-y-6",children:[o.jsx(yte,{}),I.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 p-4 bg-white rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zi,{checked:r.size===I.length&&I.length>0,onCheckedChange:A,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),o.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:r.size===I.length&&I.length>0?"Tout dslectionner":"Tout slectionner"})]}),r.size>0&&o.jsxs(He,{variant:"secondary",children:[r.size," slectionn",r.size>1?"s":""]})]}),r.size>0&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(te,{onClick:F,variant:"outline",className:"flex items-center gap-2 font-montserrat",children:[o.jsx(iR,{className:"h-4 w-4"}),"Copier (",r.size,")"]}),o.jsxs(te,{onClick:T,className:"flex items-center gap-2 font-montserrat",disabled:!p(),title:p()?"":"Fonctionnalit disponible uniquement avec le plan Premium",children:[o.jsx(Kv,{className:"h-4 w-4"}),"Ajouter aux favoris (",r.size,")"]}),o.jsxs(te,{onClick:U,className:"flex items-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat",children:[o.jsx(lb,{className:"h-4 w-4"}),"Exporter (",r.size,")"]})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[o.jsxs("div",{className:"text-sm text-indigo-950 font-montserrat",children:[I.length," rsultat",I.length>1?"s":""," affich",I.length>1?"s":""]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(gte,{onSortChange:C,currentSort:s}),o.jsx(mte,{})]})]}),o.jsx("div",{className:"space-y-4",children:I.map(j=>{const M=t.has(j.objectID),$=u(j.objectID);d(j.Source);const P=f(j.Source),Q=!!j.workspace_id||j.import_type==="imported";return o.jsx(pe,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:o.jsx(me,{className:"p-6",children:o.jsx("div",{className:"flex justify-between items-start gap-4",children:o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(Zi,{checked:r.has(j.objectID),onCheckedChange:()=>H(j.objectID),onClick:K=>K.stopPropagation(),className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:O(j,"Nom")}),Q&&o.jsx(He,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE import"})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(te,{variant:"ghost",size:"sm",onClick:K=>{K.stopPropagation(),p()&&R(j)},disabled:!p(),className:`${$?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${p()?"":"opacity-50 cursor-not-allowed"}`,title:p()?"":"Fonctionnalit disponible uniquement avec le plan Premium",children:p()?o.jsx(Kv,{className:`h-4 w-4 ${$?"fill-current":""}`}):o.jsx(aR,{className:"h-4 w-4"})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:K=>{K.stopPropagation(),D(j.objectID)},children:M?o.jsx(ob,{className:"h-4 w-4"}):o.jsx(dd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'mission"}),o.jsx(zh,{isBlurred:P,showBadge:!0,children:o.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[j.FE?(typeof j.FE=="number"?parseFloat(j.FE.toFixed(4)):parseFloat(parseFloat(String(j.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCOeq"]})}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unit"}),o.jsx(zh,{isBlurred:P,showBadge:!1,children:o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:O(j,"Unite")})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(j.Primtre_fr||j.Primtre_en)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Primtre"}),o.jsx("p",{className:"text-sm font-light",children:j.Primtre_fr||j.Primtre_en})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),o.jsxs("div",{className:"flex items-center gap-2",children:[y(j.Source)&&o.jsx("img",{src:y(j.Source),alt:`Logo ${j.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:O(j,"Source")})]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[(j.Localisation_fr||j.Localisation_en)&&o.jsx(He,{variant:"secondary",children:j.Localisation_fr||j.Localisation_en}),j.Date&&o.jsx(He,{variant:"outline",children:j.Date}),(j.Secteur_fr||j.Secteur_en)&&o.jsx(He,{variant:"outline",children:j.Secteur_fr||j.Secteur_en}),(j["Sous-secteur_fr"]||j["Sous-secteur_en"])&&o.jsx(He,{variant:"outline",children:j["Sous-secteur_fr"]||j["Sous-secteur_en"]})]}),M&&o.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(j.Description_fr||j.Description_en)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Description"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Zo,{remarkPlugins:[el],components:{a:({href:K,children:J,...V})=>o.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...V,children:J}),p:({children:K,...J})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...J,children:K})},children:j.Description_fr||j.Description_en})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Secteur"}),o.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:O(j,"Secteur")})]}),j.Incertitude&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Incertitude"}),o.jsx("p",{className:"text-sm font-light mt-1",children:j.Incertitude})]}),j.Contributeur&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Contributeur"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Zo,{remarkPlugins:[el],components:{a:({href:K,children:J,...V})=>o.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...V,children:J}),p:({children:K,...J})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...J,children:K})},children:j.Contributeur})})]}),(j.Commentaires_fr||j.Commentaires_en)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Commentaires"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Zo,{remarkPlugins:[el],components:{a:({href:K,children:J,...V})=>o.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...V,children:J}),p:({children:K,...J})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...J,children:K})},children:j.Commentaires_fr||j.Commentaires_en})})]})]})]})]})})})},j.objectID)})}),o.jsx(vte,{})]})]})},fs=({attribute:e,title:t,searchable:n=!1,limit:r=100})=>{const{items:i,refine:s,searchForItems:a}=l7({attribute:e,limit:r}),[l,c]=q.useState(""),u=q.useRef(null),d=f=>{const p=f.target.value;c(p),!(!n||!a)&&(u.current&&clearTimeout(u.current),!(p.trim().length<2)&&(u.current=setTimeout(()=>{a(p)},300)))};return q.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:t}),o.jsx("span",{className:"text-xs text-gray-500",children:i.filter(f=>f.isRefined).length>0&&`(${i.filter(f=>f.isRefined).length})`})]}),n&&o.jsx(Ot,{type:"text",placeholder:`Rechercher ${t.toLowerCase()}...`,value:l,onChange:d,className:"text-xs"}),o.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:i.length===0?o.jsx("div",{className:"text-xs text-gray-400",children:"Aucune option disponible"}):i.map(f=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Zi,{id:`${e}-${f.value}`,checked:f.isRefined,onCheckedChange:()=>s(f.value)}),o.jsxs("label",{htmlFor:`${e}-${f.value}`,className:"text-sm cursor-pointer flex-1 truncate",title:f.label,children:[f.label," (",f.count,")"]})]},f.value))})]})},bte=()=>{const{origin:e,setOrigin:t}=Jb(),n=r=>{console.log(`[OriginFilter] ${r}`)};return o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(te,{size:"sm",variant:e==="public"?"default":"outline",onClick:()=>{n("click public"),t("public")},children:"Base commune"}),o.jsx(te,{size:"sm",variant:e==="private"?"default":"outline",onClick:()=>{n("click private"),t("private")},children:"Base personnelle"})]})},$O=()=>{const{refine:e}=wV();return o.jsxs(pe,{className:"w-full",children:[o.jsx(we,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Se,{className:"text-base font-semibold",children:"Filtres"}),o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>e(),className:"text-xs",children:[o.jsx(TM,{className:"h-3 w-3 mr-1"}),"Rinitialiser"]})]})}),o.jsxs(me,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-semibold text-primary",children:"Origine"}),o.jsx(bte,{})]}),o.jsx(fs,{attribute:"languages",title:"Langue",limit:10}),o.jsx(fs,{attribute:"Source",title:"Source",searchable:!0,limit:500}),o.jsx(fs,{attribute:"Date",title:"Date",limit:20}),o.jsx(fs,{attribute:"Secteur_fr",title:"Secteur",searchable:!0,limit:500}),o.jsx(fs,{attribute:"Sous-secteur_fr",title:"Sous-secteur",searchable:!0,limit:500}),o.jsx(fs,{attribute:"Localisation_fr",title:"Localisation",searchable:!0,limit:500}),o.jsx(fs,{attribute:"Primtre_fr",title:"Primtre",searchable:!0,limit:500}),o.jsx(fs,{attribute:"Unite_fr",title:"Unit",searchable:!0,limit:500})]})]})},wte=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=zp();return o.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[o.jsx("div",{children:n&&t!==e?o.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," rsultats pertinents sur ",e==null?void 0:e.toLocaleString()]}):o.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.toLocaleString()," rsultat",e>1?"s":""," trouv",e>1?"s":""]})}),o.jsxs("div",{children:["en ",r," ms"]})]})},Ste=()=>{const{user:e}=ht(),{currentWorkspace:t}=_i(),[n,r]=x.useState(null),[i,s]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:l,error:c}=await Y.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(c&&c.code!=="PGRST116"){console.error("Erreur lors du chargement de la priode d'essai:",c),s(!1);return}let u=l;if(!l){const{data:g,error:m}=await Y.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(m){console.error("Erreur lors de la cration de la priode d'essai:",m),s(!1);return}u=g}const d=new Date(u.expires_at),f=new Date,p=Math.max(0,Math.ceil((d.getTime()-f.getTime())/(1e3*60*60*24))),h=d>f;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:p,has_access:h})}catch(l){console.error("Erreur lors du chargement de la priode d'essai:",l)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};var _w="Progress",jw=100,[_te,jie]=dr(_w),[jte,Ete]=_te(_w),UO=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=kte,...a}=e;(i||i===0)&&!rE(i)&&console.error(Cte(`${i}`,"Progress"));const l=rE(i)?i:jw;r!==null&&!iE(r,l)&&console.error(Rte(`${r}`,"Progress"));const c=iE(r,l)?r:null,u=Vh(c)?s(c,l):void 0;return o.jsx(jte,{scope:n,value:c,max:l,children:o.jsx(ge.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Vh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":HO(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});UO.displayName=_w;var zO="ProgressIndicator",BO=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Ete(zO,n);return o.jsx(ge.div,{"data-state":HO(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});BO.displayName=zO;function kte(e,t){return`${Math.round(e/t*100)}%`}function HO(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vh(e){return typeof e=="number"}function rE(e){return Vh(e)&&!isNaN(e)&&e>0}function iE(e,t){return Vh(e)&&!isNaN(e)&&e<=t&&e>=0}function Cte(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jw}\`.`}function Rte(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qO=UO,Pte=BO;const tl=x.forwardRef(({className:e,value:t,...n},r)=>o.jsx(qO,{ref:r,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(Pte,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tl.displayName=qO.displayName;const Nte=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=Ste();if(t||!n)return null;if(!e||!r)return o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[o.jsx(_r,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm font-medium text-destructive",children:"Priode d'essai expire"})]});const s=Math.max(0,i/7*100),a=i<=2;return o.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[o.jsx(jh,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm font-medium",children:"Priode d'essai"}),o.jsxs(He,{variant:a?"destructive":"secondary",className:"text-xs",children:[i," jour",i>1?"s":""]})]}),o.jsx(tl,{value:s,className:"h-2"})]})]})},Tte=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=x.useState(!1);if(t)return o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"})});if(!e)return o.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Erreur"})]});const s=e.plan_type,a=e.exports_used,l=e.exports_limit,c=e.clipboard_copies_used,u=e.clipboard_copies_limit,d=e.favorites_used,f=e.favorites_limit,p=l===null?0:a/l*100,h=u===null?0:c/u*100,g=f===null?0:d/f*100,m=()=>s==="premium"?o.jsx(Fa,{className:"h-4 w-4"}):s==="standard"?o.jsx(fu,{className:"h-4 w-4"}):null,w=()=>s==="premium"?"Premium":s==="standard"?"Standard":"Freemium",v=()=>l===null?"Illimites ":l===0?"Non disponible":`${a} / ${l}`,y=()=>u===null?"Illimites ":`${c} / ${u}`,b=()=>f===null?"Illimites ":`${d} / ${f}`,S=s==="premium"||s==="standard";return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>i(!r),className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true",children:[m(),o.jsx("span",{className:"whitespace-nowrap",children:w()}),n&&o.jsx($a,{className:"h-3 w-3 text-destructive"}),o.jsx(dd,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Nte,{})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("h3",{className:"font-semibold text-foreground",children:["Plan ",w()]}),m()]}),n&&o.jsxs(He,{variant:"destructive",className:"text-xs",children:[o.jsx($a,{className:"w-3 h-3 mr-1"}),"Limite atteinte"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recherches"}),o.jsx("span",{className:"text-sm font-medium text-success",children:"Illimites "})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Exports Excel"}),o.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:v()})]}),!S&&l!==null&&l>0&&o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Copie presse-papiers"}),o.jsx("span",{className:`text-sm font-medium ${h>=100?"text-destructive":"text-muted-foreground"}`,children:y()})]}),!S&&u!==null&&o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${h>=100?"bg-destructive":h>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(h,100)}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Favoris"}),o.jsx("span",{className:`text-sm font-medium ${g>=100?"text-destructive":"text-muted-foreground"}`,children:b()})]}),!S&&f!==null&&o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${g>=100?"bg-destructive":g>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(g,100)}%`}})})]}),n&&s==="freemium"&&o.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:o.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan."})}),!n&&s==="freemium"&&o.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Contactez votre administrateur pour augmenter vos limites."})})]})]})})]})]})},Pa=()=>{const{user:e,signOut:t}=ht(),{isSupraAdmin:n}=Bp(),{canUseFavorites:r}=Bl(),{quotaData:i,isLoading:s,isAtLimit:a}=Yb(),l=Ga(),c=async()=>{await t(),l("/")};return o.jsx("nav",{className:"border-b border-border bg-background",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(xt,{to:e?"/search":"/",className:"flex items-center",children:o.jsx("img",{src:"/lovable-uploads/6c4e21a7-850d-42ab-8370-017b8e71d180.png",alt:"DataCarb",className:"h-10"})})}),o.jsx("div",{className:"flex items-center space-x-4",children:e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Tte,{quotaData:i,isLoading:s,isAtLimit:a})}),o.jsx(xt,{to:"/search",children:o.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Recherche"})}),r()?o.jsx(xt,{to:"/favoris",children:o.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Favoris"})}):o.jsxs(te,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:"Fonctionnalit disponible uniquement avec le plan Premium",children:[o.jsx(aR,{className:"h-4 w-4 mr-2"}),"Favoris"]}),n&&o.jsx(xt,{to:"/import",children:o.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Import"})}),o.jsx(xt,{to:"/settings",children:o.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Paramtres"})}),o.jsx(te,{onClick:c,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Se dconnecter"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xt,{to:"/signup",children:o.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"S'inscrire"})}),o.jsx(xt,{to:"/login",children:o.jsx(te,{children:"Se connecter"})})]})})]})})})},Ate=()=>{const{origin:e}=Jb();return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Pa,{}),o.jsx("section",{className:"py-20 px-4 bg-primary",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-6xl",children:o.jsx(eQ,{})})})})}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsx("aside",{className:"lg:col-span-1",children:o.jsx($O,{})}),o.jsxs("section",{className:"lg:col-span-3",children:[o.jsx(rT,{hitsPerPage:36,ruleContexts:[`origin:${e}`]}),o.jsx(wte,{}),o.jsx(xte,{})]})]})})]})},Ote=()=>o.jsx(PT,{children:o.jsx(Ate,{})}),Ite=({favoriteIds:e=[]})=>{const{query:t,refine:n}=Gb(),{nbHits:r}=zp(),i=()=>{n("")},s=()=>{};return o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(du,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),o.jsx(Ot,{type:"text",value:t,onChange:a=>{n(a.target.value)},onKeyDown:a=>{a.key},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&o.jsx("button",{onClick:i,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o.jsx(yp,{className:"h-5 w-5"})})]}),o.jsx(te,{variant:"default",onClick:s,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},WO=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=ea(),{role:s}=i;return t&&(!s||!t.includes(s))?o.jsx(o.Fragment,{children:r}):n&&!i[n]?o.jsx(o.Fragment,{children:r}):o.jsx(o.Fragment,{children:e})},Dte=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s,onToggleFavorite:a,favoriteIds:l})=>{const{hits:c}=Up(),[u,d]=x.useState("relevance"),[f,p]=x.useState(new Set),h=q.useCallback((R,T)=>T==="relevance"?R:[...R].sort((j,M)=>{switch(T){case"fe_asc":return(j.FE||0)-(M.FE||0);case"fe_desc":return(M.FE||0)-(j.FE||0);case"date_desc":return(M.Date||0)-(j.Date||0);case"date_asc":return(j.Date||0)-(M.Date||0);case"nom_asc":{const $=j.Nom_fr||j.Nom_en||j.Nom||"",P=M.Nom_fr||M.Nom_en||M.Nom||"";return $.localeCompare(P,"fr",{numeric:!0,sensitivity:"base"})}case"nom_desc":{const $=j.Nom_fr||j.Nom_en||j.Nom||"";return(M.Nom_fr||M.Nom_en||M.Nom||"").localeCompare($,"fr",{numeric:!0,sensitivity:"base"})}case"source_asc":return(j.Source||"").localeCompare(M.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),g=q.useMemo(()=>h(c,u),[c,u,h]),m=R=>{d(R)},w=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE dcroissant",value:"fe_desc"},{label:"Plus rcent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}],{currentRefinement:v,nbPages:y,refine:b}=jT(),{removeFromFavorites:S,isFavorite:E}=vd();ea();const{getSourceLogo:_}=MO(),{shouldBlurPremiumContent:k}=Bl(),N=g.length>0&&g.every(R=>e.has(R.objectID)),I=R=>{n(R)},C=R=>{const T=new Set(f);T.has(R)?T.delete(R):T.add(R),p(T)},D=(R,T)=>{const j=(()=>{switch(T){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Primtre":return["Primtre_fr","Primtre_en","Primtre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unit donne d'activit"];case"Source":return["Source"];default:return[T]}})(),M=R._highlightResult||{};for(const $ of j){const P=M[$];if(P!=null&&P.value)return{__html:P.value};const Q=R[$];if(Q)return{__html:Q}}return{__html:""}},O=async R=>{try{await S(R.objectID),_n.success("Retir des favoris")}catch{_n.error("Erreur lors de la suppression du favori")}},H=R=>({id:R.objectID,nom:R.Nom_fr||R.Nom_en||R.Nom||"",description:R.Description_fr||R.Description_en||R.Description||"",fe:R.FE,uniteActivite:R.Unite_fr||R.Unite_en||R["Unit donne d'activit"]||"",source:R.Source,secteur:R.Secteur_fr||R.Secteur_en||R.Secteur||"",sousSecteur:R["Sous-secteur_fr"]||R["Sous-secteur_en"]||R["Sous-secteur"]||"",localisation:R.Localisation_fr||R.Localisation_en||R.Localisation||"",date:R.Date,incertitude:R.Incertitude,perimetre:R.Primtre_fr||R.Primtre_en||R.Primtre||"",contributeur:R.Contributeur||"",commentaires:R.Commentaires_fr||R.Commentaires_en||R.Commentaires||""}),A=()=>{if(r){const T=g.filter(j=>e.has(j.objectID)).map(H);r(T)}},F=()=>{if(i){const T=g.filter(j=>e.has(j.objectID)).map(H);i(T)}},U=()=>{if(s){const R=Array.from(e);s(R)}},B=R=>!!R.workspace_id||R.import_type==="imported";return g.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-muted-foreground",children:"Aucun favori ne correspond  votre recherche."})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[o.jsxs("div",{className:"text-sm text-foreground",children:[g.length," favori",g.length>1?"s":""," affich",g.length>1?"s":""]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-foreground",children:"Trier par:"}),o.jsxs(Er,{value:u,onValueChange:m,children:[o.jsx(ir,{className:"w-auto min-w-[140px]",children:o.jsx(kr,{})}),o.jsx(sr,{children:w.map(R=>o.jsx(it,{value:R.value,children:R.label},R.value))})]})]})})]}),o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Zi,{id:"select-all",checked:N,onCheckedChange:I}),o.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:["Tout slectionner (",g.length,")"]})]}),e.size>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:F,children:[o.jsx(iR,{className:"w-4 h-4 mr-2"}),"Copier (",e.size,")"]}),o.jsx(WO,{requirePermission:"canExport",children:o.jsxs(te,{variant:"outline",size:"sm",onClick:A,children:[o.jsx(lb,{className:"w-4 h-4 mr-2"}),"Exporter (",e.size,")"]})}),o.jsxs(te,{variant:"destructive",size:"sm",onClick:U,children:[o.jsx(fd,{className:"w-4 h-4 mr-2"}),"Retirer (",e.size,")"]})]})]}),o.jsx("div",{className:"space-y-4",children:g.map(R=>{const T=f.has(R.objectID);E(R.objectID);const j=k(R.Source);return o.jsx(pe,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:o.jsx(me,{className:"p-6",children:o.jsx("div",{className:"flex justify-between items-start gap-4",children:o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(Zi,{checked:e.has(R.objectID),onCheckedChange:()=>t(R.objectID),onClick:M=>M.stopPropagation(),className:"mt-1 cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:D(R,"Nom")}),B(R)&&o.jsx(He,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE import"})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(te,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),O(R)},className:"text-red-500 hover:text-red-600",children:o.jsx(Kv,{className:"h-4 w-4 fill-current"})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),C(R.objectID)},children:T?o.jsx(ob,{className:"h-4 w-4"}):o.jsx(dd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'mission"}),o.jsx(zh,{isBlurred:j,children:o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[R.FE?(typeof R.FE=="number"?parseFloat(R.FE.toFixed(4)):parseFloat(parseFloat(String(R.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCOeq"]})}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unit"}),o.jsx(zh,{isBlurred:j,showBadge:!1,children:o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:D(R,"Unite")})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(R.Primtre_fr||R.Primtre_en||R.Primtre)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Primtre"}),o.jsx("p",{className:"text-sm font-light",children:R.Primtre_fr||R.Primtre_en||R.Primtre})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),o.jsxs("div",{className:"flex items-center gap-2",children:[_(R.Source)&&o.jsx("img",{src:_(R.Source),alt:`Logo ${R.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:D(R,"Source")})]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[(R.Localisation_fr||R.Localisation_en||R.Localisation)&&o.jsx(He,{variant:"secondary",children:R.Localisation_fr||R.Localisation_en||R.Localisation}),R.Date&&o.jsx(He,{variant:"outline",children:R.Date}),(R.Secteur_fr||R.Secteur_en||R.Secteur)&&o.jsx(He,{variant:"outline",children:R.Secteur_fr||R.Secteur_en||R.Secteur}),(R["Sous-secteur_fr"]||R["Sous-secteur_en"]||R["Sous-secteur"])&&o.jsx(He,{variant:"outline",children:R["Sous-secteur_fr"]||R["Sous-secteur_en"]||R["Sous-secteur"]})]}),T&&o.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[R.Description_fr||R.Description_en?o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Zo,{remarkPlugins:[el],components:{a:({href:M,children:$,...P})=>o.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...P,children:$}),p:({children:M,...$})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...$,children:M})},children:R.Description_fr||R.Description_en})})]}):null,o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),o.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:D(R,"Secteur")})]}),R.Incertitude&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),o.jsx("p",{className:"text-sm font-light mt-1",children:R.Incertitude})]}),R.Contributeur&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Contributeur"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Zo,{remarkPlugins:[el],components:{a:({href:M,children:$,...P})=>o.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...P,children:$}),p:({children:M,...$})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...$,children:M})},children:R.Contributeur})})]}),R.Commentaires_fr||R.Commentaires_en?o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Zo,{remarkPlugins:[el],components:{a:({href:M,children:$,...P})=>o.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...P,children:$}),p:({children:M,...$})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...$,children:M})},children:R.Commentaires_fr||R.Commentaires_en})})]}):null]})]})]})})})},R.objectID)})}),y>1&&(()=>{let T=Math.max(0,v-Math.floor(2.5)),j=Math.min(y-1,T+5-1);j-T<4&&(T=Math.max(0,j-5+1));const M=[];for(let $=T;$<=j;$++)M.push($);return o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>b(v-1),disabled:v===0,children:[o.jsx(rR,{className:"w-4 h-4"}),"Prcdent"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[T>0&&o.jsx(te,{variant:v===0?"default":"outline",size:"sm",onClick:()=>b(0),className:"w-10",children:"1"},"first-page"),T>1&&o.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),M.map($=>o.jsx(te,{variant:$===v?"default":"outline",size:"sm",onClick:()=>b($),className:"w-10",children:$+1},`page-${$}`)),j<y-2&&o.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),j<y-1&&o.jsx(te,{variant:y-1===v?"default":"outline",size:"sm",onClick:()=>b(y-1),className:"w-10",children:y},"last-page")]}),o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>b(v+1),disabled:v>=y-1,children:["Suivant",o.jsx(ab,{className:"w-4 h-4"})]})]})})()]})},Fte=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=zp();return o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[o.jsx("div",{children:n&&t!==e?o.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," rsultats pertinents sur ",e==null?void 0:e.toLocaleString()," favoris"]}):o.jsxs("span",{className:"font-semibold text-foreground",children:[e==null?void 0:e.toLocaleString()," favori",e>1?"s":""," trouv",e>1?"s":""]})}),o.jsxs("div",{children:["en ",r," ms"]})]})},Lte=({favoriteIds:e})=>{const[t,n]=x.useState(new Set),{favorites:r,removeFromFavorites:i}=vd(),{handleExport:s,handleCopyToClipboard:a}=AA(),l=v=>{n(y=>{const b=new Set(y);return b.has(v)?b.delete(v):b.add(v),b})},c=v=>{if(v){const y=r.map(b=>b.id);n(new Set(y))}else n(new Set)},u=async v=>{await a(v)},d=async v=>{await s(v,"facteurs_emissions_favoris")},f=async v=>{try{for(const y of v)await i(y);n(new Set),_n.success(`${v.length} lment${v.length>1?"s":""} retir${v.length>1?"s":""} des favoris`)}catch{_n.error("Erreur lors de la suppression des favoris")}},p=[...new Set(r.map(v=>v.source))].filter(Boolean),h=[...new Set(r.map(v=>v.localisation))].filter(Boolean);[...new Set(r.map(v=>v.date.toString()))].filter(Boolean).sort((v,y)=>parseInt(y)-parseInt(v));const g=T7(e),m=H7(),w=(m==null?void 0:m.origin)||"all";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Pa,{}),o.jsx("section",{className:"py-12 px-4 bg-background border-b",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et grez vos facteurs d'mission favoris"}),o.jsx("div",{className:"max-w-3xl mx-auto",children:o.jsx(Ite,{favoriteIds:e})}),o.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-foreground",children:r.length}),o.jsx("span",{children:"favoris au total"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-foreground",children:p.length}),o.jsx("span",{children:"sources"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-foreground",children:h.length}),o.jsx("span",{children:"localisations"})]})]})]})})}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),o.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'mission et ajoutez-les  vos favoris en cliquant sur "})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsx("aside",{className:"lg:col-span-1",children:o.jsx($O,{})}),o.jsxs("section",{className:"lg:col-span-3",children:[o.jsx(rT,{filters:g,ruleContexts:[`origin:${w}`]}),o.jsx(Fte,{}),o.jsx(Dte,{selectedItems:t,onItemSelect:l,onSelectAll:c,onExport:d,onCopyToClipboard:u,onRemoveSelectedFromFavorites:f,favoriteIds:e})]})]})})]})},Mte=()=>{const{favorites:e}=vd(),t=x.useMemo(()=>e.map(n=>n.id),[e]);return o.jsx(q7,{children:o.jsx(PT,{children:o.jsx(Lte,{favoriteIds:t})})})},$te=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(""),[i,s]=x.useState(!1),[a,l]=x.useState(!1),[c,u]=x.useState(0),[d,f]=x.useState("idle"),[p,h]=x.useState(null),[g,m]=x.useState("idle"),{toast:w}=Dt(),{user:v}=ht(),{currentWorkspace:y}=_i(),{canImportData:b}=ea(),{addToFavorites:S}=vd(),E=()=>{const C=["id","nom","nom_en","description","description_en","fe","unite","unite_en","source","secteur","secteur_en","categorie","categorie_en","localisation","localisation_en","date","incertitude","perimetre","perimetre_en","contributeur","commentaires","commentaires_en"],D=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Ma Base Perso","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],O=[C.join(","),D.join(",")].join(`
`),H=new Blob([O],{type:"text/csv"}),A=URL.createObjectURL(H),F=document.createElement("a");F.href=A,F.download="template_facteurs_emissions_bilingue.csv",F.click(),URL.revokeObjectURL(A)},_=C=>{var O;const D=(O=C.target.files)==null?void 0:O[0];D&&D.type==="text/csv"?(t(D),f("idle"),h(null)):w({title:"Format invalide",description:"Veuillez slectionner un fichier CSV valide",variant:"destructive"})},k=C=>{const D=C.split(`
`).filter(A=>A.trim());if(D.length===0)return[];const O=D[0].split(",").map(A=>A.trim().replace(/"/g,"")),H=[];for(let A=1;A<D.length;A++){const F=D[A].split(",").map(U=>U.trim().replace(/"/g,""));if(F.length===O.length){const U={};O.forEach((B,R)=>{U[B]=F[R]}),H.push(U)}}return H},N=async()=>{if(!e||!n.trim()){w({title:"Informations manquantes",description:"Veuillez slectionner un fichier et donner un nom  votre dataset",variant:"destructive"});return}if(!y||!v){w({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'tre dans un workspace."});return}if(!b){w({variant:"destructive",title:"Permission refuse",description:"Vous n'avez pas les permissions pour importer des donnes."});return}l(!0),f("uploading"),u(0);try{const C=await e.text();u(25);const D=k(C);if(u(50),f("processing"),D.length===0)throw new Error("Le fichier CSV est vide ou mal format");const{data:O,error:H}=await Y.from("datasets").insert({name:n,file_name:e.name,file_size:e.size,user_id:v.id,workspace_id:y.id,uploaded_by:v.id}).select().single();if(H)throw new Error(`Erreur lors de la cration du dataset: ${H.message}`);u(75);try{await Y.from("fe_sources").upsert({source_name:O.name,access_level:"standard",is_global:!1},{onConflict:"source_name"}),await Y.from("fe_source_workspace_assignments").upsert({source_name:O.name,workspace_id:y.id,assigned_by:v.id},{onConflict:"source_name,workspace_id"})}catch(j){console.warn("Erreur assignation source au workspace:",j)}let A=e.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);const F=e.name.toLowerCase().endsWith(".xlsx")?".xlsx":".csv";A.endsWith(F)||(A=A.replace(/\.[^.]*$/,"")+F);const U=`${Date.now()}_${A}`,{error:B}=await Y.storage.from("imports").upload(U,e,{upsert:!0});if(B)throw B;m("indexing");const{data:R,error:T}=await Y.functions.invoke("import-csv-user",{body:{file_path:U,dataset_name:O.name,language:"fr"}});if(T)throw T;if(m("success"),i&&insertedFactors&&insertedFactors.length>0)try{let j=0;for(const M of insertedFactors)try{const $={id:M.id,nom:M.Nom||"",description:M.Description||"",fe:M.FE||0,uniteActivite:M["Unit donne d'activit"]||"",source:M.Source||"",secteur:M.Secteur||"",sousSecteur:M["Sous-secteur"]||"",localisation:M.Localisation||"",date:M.Date||new Date().getFullYear(),incertitude:M.Incertitude||"",perimetre:M.Primtre||"",contributeur:M.Contributeur||"",commentaires:M.Commentaires||""};await S($),j++}catch($){console.warn("Erreur ajout favori:",$)}j>0&&w({title:"Favoris ajouts",description:`${j} lments ajouts aux favoris.`})}catch(j){console.warn("Erreur ajout favoris global:",j)}u(100),f("success"),h({success:(R==null?void 0:R.inserted)||0,errors:[]}),w({title:"Import russi",description:`Import lanc: traitement ct serveur (id: ${(R==null?void 0:R.import_id)||"n/a"}).`}),setTimeout(()=>{t(null),r(""),s(!1),f("idle"),u(0);const j=document.getElementById("file-upload");j&&(j.value="")},3e3)}catch(C){console.error("Import error:",C),f("error"),h({success:0,errors:[C instanceof Error?C.message:"Erreur inconnue"]}),w({variant:"destructive",title:"Erreur d'import",description:C instanceof Error?C.message:"Une erreur est survenue lors de l'import."})}finally{l(!1)}},I=()=>{switch(d){case"success":return o.jsx(Ht,{className:"w-5 h-5 text-green-500"});case"error":return o.jsx(_r,{className:"w-5 h-5 text-red-500"});default:return null}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Pa,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[o.jsx(DS,{className:"w-8 h-8 mr-3 text-primary"}),"Import de donnes"]}),o.jsx("p",{className:"text-muted-foreground",children:"Importez votre propre base de donnes de facteurs d'missions carbone"})]}),o.jsxs(WO,{requirePermission:"canImportData",fallback:o.jsx(pe,{className:"mb-6",children:o.jsx(me,{className:"pt-6",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(_r,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour importer des donnes."})]})})}),children:[o.jsxs(pe,{className:"mb-6",children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center",children:[o.jsx(lb,{className:"w-5 h-5 mr-2"}),"Tlcharger le template"]}),o.jsx(vt,{children:"Utilisez notre template CSV pour formater correctement vos donnes"})]}),o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(CM,{className:"w-8 h-8 text-muted-foreground mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),o.jsx(te,{onClick:E,variant:"outline",children:"Tlcharger"})]}),o.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Colonnes requises :"})," nom, description, fe, unite, source, secteur, categorie, localisation, date, incertitude"]})]})]}),o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center",children:["Importer votre dataset",I()]}),o.jsx(vt,{children:"Slectionnez un fichier CSV format selon notre template"})]}),o.jsxs(me,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"dataset-name",children:"Nom du dataset"}),o.jsx(Ot,{id:"dataset-name",placeholder:"Mon dataset personnalis",value:n,onChange:C=>r(C.target.value),disabled:a})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"file-upload",children:"Fichier CSV"}),o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[o.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:_,className:"hidden",disabled:a}),e?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(vp,{className:"w-8 h-8 text-green-500 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:e.name}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):o.jsxs("div",{children:[o.jsx(DS,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("div",{className:"text-lg font-medium mb-2",children:"Cliquez pour slectionner un fichier"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Formats accepts : CSV uniquement"})]}),o.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e?"Changer de fichier":"Slectionner un fichier"})]})]}),a&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[d==="uploading"&&"Lecture du fichier...",d==="processing"&&"Traitement des donnes..."]}),o.jsxs("span",{children:[c,"%"]})]}),o.jsx(tl,{value:c,className:"w-full"})]}),p&&o.jsx("div",{className:`p-4 rounded-lg ${d==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:d==="success"?o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ht,{className:"w-5 h-5 text-green-500 mr-2"}),o.jsxs("span",{className:"text-green-700",children:[p.success," facteurs d'missions imports avec succs"]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(_r,{className:"w-5 h-5 text-red-500 mr-2"}),o.jsx("span",{className:"text-red-700 font-medium",children:"Erreurs d'import"})]}),o.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:p.errors.map((C,D)=>o.jsxs("li",{children:[" ",C]},D))})]})}),g!=="idle"&&o.jsxs("div",{className:"mt-3 p-3 rounded-lg border bg-muted/30",children:[g==="indexing"&&o.jsx("div",{className:"text-sm text-muted-foreground",children:"Indexation Algolia en cours"}),g==="success"&&o.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"})," Indexation Algolia termine"]}),g==="error"&&o.jsxs("div",{className:"flex items-center text-sm text-red-700",children:[o.jsx(_r,{className:"w-4 h-4 mr-2"})," chec de l'indexation Algolia (non bloquant)"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Zi,{id:"add-favorites",checked:i,onCheckedChange:C=>s(C),disabled:a}),o.jsx(wt,{htmlFor:"add-favorites",className:"text-sm",children:"Ajouter automatiquement tous les lments de ce dataset  mes favoris"})]}),o.jsx(te,{onClick:N,className:"w-full",disabled:!e||!n.trim()||a,children:a?"Import en cours...":"Importer le dataset"})]})]})]}),o.jsx(pe,{className:"mt-6",children:o.jsx(me,{className:"pt-6",children:o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Limite de taille :"})," 10 MB maximum par fichier"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Format :"})," CSV avec sparateur virgule (,)"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encodage :"})," UTF-8 recommand"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Validation :"})," Les donnes seront vrifies avant import"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Workspace :"})," Les donnes seront importes dans votre workspace actuel"]})]})})})]})})]})};var rm="Dialog",[VO,QO]=dr(rm),[Ute,Zr]=VO(rm),KO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Ki({prop:r,defaultProp:i??!1,onChange:s,caller:rm});return o.jsx(Ute,{scope:t,triggerRef:l,contentRef:c,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};KO.displayName=rm;var GO="DialogTrigger",YO=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(GO,n),s=Le(t,i.triggerRef);return o.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Cw(i.open),...r,ref:s,onClick:re(e.onClick,i.onOpenToggle)})});YO.displayName=GO;var Ew="DialogPortal",[zte,XO]=VO(Ew,{forceMount:void 0}),JO=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Zr(Ew,t);return o.jsx(zte,{scope:t,forceMount:n,children:x.Children.map(r,a=>o.jsx(Nr,{present:n||s.open,children:o.jsx(ld,{asChild:!0,container:i,children:a})}))})};JO.displayName=Ew;var Qh="DialogOverlay",ZO=x.forwardRef((e,t)=>{const n=XO(Qh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Zr(Qh,e.__scopeDialog);return s.modal?o.jsx(Nr,{present:r||s.open,children:o.jsx(Hte,{...i,ref:t})}):null});ZO.displayName=Qh;var Bte=Da("DialogOverlay.RemoveScroll"),Hte=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(Qh,n);return o.jsx(Vp,{as:Bte,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(ge.div,{"data-state":Cw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),qa="DialogContent",e2=x.forwardRef((e,t)=>{const n=XO(qa,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Zr(qa,e.__scopeDialog);return o.jsx(Nr,{present:r||s.open,children:s.modal?o.jsx(qte,{...i,ref:t}):o.jsx(Wte,{...i,ref:t})})});e2.displayName=qa;var qte=x.forwardRef((e,t)=>{const n=Zr(qa,e.__scopeDialog),r=x.useRef(null),i=Le(t,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return ew(s)},[]),o.jsx(t2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault())})}),Wte=x.forwardRef((e,t)=>{const n=Zr(qa,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return o.jsx(t2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),t2=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=Zr(qa,n),c=x.useRef(null),u=Le(t,c);return Zb(),o.jsxs(o.Fragment,{children:[o.jsx(qp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Ol,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Cw(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Qte,{titleId:l.titleId}),o.jsx(Gte,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kw="DialogTitle",n2=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(kw,n);return o.jsx(ge.h2,{id:i.titleId,...r,ref:t})});n2.displayName=kw;var r2="DialogDescription",i2=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(r2,n);return o.jsx(ge.p,{id:i.descriptionId,...r,ref:t})});i2.displayName=r2;var s2="DialogClose",a2=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(s2,n);return o.jsx(ge.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>i.onOpenChange(!1))})});a2.displayName=s2;function Cw(e){return e?"open":"closed"}var o2="DialogTitleWarning",[Vte,l2]=CL(o2,{contentName:qa,titleName:kw,docsSlug:"dialog"}),Qte=({titleId:e})=>{const t=l2(o2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Kte="DialogDescriptionWarning",Gte=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l2(Kte).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},c2=KO,u2=YO,d2=JO,Rw=ZO,Pw=e2,Nw=n2,Tw=i2,Aw=a2,f2="AlertDialog",[Yte,Eie]=dr(f2,[QO]),rs=QO(),h2=e=>{const{__scopeAlertDialog:t,...n}=e,r=rs(t);return o.jsx(c2,{...r,...n,modal:!0})};h2.displayName=f2;var Xte="AlertDialogTrigger",p2=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=rs(n);return o.jsx(u2,{...i,...r,ref:t})});p2.displayName=Xte;var Jte="AlertDialogPortal",m2=e=>{const{__scopeAlertDialog:t,...n}=e,r=rs(t);return o.jsx(d2,{...r,...n})};m2.displayName=Jte;var Zte="AlertDialogOverlay",g2=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=rs(n);return o.jsx(Rw,{...i,...r,ref:t})});g2.displayName=Zte;var nl="AlertDialogContent",[ene,tne]=Yte(nl),nne=NC("AlertDialogContent"),v2=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=rs(n),a=x.useRef(null),l=Le(t,a),c=x.useRef(null);return o.jsx(Vte,{contentName:nl,titleName:y2,docsSlug:"alert-dialog",children:o.jsx(ene,{scope:n,cancelRef:c,children:o.jsxs(Pw,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:re(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(nne,{children:r}),o.jsx(ine,{contentRef:a})]})})})});v2.displayName=nl;var y2="AlertDialogTitle",x2=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=rs(n);return o.jsx(Nw,{...i,...r,ref:t})});x2.displayName=y2;var b2="AlertDialogDescription",w2=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=rs(n);return o.jsx(Tw,{...i,...r,ref:t})});w2.displayName=b2;var rne="AlertDialogAction",S2=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=rs(n);return o.jsx(Aw,{...i,...r,ref:t})});S2.displayName=rne;var _2="AlertDialogCancel",j2=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=tne(_2,n),s=rs(n),a=Le(t,i);return o.jsx(Aw,{...s,...r,ref:a})});j2.displayName=_2;var ine=({contentRef:e})=>{const t=`\`${nl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nl}\` by passing a \`${b2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},sne=h2,ane=p2,one=m2,E2=g2,k2=v2,C2=S2,R2=j2,P2=x2,N2=w2;const T2=sne,A2=ane,lne=one,O2=x.forwardRef(({className:e,...t},n)=>o.jsx(E2,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));O2.displayName=E2.displayName;const Ow=x.forwardRef(({className:e,...t},n)=>o.jsxs(lne,{children:[o.jsx(O2,{}),o.jsx(k2,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ow.displayName=k2.displayName;const Iw=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});Iw.displayName="AlertDialogHeader";const Dw=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dw.displayName="AlertDialogFooter";const Fw=x.forwardRef(({className:e,...t},n)=>o.jsx(P2,{ref:n,className:ae("text-lg font-semibold",e),...t}));Fw.displayName=P2.displayName;const Lw=x.forwardRef(({className:e,...t},n)=>o.jsx(N2,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));Lw.displayName=N2.displayName;const Mw=x.forwardRef(({className:e,...t},n)=>o.jsx(C2,{ref:n,className:ae(Lb(),e),...t}));Mw.displayName=C2.displayName;const $w=x.forwardRef(({className:e,...t},n)=>o.jsx(R2,{ref:n,className:ae(Lb({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));$w.displayName=R2.displayName;const cne=c2,une=u2,dne=d2,I2=x.forwardRef(({className:e,...t},n)=>o.jsx(Rw,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));I2.displayName=Rw.displayName;const D2=x.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(dne,{children:[o.jsx(I2,{}),o.jsxs(Pw,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(Aw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(yp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));D2.displayName=Pw.displayName;const F2=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});F2.displayName="DialogHeader";const L2=x.forwardRef(({className:e,...t},n)=>o.jsx(Nw,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));L2.displayName=Nw.displayName;const M2=x.forwardRef(({className:e,...t},n)=>o.jsx(Tw,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));M2.displayName=Tw.displayName;var sx=["Enter"," "],fne=["ArrowDown","PageUp","Home"],$2=["ArrowUp","PageDown","End"],hne=[...fne,...$2],pne={ltr:[...sx,"ArrowRight"],rtl:[...sx,"ArrowLeft"]},mne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jd="Menu",[Zu,gne,vne]=pp(jd),[Za,U2]=dr(jd,[vne,Ll,Fp]),im=Ll(),z2=Fp(),[yne,eo]=Za(jd),[xne,Ed]=Za(jd),B2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,l=im(t),[c,u]=x.useState(null),d=x.useRef(!1),f=qn(s),p=Dp(i);return x.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(bb,{...l,children:o.jsx(yne,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(xne,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};B2.displayName=jd;var bne="MenuAnchor",Uw=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=im(n);return o.jsx(wb,{...i,...r,ref:t})});Uw.displayName=bne;var zw="MenuPortal",[wne,H2]=Za(zw,{forceMount:void 0}),q2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=eo(zw,t);return o.jsx(wne,{scope:t,forceMount:n,children:o.jsx(Nr,{present:n||s.open,children:o.jsx(ld,{asChild:!0,container:i,children:r})})})};q2.displayName=zw;var Cr="MenuContent",[Sne,Bw]=Za(Cr),W2=x.forwardRef((e,t)=>{const n=H2(Cr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=eo(Cr,e.__scopeMenu),a=Ed(Cr,e.__scopeMenu);return o.jsx(Zu.Provider,{scope:e.__scopeMenu,children:o.jsx(Nr,{present:r||s.open,children:o.jsx(Zu.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(_ne,{...i,ref:t}):o.jsx(jne,{...i,ref:t})})})})}),_ne=x.forwardRef((e,t)=>{const n=eo(Cr,e.__scopeMenu),r=x.useRef(null),i=Le(t,r);return x.useEffect(()=>{const s=r.current;if(s)return ew(s)},[]),o.jsx(Hw,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jne=x.forwardRef((e,t)=>{const n=eo(Cr,e.__scopeMenu);return o.jsx(Hw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ene=Da("MenuContent.ScrollLock"),Hw=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:g,...m}=e,w=eo(Cr,n),v=Ed(Cr,n),y=im(n),b=z2(n),S=gne(n),[E,_]=x.useState(null),k=x.useRef(null),N=Le(t,k,w.onContentChange),I=x.useRef(0),C=x.useRef(""),D=x.useRef(0),O=x.useRef(null),H=x.useRef("right"),A=x.useRef(0),F=g?Vp:x.Fragment,U=g?{as:Ene,allowPinchZoom:!0}:void 0,B=T=>{var V,oe;const j=C.current+T,M=S().filter(le=>!le.disabled),$=document.activeElement,P=(V=M.find(le=>le.ref.current===$))==null?void 0:V.textValue,Q=M.map(le=>le.textValue),K=Lne(Q,j,P),J=(oe=M.find(le=>le.textValue===K))==null?void 0:oe.ref.current;(function le(ue){C.current=ue,window.clearTimeout(I.current),ue!==""&&(I.current=window.setTimeout(()=>le(""),1e3))})(j),J&&setTimeout(()=>J.focus())};x.useEffect(()=>()=>window.clearTimeout(I.current),[]),Zb();const R=x.useCallback(T=>{var M,$;return H.current===((M=O.current)==null?void 0:M.side)&&$ne(T,($=O.current)==null?void 0:$.area)},[]);return o.jsx(Sne,{scope:n,searchRef:C,onItemEnter:x.useCallback(T=>{R(T)&&T.preventDefault()},[R]),onItemLeave:x.useCallback(T=>{var j;R(T)||((j=k.current)==null||j.focus(),_(null))},[R]),onTriggerLeave:x.useCallback(T=>{R(T)&&T.preventDefault()},[R]),pointerGraceTimerRef:D,onPointerGraceIntentChange:x.useCallback(T=>{O.current=T},[]),children:o.jsx(F,{...U,children:o.jsx(qp,{asChild:!0,trapped:i,onMountAutoFocus:re(s,T=>{var j;T.preventDefault(),(j=k.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Ol,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:o.jsx(VP,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:_,onEntryFocus:re(c,T=>{v.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Sb,{role:"menu","aria-orientation":"vertical","data-state":oI(w.open),"data-radix-menu-content":"",dir:v.dir,...y,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:re(m.onKeyDown,T=>{const M=T.target.closest("[data-radix-menu-content]")===T.currentTarget,$=T.ctrlKey||T.altKey||T.metaKey,P=T.key.length===1;M&&(T.key==="Tab"&&T.preventDefault(),!$&&P&&B(T.key));const Q=k.current;if(T.target!==Q||!hne.includes(T.key))return;T.preventDefault();const J=S().filter(V=>!V.disabled).map(V=>V.ref.current);$2.includes(T.key)&&J.reverse(),Dne(J)}),onBlur:re(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(I.current),C.current="")}),onPointerMove:re(e.onPointerMove,ed(T=>{const j=T.target,M=A.current!==T.clientX;if(T.currentTarget.contains(j)&&M){const $=T.clientX>A.current?"right":"left";H.current=$,A.current=T.clientX}}))})})})})})})});W2.displayName=Cr;var kne="MenuGroup",qw=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ge.div,{role:"group",...r,ref:t})});qw.displayName=kne;var Cne="MenuLabel",V2=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ge.div,{...r,ref:t})});V2.displayName=Cne;var Kh="MenuItem",sE="menu.itemSelect",sm=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=x.useRef(null),a=Ed(Kh,e.__scopeMenu),l=Bw(Kh,e.__scopeMenu),c=Le(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(sE,{bubbles:!0,cancelable:!0});f.addEventListener(sE,h=>r==null?void 0:r(h),{once:!0}),tb(f,p),p.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(Q2,{...i,ref:c,disabled:n,onClick:re(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:re(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:re(e.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||sx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});sm.displayName=Kh;var Q2=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=Bw(Kh,n),l=z2(n),c=x.useRef(null),u=Le(t,c),[d,f]=x.useState(!1),[p,h]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&h((g.textContent??"").trim())},[s.children]),o.jsx(Zu.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:o.jsx(QP,{asChild:!0,...l,focusable:!r,children:o.jsx(ge.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:re(e.onPointerMove,ed(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,ed(g=>a.onItemLeave(g))),onFocus:re(e.onFocus,()=>f(!0)),onBlur:re(e.onBlur,()=>f(!1))})})})}),Rne="MenuCheckboxItem",K2=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return o.jsx(Z2,{scope:e.__scopeMenu,checked:n,children:o.jsx(sm,{role:"menuitemcheckbox","aria-checked":Gh(n)?"mixed":n,...i,ref:t,"data-state":Vw(n),onSelect:re(i.onSelect,()=>r==null?void 0:r(Gh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});K2.displayName=Rne;var G2="MenuRadioGroup",[Pne,Nne]=Za(G2,{value:void 0,onValueChange:()=>{}}),Y2=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=qn(r);return o.jsx(Pne,{scope:e.__scopeMenu,value:n,onValueChange:s,children:o.jsx(qw,{...i,ref:t})})});Y2.displayName=G2;var X2="MenuRadioItem",J2=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=Nne(X2,e.__scopeMenu),s=n===i.value;return o.jsx(Z2,{scope:e.__scopeMenu,checked:s,children:o.jsx(sm,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Vw(s),onSelect:re(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});J2.displayName=X2;var Ww="MenuItemIndicator",[Z2,Tne]=Za(Ww,{checked:!1}),eI=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=Tne(Ww,n);return o.jsx(Nr,{present:r||Gh(s.checked)||s.checked===!0,children:o.jsx(ge.span,{...i,ref:t,"data-state":Vw(s.checked)})})});eI.displayName=Ww;var Ane="MenuSeparator",tI=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});tI.displayName=Ane;var One="MenuArrow",nI=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=im(n);return o.jsx(_b,{...i,...r,ref:t})});nI.displayName=One;var Ine="MenuSub",[kie,rI]=Za(Ine),kc="MenuSubTrigger",iI=x.forwardRef((e,t)=>{const n=eo(kc,e.__scopeMenu),r=Ed(kc,e.__scopeMenu),i=rI(kc,e.__scopeMenu),s=Bw(kc,e.__scopeMenu),a=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(Uw,{asChild:!0,...u,children:o.jsx(Q2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":oI(n.open),...e,ref:hp(t,i.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,ed(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:re(e.onPointerLeave,ed(f=>{var h,g;d();const p=(h=n.content)==null?void 0:h.getBoundingClientRect();if(p){const m=(g=n.content)==null?void 0:g.dataset.side,w=m==="right",v=w?-5:5,y=p[w?"left":"right"],b=p[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:y,y:p.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,f=>{var h;const p=s.searchRef.current!=="";e.disabled||p&&f.key===" "||pne[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});iI.displayName=kc;var sI="MenuSubContent",aI=x.forwardRef((e,t)=>{const n=H2(Cr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=eo(Cr,e.__scopeMenu),a=Ed(Cr,e.__scopeMenu),l=rI(sI,e.__scopeMenu),c=x.useRef(null),u=Le(t,c);return o.jsx(Zu.Provider,{scope:e.__scopeMenu,children:o.jsx(Nr,{present:r||s.open,children:o.jsx(Zu.Slot,{scope:e.__scopeMenu,children:o.jsx(Hw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:re(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:re(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),p=mne[a.dir].includes(d.key);f&&p&&(s.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});aI.displayName=sI;function oI(e){return e?"open":"closed"}function Gh(e){return e==="indeterminate"}function Vw(e){return Gh(e)?"indeterminate":e?"checked":"unchecked"}function Dne(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Fne(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Lne(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Fne(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Mne(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(i=!i)}return i}function $ne(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Mne(n,t)}function ed(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Une=B2,zne=Uw,Bne=q2,Hne=W2,qne=qw,Wne=V2,Vne=sm,Qne=K2,Kne=Y2,Gne=J2,Yne=eI,Xne=tI,Jne=nI,Zne=iI,ere=aI,am="DropdownMenu",[tre,Cie]=dr(am,[U2]),Nn=U2(),[nre,lI]=tre(am),cI=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=Nn(t),u=x.useRef(null),[d,f]=Ki({prop:i,defaultProp:s??!1,onChange:a,caller:am});return o.jsx(nre,{scope:t,triggerId:Vr(),triggerRef:u,contentId:Vr(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),modal:l,children:o.jsx(Une,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};cI.displayName=am;var uI="DropdownMenuTrigger",dI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=lI(uI,n),a=Nn(n);return o.jsx(zne,{asChild:!0,...a,children:o.jsx(ge.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:hp(t,s.triggerRef),onPointerDown:re(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:re(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});dI.displayName=uI;var rre="DropdownMenuPortal",fI=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Nn(t);return o.jsx(Bne,{...r,...n})};fI.displayName=rre;var hI="DropdownMenuContent",pI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=lI(hI,n),s=Nn(n),a=x.useRef(!1);return o.jsx(Hne,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:re(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pI.displayName=hI;var ire="DropdownMenuGroup",sre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(qne,{...i,...r,ref:t})});sre.displayName=ire;var are="DropdownMenuLabel",mI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Wne,{...i,...r,ref:t})});mI.displayName=are;var ore="DropdownMenuItem",gI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Vne,{...i,...r,ref:t})});gI.displayName=ore;var lre="DropdownMenuCheckboxItem",vI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Qne,{...i,...r,ref:t})});vI.displayName=lre;var cre="DropdownMenuRadioGroup",ure=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Kne,{...i,...r,ref:t})});ure.displayName=cre;var dre="DropdownMenuRadioItem",yI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Gne,{...i,...r,ref:t})});yI.displayName=dre;var fre="DropdownMenuItemIndicator",xI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Yne,{...i,...r,ref:t})});xI.displayName=fre;var hre="DropdownMenuSeparator",bI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Xne,{...i,...r,ref:t})});bI.displayName=hre;var pre="DropdownMenuArrow",mre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Jne,{...i,...r,ref:t})});mre.displayName=pre;var gre="DropdownMenuSubTrigger",wI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Zne,{...i,...r,ref:t})});wI.displayName=gre;var vre="DropdownMenuSubContent",SI=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(ere,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SI.displayName=vre;var yre=cI,xre=dI,bre=fI,_I=pI,jI=mI,EI=gI,kI=vI,CI=yI,RI=xI,PI=bI,NI=wI,TI=SI;const wre=yre,Sre=xre,_re=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>o.jsxs(NI,{ref:i,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(ab,{className:"ml-auto h-4 w-4"})]}));_re.displayName=NI.displayName;const jre=x.forwardRef(({className:e,...t},n)=>o.jsx(TI,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));jre.displayName=TI.displayName;const AI=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(bre,{children:o.jsx(_I,{ref:r,sideOffset:t,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));AI.displayName=_I.displayName;const ax=x.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(EI,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ax.displayName=EI.displayName;const Ere=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>o.jsxs(kI,{ref:i,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(RI,{children:o.jsx(vp,{className:"h-4 w-4"})})}),t]}));Ere.displayName=kI.displayName;const kre=x.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(CI,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(RI,{children:o.jsx(_M,{className:"h-2 w-2 fill-current"})})}),t]}));kre.displayName=CI.displayName;const Cre=x.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(jI,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Cre.displayName=jI.displayName;const Rre=x.forwardRef(({className:e,...t},n)=>o.jsx(PI,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));Rre.displayName=PI.displayName;const Pre=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,s]=x.useState(!1),[a,l]=x.useState(""),[c,u]=x.useState("gestionnaire"),[d,f]=x.useState(!1),{currentWorkspace:p}=_i(),{toast:h}=Dt();x.useEffect(()=>{p!=null&&p.id&&g()},[p==null?void 0:p.id]);const g=async()=>{if(p!=null&&p.id)try{r(!0);const{data:S,error:E}=await Y.rpc("get_workspace_users_with_roles",{target_workspace_id:p.id});if(E)throw E;t(S||[])}catch(S){console.error("Error fetching workspace users:",S),h({variant:"destructive",title:"Erreur",description:"Impossible de charger les utilisateurs du workspace"}),t([])}finally{r(!1)}},m=async()=>{if(!(!(p!=null&&p.id)||!a.trim()))try{f(!0);const{data:S,error:E}=await Y.functions.invoke("invite-user",{body:{email:a.toLowerCase().trim(),workspaceId:p.id,role:c,redirectTo:`${window.location.origin}/auth/callback?type=invite&workspaceId=${p.id}&role=${c}`}});if(E||!(S!=null&&S.success))throw new Error((E==null?void 0:E.message)||(S==null?void 0:S.error)||"Erreur lors de l'invitation");h({title:"Invitation envoye !",description:`Une invitation a t envoye  ${a}`}),l(""),s(!1),setTimeout(()=>g(),1e3)}catch(S){console.error("Error inviting user:",S),h({variant:"destructive",title:"Erreur",description:S.message||"Impossible d'envoyer l'invitation"})}finally{f(!1)}},w=async(S,E)=>{if(p!=null&&p.id)try{const{error:_}=await Y.from("user_roles").update({role:E}).eq("user_id",S).eq("workspace_id",p.id);if(_)throw _;h({title:"Rle mis  jour",description:"Le rle de l'utilisateur a t modifi"}),g()}catch(_){console.error("Error updating user role:",_),h({variant:"destructive",title:"Erreur",description:"Impossible de modifier le rle"})}},v=async S=>{if(p!=null&&p.id)try{const{error:E}=await Y.from("user_roles").delete().eq("user_id",S).eq("workspace_id",p.id);if(E)throw E;const{error:_}=await Y.from("users").delete().eq("user_id",S).eq("workspace_id",p.id);if(_)throw _;h({title:"Utilisateur retir",description:"L'utilisateur a t retir du workspace"}),g()}catch(E){console.error("Error removing user:",E),h({variant:"destructive",title:"Erreur",description:"Impossible de retirer l'utilisateur"})}},y=S=>S==="admin"?Fa:sR,b=S=>S==="admin"?"destructive":"secondary";return n?o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(Gi,{className:"h-5 w-5"}),"quipe du workspace"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez les utilisateurs et leurs rles dans votre workspace"})]}),o.jsx(br,{className:"h-10 w-48"})]})}),o.jsx(me,{className:"space-y-4",children:[1,2,3].map(S=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(br,{className:"h-10 w-10 rounded-full"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(br,{className:"h-4 w-32"}),o.jsx(br,{className:"h-3 w-48"})]})]}),o.jsx(br,{className:"h-6 w-20"})]},S))})]}):o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(Gi,{className:"h-5 w-5"}),"quipe du workspace"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez les utilisateurs et leurs rles dans votre workspace"})]}),o.jsxs(cne,{open:i,onOpenChange:s,children:[o.jsx(une,{asChild:!0,children:o.jsxs(te,{className:"flex items-center gap-2",children:[o.jsx(lR,{className:"h-4 w-4"}),"INVITER UN UTILISATEUR"]})}),o.jsxs(D2,{children:[o.jsxs(F2,{children:[o.jsx(L2,{children:"Inviter un utilisateur"}),o.jsx(M2,{children:"Invitez un nouvel utilisateur  rejoindre ce workspace"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(wt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",placeholder:"utilisateur@email.com",value:a,onChange:S=>l(S.target.value)})]}),o.jsxs("div",{children:[o.jsx(wt,{htmlFor:"role",children:"Rle"}),o.jsxs(Er,{value:c,onValueChange:S=>u(S),children:[o.jsx(ir,{children:o.jsx(kr,{})}),o.jsxs(sr,{children:[o.jsx(it,{value:"gestionnaire",children:"Gestionnaire"}),o.jsx(it,{value:"admin",children:"Administrateur"})]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(te,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),o.jsxs(te,{onClick:m,disabled:!a.trim()||d,children:[o.jsx(cb,{className:"h-4 w-4 mr-2"}),d?"Envoi...":"Envoyer l'invitation"]})]})]})]})]})]})}),o.jsx(me,{children:e.length===0?o.jsx(fn,{children:o.jsx(hn,{children:"Aucun utilisateur dans ce workspace pour le moment."})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[minmax(0,2fr)_auto_1fr_auto] gap-4 text-sm font-medium text-muted-foreground border-b pb-2 text-left",children:[o.jsx("div",{children:"Utilisateur"}),o.jsx("div",{children:"Rle"}),o.jsx("div",{children:"Ajout le"}),o.jsx("div",{})]}),e.map(S=>{var E,_,k,N,I;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[minmax(0,2fr)_auto_1fr_auto] gap-4 items-center p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium",children:((E=S.first_name)==null?void 0:E[0])||S.email[0].toUpperCase()})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-medium",children:S.first_name&&S.last_name?`${S.first_name} ${S.last_name}`:"Utilisateur"}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:S.email})]})]}),o.jsx("div",{className:"flex items-center gap-2 justify-start",children:o.jsxs(He,{variant:b((_=S.user_roles[0])==null?void 0:_.role),className:"flex items-center gap-1 whitespace-nowrap",children:[q.createElement(y((k=S.user_roles[0])==null?void 0:k.role),{className:"h-3 w-3"}),((N=S.user_roles[0])==null?void 0:N.role)==="admin"?"Administrateur":"Gestionnaire"]})}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(S.created_at).toLocaleDateString("fr-FR")}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(wre,{children:[o.jsx(Sre,{asChild:!0,children:o.jsx(te,{variant:"ghost",size:"sm",children:o.jsx(jM,{className:"h-4 w-4"})})}),o.jsxs(AI,{align:"end",children:[o.jsxs(ax,{onClick:()=>{var C;return w(S.user_id,((C=S.user_roles[0])==null?void 0:C.role)==="admin"?"gestionnaire":"admin")},children:[o.jsx(Fa,{className:"h-4 w-4 mr-2"}),((I=S.user_roles[0])==null?void 0:I.role)==="admin"?"Rtrograder":"Promouvoir admin"]}),o.jsxs(ax,{onClick:()=>v(S.user_id),className:"text-destructive",children:[o.jsx(fd,{className:"h-4 w-4 mr-2"}),"Retirer du workspace"]})]})]})})]},S.user_id)})]})})]})},Nre=()=>{const{user:e,signOut:t}=ht(),{userProfile:n}=Fb(),{currentWorkspace:r}=_i(),i=ea(),{toast:s}=Dt(),[a,l]=x.useState(!1),c=async()=>{try{await t(),s({title:"Dconnect avec succs",description:"Vous avez t dconnect de votre compte."})}catch{s({title:"Erreur de dconnexion",description:"Une erreur est survenue lors de la dconnexion.",variant:"destructive"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Pa,{}),o.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramtres"}),o.jsx("p",{className:"text-muted-foreground",children:"Grez votre compte et vos prfrences"})]}),o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center",children:[o.jsx(qf,{className:"mr-2 h-5 w-5"}),"Informations du compte"]}),o.jsx(vt,{children:"Informations gnrales sur votre compte"})]}),o.jsx(me,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-sm",children:(e==null?void 0:e.email)||"Non renseign"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),o.jsx("p",{className:"text-sm",children:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:"Non renseign"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rle"}),o.jsx("div",{className:"mt-1",children:o.jsx(He,{variant:i.role==="supra_admin"?"default":"secondary",children:i.role})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan du workspace"}),o.jsx("div",{className:"mt-1",children:o.jsx(He,{variant:i.planType==="premium"?"default":"secondary",children:i.planType})})]})]})})]}),o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center",children:[o.jsx(bM,{className:"mr-2 h-5 w-5"}),"Workspace"]}),o.jsx(vt,{children:"Informations sur votre espace de travail"})]}),o.jsx(me,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom du workspace"}),o.jsx("p",{className:"text-sm",children:(r==null?void 0:r.name)||"Aucun workspace"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan"}),o.jsx("p",{className:"text-sm capitalize",children:(r==null?void 0:r.plan_type)||"freemium"})]})]})})]}),(i.role==="admin"||i.isSupraAdmin)&&o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center",children:[o.jsx(Eh,{className:"mr-2 h-5 w-5"}),"quipe du workspace"]}),o.jsx(vt,{children:"Grez les utilisateurs de votre workspace"})]}),o.jsx(me,{children:o.jsx(Pre,{})})]}),i.isSupraAdmin&&o.jsxs(pe,{className:"border-primary/20",children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center text-primary",children:[o.jsx(Gi,{className:"mr-2 h-5 w-5"}),"Administration"]}),o.jsx(vt,{children:"Outils d'administration (Supra Admin uniquement)"})]}),o.jsx(me,{className:"space-y-4",children:o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs(te,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[o.jsx(EM,{className:"mr-2 h-4 w-4"}),"Panneau d'administration"]})})})]}),o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center",children:[o.jsx(AM,{className:"mr-2 h-5 w-5"}),"Actions du compte"]}),o.jsx(vt,{children:"Grez votre session et vos donnes"})]}),o.jsx(me,{className:"space-y-4",children:o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs(T2,{open:a,onOpenChange:l,children:[o.jsx(A2,{asChild:!0,children:o.jsxs(te,{variant:"outline",className:"flex items-center justify-center",children:[o.jsx(oR,{className:"mr-2 h-4 w-4"}),"Se dconnecter"]})}),o.jsxs(Ow,{children:[o.jsxs(Iw,{children:[o.jsx(Fw,{children:"Confirmer la dconnexion"}),o.jsx(Lw,{children:"tes-vous sr de vouloir vous dconnecter ? Vous devrez vous reconnecter pour accder  votre compte."})]}),o.jsxs(Dw,{children:[o.jsx($w,{children:"Annuler"}),o.jsx(Mw,{onClick:c,children:"Se dconnecter"})]})]})]})})})]}),i.isSupraAdmin&&o.jsx(pe,{className:"border-orange-200 bg-orange-50",children:o.jsx(me,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Fa,{className:"h-5 w-5 text-orange-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Statut Supra Administrateur"}),o.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Vous avez accs  toutes les fonctionnalits d'administration. Utilisez ces privilges de manire responsable."})]})]})})})]})]})};function Tre(){const{user:e}=ht(),[t,n]=x.useState({}),[r,i]=x.useState(!1),s=async()=>{i(!0);try{const{data:{session:a},error:l}=await Y.auth.getSession();n(c=>{var u,d;return{...c,session:{exists:!!a,userId:(u=a==null?void 0:a.user)==null?void 0:u.id,email:(d=a==null?void 0:a.user)==null?void 0:d.email,accessToken:a!=null&&a.access_token?"Present":"Missing",error:l==null?void 0:l.message}}})}catch(a){n(l=>({...l,session:{error:a instanceof Error?a.message:String(a)}}))}i(!1)};return o.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Debug Stripe Integration"}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(pe,{children:[o.jsx(we,{children:o.jsx(Se,{children:"Auth Context Info"})}),o.jsxs(me,{className:"space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"User ID:"})," ",(e==null?void 0:e.id)||"Not found"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||"Not found"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subscription Status:"})," Plan type dplac vers GlobalState"]})]})]}),o.jsxs(pe,{children:[o.jsx(we,{children:o.jsx(Se,{children:"Session Test"})}),o.jsxs(me,{className:"space-y-4",children:[o.jsx(te,{onClick:s,disabled:r,children:"Test Session"}),t.session&&o.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(t.session,null,2)})]})]}),o.jsxs(pe,{children:[o.jsx(we,{children:o.jsx(Se,{children:"All Debug Info"})}),o.jsx(me,{children:o.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto max-h-96",children:JSON.stringify(t,null,2)})})]})]})]})}const kd=x.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",e),...t})}));kd.displayName="Table";const Cd=x.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",e),...t}));Cd.displayName="TableHeader";const Rd=x.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",e),...t}));Rd.displayName="TableBody";const Are=x.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Are.displayName="TableFooter";const or=x.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));or.displayName="TableRow";const ot=x.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ot.displayName="TableHead";const Ve=x.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ve.displayName="TableCell";const Ore=x.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",e),...t}));Ore.displayName="TableCaption";async function Zf(e){const{data:t,error:n}=await Y.functions.invoke("get-admin-workspaces",{body:{planFilter:e}});if(n)throw n;return(t==null?void 0:t.data)??[]}async function Ire(e,t=1,n=25){const{data:r,error:i}=await Y.functions.invoke("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function OI(e,t){const{data:n,error:r}=await Y.functions.invoke("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return n}async function Dre(e,t,n){const{data:r,error:i}=await Y.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function Fre(e){const{error:t}=await Y.functions.invoke("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t}async function Lre(e){const{error:t}=await Y.functions.invoke("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function Mre(e,t){const{data:n,error:r}=await Y.functions.invoke("manage-fe-source-assignments",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function $re(e,t){const{data:n,error:r}=await Y.functions.invoke("manage-fe-source-assignments",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function Ure(e,t,n){const{data:r,error:i}=await Y.functions.invoke("manage-fe-source-assignments-bulk",{body:{workspace_id:e,assigned:t,unassigned:n}});if(i)throw i;return r}const zre=()=>{const[e,t]=x.useState("paid"),[n,r]=x.useState([]),[i,s]=x.useState(!0),[a,l]=x.useState(null),[c,u]=x.useState(null),{toast:d}=Dt();x.useEffect(()=>{(async()=>{try{s(!0);const g=await Zf(e);r(g)}catch(g){console.error(g)}finally{s(!1)}})()},[e]);const f=g=>g==="premium"?"default":g==="standard"?"secondary":"outline",p=async(g,m)=>{try{await OI(g,m),d({title:"Plan mis  jour",description:`Nouveau plan: ${m}`});const w=await Zf(e);r(w),l(null)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Mise  jour du plan impossible"})}},h=async(g,m)=>{if(confirm(`Supprimer l'entreprise "${m}" ?`)){u(g);try{await Fre(g),d({title:"Entreprise supprime",description:m});const w=await Zf(e);r(w)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(uu,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(Er,{value:e,onValueChange:g=>t(g),children:[o.jsx(ir,{className:"w-40",children:o.jsx(kr,{placeholder:"Filtre"})}),o.jsxs(sr,{children:[o.jsx(it,{value:"paid",children:"Payantes"}),o.jsx(it,{value:"freemium",children:"Freemium"}),o.jsx(it,{value:"all",children:"Toutes"})]})]})})]})}),o.jsx(me,{children:i?o.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,m)=>o.jsx(br,{className:"h-12 w-full"},m))}):o.jsxs(kd,{children:[o.jsx(Cd,{children:o.jsxs(or,{children:[o.jsx(ot,{children:"Entreprise"}),o.jsx(ot,{children:"Propritaire"}),o.jsx(ot,{children:"Plan"}),o.jsx(ot,{children:"Utilisateurs"}),o.jsx(ot,{children:"Cre le"}),o.jsx(ot,{children:"Actions"})]})}),o.jsxs(Rd,{children:[n.map(g=>o.jsxs(or,{children:[o.jsx(Ve,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uu,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("div",{children:g.name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",g.id.slice(0,8),"..."]})]})]})}),o.jsx(Ve,{children:g.owner_email}),o.jsx(Ve,{children:o.jsx(He,{variant:f(g.plan_type),children:g.plan_type})}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Eh,{className:"h-4 w-4 text-muted-foreground"}),g.user_count]})}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wM,{className:"h-4 w-4 text-muted-foreground"}),new Date(g.created_at).toLocaleDateString("fr-FR")]})}),o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center gap-2",children:a===g.id?o.jsxs(o.Fragment,{children:[o.jsxs(Er,{value:g.plan_type,onValueChange:m=>p(g.id,m),children:[o.jsx(ir,{className:"w-32",children:o.jsx(kr,{})}),o.jsxs(sr,{children:[o.jsx(it,{value:"freemium",children:"Freemium"}),o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Annuler"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>l(g.id),children:[o.jsx(OM,{className:"h-4 w-4 mr-2"}),"Modifier"]}),o.jsx(te,{variant:"destructive",size:"sm",onClick:()=>h(g.id,g.name),disabled:c===g.id,children:c===g.id?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(fd,{className:"h-4 w-4"})})]})})})]},g.id)),n.length===0&&o.jsx(or,{children:o.jsx(Ve,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouve"})})]})]})})]})},Bre=()=>{const[e,t]=x.useState([]),[n,r]=x.useState([]),[i,s]=x.useState(1),[a]=x.useState(25),[l,c]=x.useState(0),[u,d]=x.useState("all"),[f,p]=x.useState(!0),[h,g]=x.useState(null),[m,w]=x.useState(null),[v,y]=x.useState(null),{toast:b}=Dt(),{startImpersonation:S}=UP();x.useEffect(()=>{E(),_()},[]),x.useEffect(()=>{_()},[u,i]);const E=async()=>{try{const A=await Zf("all");r((A||[]).map(F=>({id:F.id,name:F.name})))}catch(A){console.error("Error fetching workspaces:",A)}},_=async()=>{try{p(!0);const{items:A,total:F}=await Ire(u,i,a);t(A),c(F)}catch(A){console.error("Error fetching contacts:",A)}finally{p(!1)}},k=A=>{switch(A){case"premium":return"default";case"standard":return"secondary";case"freemium":return"outline";default:return"outline"}},N=A=>{switch(A){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},I=A=>{switch(A){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return A}},C=async(A,F)=>{g(`plan-${A.workspace_id}`);try{const U=await OI(A.workspace_id,F);b({title:"Plan du workspace mis  jour",description:`Plan chang vers ${F}. ${(U==null?void 0:U.updatedUsers)??0} utilisateur(s) mis  jour.`}),await _()}catch(U){console.error("Error updating workspace plan:",U),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise  jour du plan"})}finally{g(null)}},D=async(A,F)=>{g(`role-${A.user_id}`);try{await Dre(A.user_id,A.workspace_id,F),b({title:"Rle mis  jour",description:`Rle chang vers ${F}`}),await _()}catch(U){console.error("Error updating user role:",U),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise  jour du rle"})}finally{g(null)}},O=async A=>{y(A.user_id);try{if(await S(A.user_id,A.email||"",A.workspace_id,A.company_name||""))b({title:"Impersonation dmarre",description:`Vous tes maintenant connect en tant que ${A.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(F){console.error("Error starting impersonation:",F),b({variant:"destructive",title:"Erreur",description:"Impossible de dmarrer l'impersonation"})}finally{y(null)}},H=async(A,F)=>{if(confirm(`tes-vous sr de vouloir supprimer le contact "${F}" ? Cette action est irrversible et supprimera toutes les donnes associes.`)){w(A);try{await Lre(A),b({title:"Contact supprim",description:`Le contact "${F}" a t supprim avec succs.`}),_()}catch(U){console.error("Error deleting contact:",U),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{w(null)}}};return f?o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(qf,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(br,{className:"h-10 w-full"}),[...Array(5)].map((A,F)=>o.jsx(br,{className:"h-12 w-full"},F))]})})]}):o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(qf,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",o.jsxs(te,{size:"sm",variant:"outline",onClick:()=>{E(),_()},className:"ml-auto",children:[o.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i,"  ",l," rsultats"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(te,{variant:"outline",size:"sm",onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,children:"Prcdent"}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>s(A=>A+1),disabled:i*a>=l,children:"Suivant"})]})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(Er,{value:u,onValueChange:d,children:[o.jsx(ir,{className:"w-64",children:o.jsx(kr,{placeholder:"Filtrer par entreprise"})}),o.jsxs(sr,{children:[o.jsx(it,{value:"all",children:"Toutes les entreprises"}),n.map(A=>o.jsx(it,{value:A.id,children:A.name},A.id))]})]})}),o.jsxs(kd,{children:[o.jsx(Cd,{children:o.jsxs(or,{children:[o.jsx(ot,{children:"Contact"}),o.jsx(ot,{children:"Email"}),o.jsx(ot,{children:"Entreprise"}),o.jsx(ot,{children:"Plan"}),o.jsx(ot,{children:"Rle"}),o.jsx(ot,{children:"Ajout le"}),o.jsx(ot,{children:"Actions"})]})}),o.jsxs(Rd,{children:[e.map(A=>o.jsxs(or,{children:[o.jsx(Ve,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qf,{className:"h-4 w-4 text-muted-foreground"}),A.first_name||A.last_name?`${A.first_name} ${A.last_name}`.trim():"Nom non renseign"]})}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cb,{className:"h-4 w-4 text-muted-foreground"}),A.email]})}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uu,{className:"h-4 w-4 text-muted-foreground"}),A.company_name]})}),o.jsx(Ve,{children:o.jsx(He,{variant:k(A.company_plan||"freemium"),children:A.company_plan})}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gi,{className:"h-4 w-4"}),o.jsx(He,{variant:N(A.role),children:I(A.role)})]})}),o.jsx(Ve,{children:new Date(A.created_at).toLocaleDateString("fr-FR")}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(te,{variant:"secondary",size:"sm",onClick:()=>O(A),disabled:v===A.user_id||(h==null?void 0:h.includes(A.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===A.user_id?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):o.jsx(FM,{className:"h-4 w-4"})}),o.jsxs(Er,{value:A.company_plan||"freemium",onValueChange:F=>C(A,F),disabled:h===`plan-${A.workspace_id}`,children:[o.jsx(ir,{className:"w-24",children:o.jsx(kr,{})}),o.jsxs(sr,{children:[o.jsx(it,{value:"freemium",children:"Freemium"}),o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]}),o.jsxs(Er,{value:A.role,onValueChange:F=>D(A,F),disabled:h===`role-${A.user_id}`,children:[o.jsx(ir,{className:"w-32",children:o.jsx(kr,{})}),o.jsxs(sr,{children:[o.jsx(it,{value:"admin",children:"Administrateur"}),o.jsx(it,{value:"gestionnaire",children:"Gestionnaire"}),o.jsx(it,{value:"lecteur",children:"Lecteur"})]})]}),o.jsx(te,{variant:"destructive",size:"sm",onClick:()=>H(A.user_id,A.email||""),disabled:m===A.user_id||(h==null?void 0:h.includes(A.user_id)),children:m===A.user_id?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(fd,{className:"h-4 w-4"})}),(h===`plan-${A.workspace_id}`||h===`role-${A.user_id}`)&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},A.id)),e.length===0&&o.jsx(or,{children:o.jsx(Ve,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouv"})})]})]})]})]})},II=q.createContext(void 0),Hre=({children:e})=>{const[t,n]=q.useState([]),[r,i]=q.useState(!0),s=q.useRef(0),a=q.useCallback(async(c=!1)=>{const u=Date.now();if(!c&&u-s.current<5e3)return;s.current=u,i(!0);const{data:d,error:f}=await Y.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");f||n(d||[]),i(!1)},[]);q.useEffect(()=>{a(!0)},[a]),q.useEffect(()=>{const c=Y.channel("fe-sources-realtime").on("postgres_changes",{event:"*",schema:"public",table:"fe_sources",filter:"is_global=eq.true"},()=>{a(!0)}).subscribe();return()=>{Y.removeChannel(c)}},[a]);const l=q.useMemo(()=>({sources:t,refresh:()=>a(!0),loading:r}),[t,a,r]);return o.jsx(II.Provider,{value:l,children:e})};function DI(){const e=q.useContext(II);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const qre=()=>{const[e,t]=x.useState([]),[n,r]=x.useState({}),{toast:i}=Dt(),{sources:s,refresh:a,loading:l}=DI();x.useEffect(()=>{const h=(s||[]).map(g=>({source:g.source_name,current_tier:g.access_level,standard_count:g.access_level==="standard"?1:0,premium_count:g.access_level==="premium"?1:0,total_count:1}))||[];t(h)},[s]);const c=x.useCallback(async(h,g)=>{r(m=>({...m,[h]:{loading:!0,success:!1}}));try{console.log(` Starting update for source: ${h} to tier: ${g}`);const{error:m}=await Y.from("fe_sources").update({access_level:g}).eq("source_name",h);if(m)throw m;console.log(` Successfully updated source ${h} to ${g}`),r(w=>({...w,[h]:{loading:!1,success:!0}})),await a(),i({title:"Succs",description:`Source "${h}" mise  jour vers ${g}`}),setTimeout(()=>{r(w=>({...w,[h]:{loading:!1,success:!1}}))},3e3)}catch(m){console.error(" Error updating source tier:",m),r(w=>({...w,[h]:{loading:!1,success:!1}})),i({title:"Erreur de mise  jour",description:m instanceof Error?m.message:"Impossible de mettre  jour le niveau d'accs",variant:"destructive"})}},[i,a]),u=l,d=h=>h==="premium"?"default":"secondary",f=h=>h==="premium"?Fa:Gi,p=h=>{const g=n[h.source];return g!=null&&g.loading?o.jsxs(o.Fragment,{children:[o.jsx(La,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise  jour..."]}):g!=null&&g.success?o.jsxs(o.Fragment,{children:[o.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Termin"]}):h.current_tier==="standard"?o.jsxs(o.Fragment,{children:[o.jsx(Fa,{className:"h-3 w-3 mr-1"}),"Passer en Premium"]}):o.jsxs(o.Fragment,{children:[o.jsx(Gi,{className:"h-3 w-3 mr-1"}),"Passer en Standard"]})};return u?o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(Hf,{className:"h-5 w-5"}),"Gestion des Accs aux Sources de Donnes"]})}),o.jsx(me,{children:o.jsx("div",{className:"space-y-3",children:[...Array(6)].map((h,g)=>o.jsx(br,{className:"h-12 w-full"},g))})})]}):o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(Hf,{className:"h-5 w-5"}),"Gestion des Accs aux Sources de Donnes",o.jsxs(te,{size:"sm",variant:"outline",onClick:()=>a(),className:"ml-auto",children:[o.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Grez les niveaux d'accs des sources de facteurs d'mission.",o.jsx("br",{}),o.jsx("span",{className:"font-medium",children:"Standard"})," : accessible  tous les utilisateurs",o.jsx("br",{}),o.jsx("span",{className:"font-medium",children:"Premium"})," : accessible uniquement aux utilisateurs premium"]})]}),o.jsx(me,{children:o.jsxs(kd,{children:[o.jsx(Cd,{children:o.jsxs(or,{children:[o.jsx(ot,{children:"Source"}),o.jsx(ot,{children:"Niveau actuel"}),o.jsx(ot,{children:"Facteurs Standard"}),o.jsx(ot,{children:"Facteurs Premium"}),o.jsx(ot,{children:"Total"}),o.jsx(ot,{children:"Actions"})]})}),o.jsxs(Rd,{children:[e.map(h=>{const g=f(h.current_tier),m=n[h.source];return o.jsxs(or,{children:[o.jsx(Ve,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hf,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"truncate max-w-[200px]",title:h.source,children:h.source})]})}),o.jsx(Ve,{children:o.jsxs(He,{variant:d(h.current_tier),children:[o.jsx(g,{className:"h-3 w-3 mr-1"}),h.current_tier==="premium"?"Premium":"Standard"]})}),o.jsx(Ve,{children:o.jsx("span",{className:"text-muted-foreground",children:h.standard_count})}),o.jsx(Ve,{children:o.jsx("span",{className:"text-muted-foreground",children:h.premium_count})}),o.jsx(Ve,{children:o.jsx("span",{className:"font-medium",children:h.total_count})}),o.jsx(Ve,{children:o.jsx(te,{size:"sm",variant:m!=null&&m.success?"default":"outline",onClick:()=>c(h.source,h.current_tier==="standard"?"premium":"standard"),disabled:m==null?void 0:m.loading,children:p(h)})})]},h.source)}),e.length===0&&o.jsx(or,{children:o.jsx(Ve,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de donnes trouve"})})]})]})})]})},Wre=()=>{const[e,t]=x.useState([]),{sources:n,refresh:r}=DI(),[i,s]=x.useState([]),[a,l]=x.useState(!0),[c,u]=x.useState(""),[d,f]=x.useState(new Set),[p,h]=x.useState({}),{toast:g}=Dt(),m=S=>S==="premium"?"default":"secondary",w=x.useCallback(async()=>{const{data:S,error:E}=await Y.functions.invoke("get-admin-workspaces",{body:{planFilter:"all"}});if(E)throw E;const _=((S==null?void 0:S.data)||[]).map(k=>({id:k.id,name:k.name,plan_type:k.plan_type}));t(_),!c&&_.length&&u(_[0].id)},[c]),v=x.useCallback(async S=>{if(!S){f(new Set);return}const{data:E,error:_}=await Y.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",S);if(_)throw _;f(new Set((E||[]).map(k=>k.source_name)))},[]),y=x.useCallback(()=>{c&&v(c).catch(()=>{})},[c,v]);_7(c,y),x.useEffect(()=>{s(n||[])},[n]),x.useEffect(()=>{(async()=>{try{l(!0),await w()}catch(S){console.error(S),g({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{l(!1)}})()},[w,g]),x.useEffect(()=>{(async()=>{try{c&&(l(!0),await v(c))}catch(S){console.error(S)}finally{l(!1)}})()},[c,v]);const b=x.useCallback(async(S,E)=>{if(c){h(_=>({..._,[S]:!0}));try{E?(await Mre(S,c),f(_=>new Set(_).add(S))):(await $re(S,c),f(_=>{const k=new Set(_);return k.delete(S),k}))}catch(_){console.error(_),g({title:"Erreur",description:"Mise  jour impossible",variant:"destructive"})}finally{h(_=>({..._,[S]:!1}))}}},[c,g]);return a?o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(uu,{className:"h-5 w-5"}),"Assignations Sources  Workspaces"]})}),o.jsx(me,{children:o.jsx("div",{className:"space-y-3",children:[...Array(5)].map((S,E)=>o.jsx(br,{className:"h-12 w-full"},E))})})]}):o.jsxs(pe,{children:[o.jsx(we,{children:o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(uu,{className:"h-5 w-5"}),"Assignations Sources  Workspaces",o.jsxs(te,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>c&&v(c))},className:"ml-auto",children:[o.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),o.jsx(te,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(c)try{const S=i.filter(C=>C.access_level==="premium").map(C=>C.source_name),E=i.filter(C=>C.access_level==="standard").map(C=>C.source_name),_=S.filter(C=>d.has(C)),k=S.filter(C=>!d.has(C)),N=[...E,..._],I=k;await Ure(c,N,I),g({title:"Synchronisation russie",description:`Assigns: ${N.length}  Dsassigns: ${I.length}`}),await v(c)}catch(S){console.error(S),g({title:"Erreur",description:(S==null?void 0:S.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),o.jsxs(me,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs(Er,{value:c,onValueChange:u,children:[o.jsx(ir,{className:"w-96",children:o.jsx(kr,{placeholder:"Slectionner un workspace"})}),o.jsx(sr,{children:e.map(S=>o.jsx(it,{value:S.id,children:S.name},S.id))})]})})}),o.jsxs(kd,{children:[o.jsx(Cd,{children:o.jsxs(or,{children:[o.jsx(ot,{children:"Source"}),o.jsx(ot,{children:"Access level"}),o.jsx(ot,{children:"Activer"}),o.jsx(ot,{children:"Dsactiver"})]})}),o.jsxs(Rd,{children:[i.map(S=>{const E=S.access_level==="standard"||d.has(S.source_name),_=!!p[S.source_name],k=S.access_level==="premium";return o.jsxs(or,{children:[o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hf,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:S.source_name})]})}),o.jsx(Ve,{children:o.jsx(He,{variant:m(S.access_level),children:S.access_level})}),o.jsx(Ve,{children:_?o.jsx(La,{className:"h-4 w-4 animate-spin"}):o.jsx(Zi,{checked:E,onCheckedChange:()=>k&&b(S.source_name,!0),disabled:!c||!k})}),o.jsx(Ve,{children:_?o.jsx(La,{className:"h-4 w-4 animate-spin"}):o.jsx(Zi,{checked:!E,onCheckedChange:()=>k&&b(S.source_name,!1),disabled:!c||!k})})]},S.source_name)}),i.length===0&&o.jsx(or,{children:o.jsx(Ve,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouve"})})]})]})]})]})},Vre=()=>{const[e,t]=q.useState("access");return o.jsxs(Dh,{value:e,onValueChange:n=>t(n),className:"w-full",children:[o.jsxs(wu,{children:[o.jsx(Zn,{value:"access",children:"Accs aux sources"}),o.jsx(Zn,{value:"assignments",children:"Assignations"})]}),o.jsx("div",{className:"mt-4"}),e==="access"&&o.jsx(er,{value:"access",asChild:!0,children:o.jsx("div",{children:o.jsx(qre,{})})}),e==="assignments"&&o.jsx(er,{value:"assignments",asChild:!0,children:o.jsx("div",{children:o.jsx(Wre,{})})})]})},Qre=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(!1),[a,l]=x.useState(!1),{toast:c}=Dt(),u=()=>{const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let g="";for(let m=0;m<16;m++)g+=h.charAt(Math.floor(Math.random()*h.length));r(g)},d=async p=>{p.preventDefault(),l(!0);try{const{data:{session:h}}=await Y.auth.getSession();if(!h){c({title:"Erreur d'authentification",description:"Vous devez tre connect pour effectuer cette action.",variant:"destructive"});return}const g=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h.access_token}`},body:JSON.stringify({email:e,password:n})}),m=await g.json();g.ok&&m.success?(c({title:"Succs",description:m.message}),t(""),r("")):c({title:"Erreur",description:m.error||"Une erreur est survenue lors de la cration du compte.",variant:"destructive"})}catch(h){console.error("Error creating supra admin:",h),c({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{l(!1)}},f=p=>p.length>=12&&/[A-Z]/.test(p)&&/[a-z]/.test(p)&&/[0-9]/.test(p)&&/[!@#$%^&*]/.test(p);return o.jsxs(pe,{className:"w-full max-w-md",children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(lR,{className:"h-5 w-5"}),"Crer un Supra Admin"]}),o.jsx(vt,{children:"Crer un nouveau compte super administrateur avec des privilges levs."})]}),o.jsx(me,{children:o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),placeholder:"admin@example.com",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"password",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ot,{id:"password",type:i?"text":"password",value:n,onChange:p=>r(p.target.value),placeholder:"Mot de passe scuris",required:!0,className:"pr-10"}),o.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?o.jsx(kM,{className:"h-4 w-4"}):o.jsx(sR,{className:"h-4 w-4"})})]}),o.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Gnrer un mot de passe scuris"})]}),n&&o.jsx(fn,{children:o.jsxs(hn,{children:["Force du mot de passe: ",f(n)?" Fort":" Faible",!f(n)&&o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractres, incluant majuscules, minuscules, chiffres et symboles."})]})}),o.jsx(te,{type:"submit",className:"w-full",disabled:a||!f(n),children:a?"Cration en cours...":"Crer le compte"})]})})]})},Kre=()=>{const[e,t]=x.useState(!1),{toast:n}=Dt(),r=async()=>{t(!0);try{const{data:{session:i}}=await Y.auth.getSession();if(!i){n({title:"Erreur d'authentification",description:"Vous devez tre connect pour effectuer cette action.",variant:"destructive"});return}const s=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/cleanup-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),a=await s.json();s.ok&&a.success?n({title:"Nettoyage termin",description:a.message}):n({title:"Erreur",description:a.error||"Une erreur est survenue lors du nettoyage.",variant:"destructive"})}catch(i){console.error("Error during cleanup:",i),n({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return o.jsxs(pe,{className:"w-full max-w-md",children:[o.jsxs(we,{children:[o.jsxs(Se,{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"h-5 w-5"}),"Nettoyage des Comptes Orphelins"]}),o.jsx(vt,{children:"Supprimer les comptes auth.users qui n'ont pas d'entre correspondante dans la table users."})]}),o.jsxs(me,{children:[o.jsxs(fn,{className:"mb-4",children:[o.jsx($a,{className:"h-4 w-4"}),o.jsx(hn,{children:"Cette action supprimera dfinitivement les comptes orphelins. Cette action ne peut pas tre annule."})]}),o.jsxs(T2,{children:[o.jsx(A2,{asChild:!0,children:o.jsx(te,{variant:"destructive",className:"w-full",disabled:e,children:e?"Nettoyage en cours...":"Nettoyer les comptes orphelins"})}),o.jsxs(Ow,{children:[o.jsxs(Iw,{children:[o.jsx(Fw,{children:"Confirmer le nettoyage"}),o.jsx(Lw,{children:"tes-vous sr de vouloir supprimer tous les comptes orphelins ? Cette action supprimera dfinitivement les comptes auth.users qui n'ont pas d'entre correspondante dans la table users. Cette action ne peut pas tre annule."})]}),o.jsxs(Dw,{children:[o.jsx($w,{children:"Annuler"}),o.jsx(Mw,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmer la suppression"})]})]})]})]})]})},Gre=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(null),{toast:i}=Dt(),s=async()=>{t(!0),r(null);try{const{data:{session:a}}=await Y.auth.getSession();if(!a){i({title:"Erreur d'authentification",description:"Vous devez tre connect pour effectuer cette action.",variant:"destructive"});return}const l=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/fix-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`}}),c=await l.json();l.ok&&c.success?(r(c),i({title:"Rparation termine",description:c.message})):i({title:"Erreur",description:c.error||"Une erreur est survenue lors de la rparation.",variant:"destructive"})}catch(a){console.error("Error during repair:",a),i({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return o.jsx("div",{className:"space-y-4",children:o.jsxs(pe,{className:"w-full max-w-2xl",children:[o.jsxs(we,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Eh,{className:"h-5 w-5"}),o.jsx(Se,{children:"Rparation des utilisateurs orphelins"})]}),o.jsx(vt,{children:"Rpare les utilisateurs qui existent dans auth.users mais pas dans public.users. Cette situation peut survenir si la fonction handle_new_user a chou lors de l'inscription."})]}),o.jsxs(me,{className:"space-y-4",children:[o.jsxs(fn,{children:[o.jsx($a,{className:"h-4 w-4"}),o.jsxs(hn,{children:[o.jsx("strong",{children:"Attention :"})," Cette opration va crer des workspaces et des profils utilisateur pour tous les utilisateurs orphelins trouvs. Utilisez cette fonction uniquement si vous identifiez des incohrences dans les donnes."]})]}),o.jsx(te,{onClick:s,disabled:e,className:"w-full",variant:"destructive",children:e?o.jsxs(o.Fragment,{children:[o.jsx(La,{className:"w-4 h-4 mr-2 animate-spin"}),"Rparation en cours..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Rparer les utilisateurs orphelins"]})}),n&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs(fn,{className:n.success?"border-green-200 bg-green-50":"border-destructive",children:[o.jsx(Ht,{className:"h-4 w-4"}),o.jsxs(hn,{children:[o.jsx("strong",{children:"Rsultat :"})," ",n.message]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:n.orphanUsersFound}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Utilisateurs orphelins trouvs"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.usersRepaired}),o.jsx("div",{className:"text-sm text-green-700",children:"Utilisateurs rpars"})]})]}),n.repairedUsers.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Utilisateurs rpars :"}),o.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:n.repairedUsers.map(a=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:a.email}),o.jsx("div",{className:"text-muted-foreground",children:a.workspace_name})]}),o.jsxs(He,{variant:"outline",className:"text-xs",children:[a.workspace_id.slice(0,8),"..."]})]},a.user_id))})]})]})]})]})})},Yre=()=>{const{toast:e}=Dt(),{isSupraAdmin:t}=Bp(),[n,r]=q.useState(null),[i,s]=q.useState(!1),[a,l]=q.useState(0),[c,u]=q.useState(null),[d,f]=q.useState([]),[p,h]=q.useState(!1),[g,m]=q.useState([]),[w,v]=q.useState(!1),[y,b]=q.useState("idle"),[S,E]=q.useState(null),[_,k]=q.useState(!0),N=()=>{const F=["ID","Nom","Nom_en","Description","Description_en","FE","Unit donne d'activit","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Primtre","Primtre_en","Contributeur","Commentaires","Commentaires_en"],U=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Base Carbone v23.6","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],B=[F.join(","),U.join(",")].join(`
`),R=new Blob([B],{type:"text/csv;charset=utf-8;"}),T=URL.createObjectURL(R),j=document.createElement("a");j.href=T,j.download="template_import_emission_factors_bilingue.csv",j.click(),URL.revokeObjectURL(T)},I=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Slectionnez un fichier CSV."});return}try{s(!0),l(0),console.log(" Analyse filename original:",{name:n.name,length:n.name.length,charCodes:n.name.split("").map(T=>`${T}(${T.charCodeAt(0)})`),hasNonAscii:/[^\x00-\x7F]/.test(n.name),hasSpaces:n.name.includes(" "),hasDashes:n.name.includes("-"),hasSpecialChars:/[^a-zA-Z0-9.-]/.test(n.name)});let F=n.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);const U=n.name.toLowerCase().endsWith(".xlsx")?".xlsx":".csv";F.endsWith(U)||(F=F.replace(/\.[^.]*$/,"")+U);const B=`${Date.now()}_${F}`;console.log(" Debug transformation complte:",{"1_original":n.name,"2_clean":F,"3_finalPath":B,"4_pathLength":B.length,"5_onlyAllowedChars":/^[a-z0-9_.]+$/.test(B)});const{error:R}=await Y.storage.from("imports").upload(B,n,{upsert:!0});if(R)throw R;u(B),l(100),h(!1),f([]),e({title:"Upload termin",description:B})}catch(F){e({variant:"destructive",title:"Erreur upload",description:F.message||String(F)})}finally{s(!1)}},C=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier."});return}try{const{data:F,error:U}=await Y.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!0}});if(U)throw U;const B=((F==null?void 0:F.sources)||[]).map(P=>({name:P.name,count:P.count,access_level:P.access_level||"standard",is_global:typeof P.is_global=="boolean"?P.is_global:!0}));f(B),h(!0),e({title:"Analyse termine",description:`${(F==null?void 0:F.processed)||0} lignes valides; ${B.length} sources dtectes`});const R=Number(F==null?void 0:F.processed)||B.reduce((P,Q)=>P+(Number(Q.count)||0),0);if(!window.confirm(`Lancer l'import maintenant ?
Sources: ${B.length}  Lignes valides: ${R}`))return;const j={};B.forEach(P=>{j[P.name]={access_level:P.access_level,is_global:P.is_global}}),b("importing"),E("Import en cours (la synchronisation Algolia par source seffectue automatiquement)");const{data:M,error:$}=await Y.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:j,replace_all:_}});if($)throw $;e({title:"Import lanc",description:`Job: ${(M==null?void 0:M.import_id)||"en file"}`});try{const{data:P,error:Q}=await Y.functions.invoke("reindex-ef-all-atomic",{body:{}});if(Q)throw Q;b("success"),E("Import termin. Reindex Algolia atomique effectu.")}catch(P){b("error"),E(`Import OK mais reindex Algolia a chou: ${(P==null?void 0:P.message)||String(P)}`)}await O()}catch(F){e({variant:"destructive",title:"Erreur import",description:F.message||String(F)}),b("error"),E(F!=null&&F.message?String(F.message):"Erreur lors de l'import.")}},D=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier avant de lancer l'import."});return}if(!p||d.length===0){e({variant:"destructive",title:"Analyse requise",description:"Cliquez d'abord sur Analyser puis Importer."});return}try{const F={};d.forEach(R=>{F[R.name]={access_level:R.access_level,is_global:R.is_global}}),b("importing"),E("Import en cours (la synchronisation Algolia par source seffectue automatiquement)");const{data:U,error:B}=await Y.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:F,replace_all:_}});if(B)throw B;e({title:"Import lanc",description:`Job: ${(U==null?void 0:U.import_id)||"en file"}`});try{const{error:R}=await Y.functions.invoke("reindex-ef-all-atomic",{body:{}});if(R)throw R;b("success"),E("Import termin. Reindex Algolia atomique effectu.")}catch(R){b("error"),E(`Import OK mais reindex Algolia a chou: ${(R==null?void 0:R.message)||String(R)}`)}await O()}catch(F){e({variant:"destructive",title:"Erreur import",description:F.message||String(F)}),b("error"),E(F!=null&&F.message?String(F.message):"Erreur lors de l'import.")}},O=q.useCallback(async()=>{try{v(!0);const{data:F,error:U}=await Y.from("data_imports").select("id,status,processed,failed,started_at,finished_at").order("started_at",{ascending:!1}).limit(50);if(U)throw U;const B=(F||[]).map(R=>({id:R.id,status:R.status,processed:R.processed??null,failed:R.failed??null,started_at:R.started_at}));m(B)}catch{}finally{v(!1)}},[]);if(q.useEffect(()=>{O();const F=setInterval(O,5e3);return()=>clearInterval(F)},[O]),!t)return null;const H=F=>f(U=>U.map(B=>({...B,access_level:F}))),A=F=>f(U=>U.map(B=>({...B,is_global:F})));return o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsx(Se,{children:"Import de la base de facteurs (FR/EN)"}),o.jsx(vt,{children:"L\\'indexation Algolia est automatique via Webhook aprs import.  tape 1: Uploader le fichier vers le Storage.  tape 2: Analyser pour dtecter les sources et prparer le mapping (Standard/Premium, Global oui/non).  tape 3: Importer. La synchronisation Algolia par source s\\'excute automatiquement."})]}),o.jsxs(me,{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:o.jsx(te,{variant:"secondary",onClick:N,children:"Tlcharger le template CSV"})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wt,{children:"Fichier CSV"}),o.jsx(da,{children:o.jsxs(uo,{children:[o.jsx(fo,{asChild:!0,children:o.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),o.jsx(fa,{children:"Slectionnez le fichier CSV ou XLSX export depuis la Base Carbone (ou template compatible). Les colonnes FR/EN sont supportes. XLSX recommand pour gros fichiers."})]})})]}),o.jsx(Ot,{type:"file",accept:".csv,.xlsx,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:F=>{var U;return r(((U=F.target.files)==null?void 0:U[0])||null)}}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(da,{children:o.jsxs(uo,{children:[o.jsx(fo,{asChild:!0,children:o.jsx(te,{onClick:I,disabled:!n||i,children:i?`Upload... ${a}%`:"Uploader vers Storage"})}),o.jsx(fa,{children:"Envoie le fichier sur Supabase Storage (bucket imports). Obligatoire avant analyse."})]})}),c&&o.jsx("span",{className:"text-xs text-muted-foreground break-all",children:c})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(da,{children:o.jsxs(uo,{children:[o.jsx(fo,{asChild:!0,children:o.jsx(te,{onClick:C,disabled:!c,children:"Analyser puis Importer"})}),o.jsx(fa,{children:"Analyse le CSV et propose immdiatement de lancer l'import. Vous pouvez annuler pour ajuster le mapping."})]})}),p&&d.length>0&&o.jsx(da,{children:o.jsxs(uo,{children:[o.jsx(fo,{asChild:!0,children:o.jsx(te,{variant:"secondary",onClick:D,children:"Importer avec ce mapping"})}),o.jsx(fa,{children:"Utilise le mapping affich ci-dessous sans relancer l'analyse."})]})})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wt,{children:"Sources dtectes (aprs analyse)"}),o.jsx(da,{children:o.jsxs(uo,{children:[o.jsx(fo,{asChild:!0,children:o.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),o.jsx(fa,{children:"Choisissez l\\'accs par source: Standard ou Premium. Global = visible par toutes les workspaces; sinon, assignable."})]})})]}),d.length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune source dtecte. Lancez l\\'analyse aprs upload."}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Appliquer  toutes:"}),o.jsxs(Er,{onValueChange:F=>H(F),children:[o.jsx(ir,{className:"w-40",children:o.jsx(kr,{placeholder:"Accs"})}),o.jsxs(sr,{children:[o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>A(!0),children:"Global: Oui"}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>A(!1),children:"Global: Non"})]}),o.jsx("div",{className:"overflow-auto border rounded-md",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-muted",children:[o.jsx("th",{className:"p-2 text-left",children:"Source"}),o.jsx("th",{className:"p-2 text-right",children:"Lignes"}),o.jsx("th",{className:"p-2 text-left",children:"Accs"}),o.jsx("th",{className:"p-2 text-left",children:"Global"})]})}),o.jsx("tbody",{children:d.map((F,U)=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"p-2",children:F.name}),o.jsx("td",{className:"p-2 text-right",children:F.count}),o.jsx("td",{className:"p-2",children:o.jsxs(Er,{value:F.access_level,onValueChange:B=>f(R=>R.map((T,j)=>j===U?{...T,access_level:B}:T)),children:[o.jsx(ir,{className:"w-36",children:o.jsx(kr,{})}),o.jsxs(sr,{children:[o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]})}),o.jsx("td",{className:"p-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:F.is_global,onChange:B=>f(R=>R.map((T,j)=>j===U?{...T,is_global:B.target.checked}:T))}),o.jsx("span",{children:"Global"})]})})]},F.name))})]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wt,{children:"Historique des imports"}),o.jsx(da,{children:o.jsxs(uo,{children:[o.jsx(fo,{asChild:!0,children:o.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),o.jsx(fa,{children:"Liste des imports rcents et leur statut."})]})})]}),o.jsx("div",{className:"overflow-auto border rounded-md",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-muted",children:[o.jsx("th",{className:"p-2 text-left",children:"Date"}),o.jsx("th",{className:"p-2 text-left",children:"Statut"}),o.jsx("th",{className:"p-2 text-right",children:"Traites"}),o.jsx("th",{className:"p-2 text-right",children:"checs"})]})}),o.jsx("tbody",{children:w?o.jsx("tr",{children:o.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):g.length===0?o.jsx("tr",{children:o.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):g.map(F=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(F.started_at).toLocaleString()}),o.jsx("td",{className:"p-2",children:F.status??"-"}),o.jsx("td",{className:"p-2 text-right",children:F.processed??"-"}),o.jsx("td",{className:"p-2 text-right",children:F.failed??"-"})]},F.id))})]})})]}),y!=="idle"&&o.jsxs("div",{className:"space-y-2 p-4 border rounded-md",children:[y==="importing"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:S}),o.jsx("div",{className:"w-full h-2 bg-muted rounded-md overflow-hidden",children:o.jsx("div",{className:"h-2 w-2/3 bg-primary animate-pulse"})})]}),y==="success"&&o.jsx("div",{className:"text-sm text-green-700",children:S}),y==="error"&&o.jsx("div",{className:"text-sm text-red-700",children:S})]})]})]})},Xre=()=>{const[e,t]=x.useState(null),[n,r]=x.useState([]),[i,s]=x.useState([]),[a,l]=x.useState(!1),[c,u]=x.useState(!0),d=x.useCallback(async()=>{try{u(!0);const v=Fn.getMetrics();t(v);const y=Fn.generateRecommendations();r(y)}catch(v){console.error("Error loading performance data:",v)}finally{u(!1)}},[]);x.useEffect(()=>{d();const v=setInterval(d,3e4),y=b=>{s(S=>[b,...S.slice(0,9)])};return Fn.onAlert(y),()=>{clearInterval(v),Fn.offAlert(y)}},[d]);const f=x.useCallback(async()=>{const v=Fn.autoTune();v.cacheAdjustments.increaseTTL&&console.log("Applying cache adjustments:",v.cacheAdjustments),v.throttlingAdjustments.reduceMaxRequestsPerSecond&&console.log("Applying throttling adjustments:",v.throttlingAdjustments),v.debounceAdjustments.increaseDelay&&console.log("Applying debounce adjustments:",v.debounceAdjustments),await d()},[d]),p=x.useCallback(()=>{Fn.reset(),qt.clear(),Ui.clear(),s([]),d()},[d]);if(c||!e)return o.jsxs("div",{className:"flex items-center justify-center h-64",children:[o.jsx(Ma,{className:"h-8 w-8 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Chargement des mtriques..."})]});const h=v=>v>=1e6?`${(v/1e6).toFixed(1)}M`:v>=1e3?`${(v/1e3).toFixed(1)}K`:v.toString(),g=v=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(v),m=v=>{switch(v){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"default"}},w=()=>e.totalRequests===0?100:e.successfulRequests/e.totalRequests*100;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Performance Algolia"}),o.jsx("p",{className:"text-gray-600",children:"Monitoring et optimisation en temps rel"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(te,{onClick:d,variant:"outline",children:[o.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Actualiser"]}),o.jsxs(te,{onClick:f,variant:"outline",children:[o.jsx(fu,{className:"h-4 w-4 mr-2"}),"Auto-tuning"]}),o.jsx(te,{onClick:p,variant:"destructive",children:"Reset"})]})]}),i.length>0&&o.jsxs(fn,{className:"border-orange-200 bg-orange-50",children:[o.jsx($a,{className:"h-4 w-4"}),o.jsxs(hn,{children:[o.jsxs("strong",{children:[i.length," alerte(s) active(s)"]}),o.jsx("div",{className:"mt-2 space-y-1",children:i.slice(0,3).map((v,y)=>o.jsxs("div",{className:"text-sm",children:[" ",v.message]},y))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(pe,{children:[o.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Se,{className:"text-sm font-medium",children:"Requtes totales"}),o.jsx(IM,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsx("div",{className:"text-2xl font-bold",children:h(e.totalRequests)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h(e.searchesPerMinute)," par minute"]})]})]}),o.jsxs(pe,{children:[o.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Se,{className:"text-sm font-medium",children:"Taux de succs"}),o.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[w().toFixed(1),"%"]}),o.jsx(tl,{value:w(),className:"mt-2"})]})]}),o.jsxs(pe,{children:[o.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Se,{className:"text-sm font-medium",children:"Temps de rponse"}),o.jsx(jh,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[e.averageResponseTime.toFixed(0),"ms"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["P95: ",e.p95ResponseTime.toFixed(0),"ms"]})]})]}),o.jsxs(pe,{children:[o.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Se,{className:"text-sm font-medium",children:"conomies"}),o.jsx(DM,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:g(e.estimatedCostSavings)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h(e.totalRequestsSaved)," requtes conomises"]})]})]})]}),o.jsxs(Dh,{defaultValue:"overview",className:"space-y-4",children:[o.jsxs(wu,{children:[o.jsx(Zn,{value:"overview",children:"Vue d'ensemble"}),o.jsx(Zn,{value:"cache",children:"Cache"}),o.jsx(Zn,{value:"recommendations",children:"Recommandations"}),o.jsx(Zn,{value:"details",children:"Dtails"})]}),o.jsx(er,{value:"overview",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsx(Se,{children:"Performance du Cache"}),o.jsx(vt,{children:"Efficacit du systme de cache"})]}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Taux de hit"}),o.jsxs("span",{className:"font-bold",children:[e.cacheHitRate.toFixed(1),"%"]})]}),o.jsx(tl,{value:e.cacheHitRate}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Dduplication"}),o.jsxs("span",{className:"font-bold",children:[e.deduplicationRate.toFixed(1),"%"]})]}),o.jsx(tl,{value:e.deduplicationRate})]})})]}),o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsx(Se,{children:"Termes de recherche populaires"}),o.jsx(vt,{children:"Les recherches les plus frquentes"})]}),o.jsx(me,{children:o.jsx("div",{className:"space-y-2",children:e.topSearchTerms.slice(0,5).map((v,y)=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:v}),o.jsxs(He,{variant:"secondary",children:["#",y+1]})]},y))})})]})]})}),o.jsx(er,{value:"cache",className:"space-y-4",children:o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsx(Se,{children:"Statistiques du cache"}),o.jsx(vt,{children:"Dtails de performance du systme de cache"})]}),o.jsx(me,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[e.cacheHitRate.toFixed(1),"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Taux de hit"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold",children:h(e.cacheSize)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Entres en cache"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold",children:h(e.duplicateRequestsAvoided)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Doublons vits"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold",children:h(e.throttledRequests)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Requtes throttles"})]})]})})]})}),o.jsx(er,{value:"recommendations",className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[n.map((v,y)=>o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Se,{className:"text-lg",children:v.title}),o.jsx(He,{variant:m(v.priority),children:v.priority})]}),o.jsx(vt,{children:v.description})]}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Impact:"})," ",v.impact]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Action recommande:"})," ",v.action]}),v.estimatedSavings&&v.estimatedSavings>0&&o.jsxs("div",{children:[o.jsx("strong",{children:"conomies estimes:"})," ",g(v.estimatedSavings)]})]})})]},y)),n.length===0&&o.jsx(pe,{children:o.jsx(me,{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ht,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Systme optimis"}),o.jsx("p",{className:"text-muted-foreground",children:"Aucune recommandation d'optimisation pour le moment."})]})})})]})}),o.jsx(er,{value:"details",className:"space-y-4",children:o.jsxs(pe,{children:[o.jsxs(we,{children:[o.jsx(Se,{children:"Mtriques dtailles"}),o.jsx(vt,{children:"Donnes compltes de performance"})]}),o.jsx(me,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Requtes russies:"})," ",h(e.successfulRequests)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Requtes choues:"})," ",h(e.failedRequests)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"P99 temps de rponse:"})," ",e.p99ResponseTime.toFixed(0),"ms"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Utilisateurs uniques:"})," ",h(e.uniqueUsers)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Requtes debounces:"})," ",h(e.debouncedRequests)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Dernire MAJ:"})," ",new Date(e.lastUpdated).toLocaleTimeString()]})]})})]})})]})]})},Jre=()=>{const{user:e}=ht(),{isSupraAdmin:t,loading:n}=Bp();Dt();const[r,i]=x.useState(!1);return x.useEffect(()=>{i(!1)},[e,t]),n?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Pa,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Vrification des permissions..."})]})})]}):!e||!t?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Pa,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs(fn,{className:"max-w-2xl mx-auto",children:[o.jsx($a,{className:"h-4 w-4"}),o.jsx(hn,{children:"Accs refus. Cette page est rserve aux supra administrateurs globaux."})]})})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Pa,{}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[o.jsx(Gi,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion avance de la plateforme DataCarb"}),o.jsxs("div",{className:"mt-4",children:[o.jsx(He,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),o.jsx(He,{variant:"outline",children:e.email})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),o.jsx(zre,{})]}),o.jsx(Bre,{}),o.jsx(Hre,{children:o.jsx(Vre,{})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Performance Algolia"}),o.jsx(Xre,{})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),o.jsx(Yre,{})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsx(Qre,{}),o.jsx(Kre,{}),o.jsx(Gre,{})]})]})]}),o.jsxs(pe,{className:"mt-6",children:[o.jsx(we,{children:o.jsx(Se,{children:"Informations de debug"})}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"User ID:"})," ",e.id]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",e.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},Zre=()=>{const e=Xs();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},eie=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(!1),[a,l]=x.useState(null),{toast:c}=Dt(),u=Ga(),d=async f=>{f.preventDefault(),s(!0),l(null);try{const{error:p}=await Y.auth.signInWithPassword({email:e,password:n});p?(l(p.message),c({variant:"destructive",title:"Erreur de connexion",description:p.message})):(c({title:"Connexion russie",description:"Connexion administrateur active"}),u("/search"))}catch{l("Une erreur inattendue s'est produite"),c({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen homepage-violet-bg flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(xt,{to:"/",className:"inline-flex items-center homepage-text hover:opacity-80 transition-colors",children:[o.jsx(sb,{className:"w-4 h-4 mr-2"}),"Retour  l'accueil"]})}),o.jsxs(pe,{children:[o.jsxs(we,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Gi,{className:"text-white w-6 h-6"})}),o.jsx(Se,{className:"text-2xl",children:"Connexion Dveloppeur"}),o.jsx(vt,{children:"Accs administrateur pour le dveloppement et la maintenance"})]}),o.jsxs(me,{children:[o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(_r,{className:"w-5 h-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-orange-900 mb-1",children:"Accs Restreint"}),o.jsx("p",{className:"text-sm text-orange-700",children:"Cette page est rserve aux super administrateurs et dveloppeurs. L'accs non autoris est strictement interdit."})]})]})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"email",children:"Email administrateur"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"admin@exemple.com",required:!0,disabled:i})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(wt,{htmlFor:"password",children:"Mot de passe"}),o.jsx(Ot,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"",required:!0,disabled:i})]}),o.jsx(te,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),a&&o.jsxs(fn,{variant:"destructive",className:"mt-4",children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx(hn,{children:a})]}),o.jsx("div",{className:"text-center mt-6 pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Mode dveloppement  Version ","production"]})})]})]})]})})},tie=new i5,Eo=({children:e})=>{const{user:t,loading:n}=ht();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Chargement..."})]})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(fP,{to:"/login",replace:!0})},Xg=({children:e})=>{const{user:t,loading:n}=ht();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Chargement..."})]})}):t?o.jsx(fP,{to:"/search",replace:!0}):o.jsx(o.Fragment,{children:e})},nie=()=>o.jsx(a5,{client:tie,children:o.jsx(P6,{children:o.jsx(N6,{children:o.jsx(T6,{children:o.jsx(A6,{children:o.jsxs(da,{children:[o.jsx(y$,{}),o.jsx(Y$,{}),o.jsx(sU,{children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx(I6,{}),o.jsxs(X5,{children:[o.jsx(Gn,{path:"/",element:o.jsx(Y6,{})}),o.jsx(Gn,{path:"/login",element:o.jsx(Xg,{children:o.jsx(eB,{})})}),o.jsx(Gn,{path:"/signup",element:o.jsx(Xg,{children:o.jsx(nB,{})})}),o.jsx(Gn,{path:"/auth/callback",element:o.jsx(rB,{})}),o.jsx(Gn,{path:"/dev",element:o.jsx(Xg,{children:o.jsx(eie,{})})}),o.jsx(Gn,{path:"/search",element:o.jsx(Eo,{children:o.jsx(Ote,{})})}),o.jsx(Gn,{path:"/favoris",element:o.jsx(Eo,{children:o.jsx(Mte,{})})}),o.jsx(Gn,{path:"/import",element:o.jsx(Eo,{children:o.jsx($te,{})})}),o.jsx(Gn,{path:"/settings",element:o.jsx(Eo,{children:o.jsx(Nre,{})})}),o.jsx(Gn,{path:"/debug",element:o.jsx(Eo,{children:o.jsx(Tre,{})})}),o.jsx(Gn,{path:"/admin",element:o.jsx(Eo,{children:o.jsx(Jre,{})})}),o.jsx(Gn,{path:"*",element:o.jsx(Zre,{})})]})]})})]})})})})})}),Cc={cache:{enabled:wn.ENABLE_CACHE,ttlMs:wn.CACHE_TTL_MS,maxSize:wn.MAX_CACHE_SIZE,autoTuning:wn.ENABLE_AUTO_TUNING},throttling:{enabled:wn.ENABLE_SMART_THROTTLING,requestsPerSecond:wn.THROTTLE_REQUESTS_PER_SECOND,burstAllowance:10,adaptiveThrottling:!0},debouncing:{enabled:!0,baseDelayMs:wn.DEBOUNCE_DELAY_MS,maxDelayMs:1e3,adaptiveDelay:!0},batching:{enabled:wn.ENABLE_BATCHING,delayMs:wn.BATCH_DELAY_MS,maxBatchSize:wn.MAX_BATCH_SIZE},monitoring:{enabled:wn.ENABLE_PERFORMANCE_MONITORING,alertThresholds:{errorRatePercent:5,responseTimeMs:2e3,cacheHitRatePercent:70,requestRatePerMinute:100},metricsRetentionHours:24},suggestions:{enabled:wn.ENABLE_SMART_SUGGESTIONS,maxSuggestions:8,prefixCacheEnabled:!0,preloadingEnabled:!0}};({...Cc,cache:{...Cc.cache},throttling:{...Cc.throttling},monitoring:{...Cc.monitoring}});const rie=()=>Cc,iie=e=>{const t=[];return e.cache.ttlMs<=0&&t.push("Cache TTL doit tre positif"),e.cache.maxSize<=0&&t.push("Taille maximale du cache doit tre positive"),e.throttling.requestsPerSecond<=0&&t.push("Taux de throttling doit tre positif"),e.debouncing.baseDelayMs<0&&t.push("Dlai de debouncing doit tre non-ngatif"),e.batching.maxBatchSize<=0&&t.push("Taille maximale de batch doit tre positive"),e.suggestions.maxSuggestions<=0&&t.push("Nombre maximum de suggestions doit tre positif"),(e.monitoring.alertThresholds.errorRatePercent<0||e.monitoring.alertThresholds.errorRatePercent>100)&&t.push("Seuil d'erreur doit tre entre 0 et 100%"),t},sie=()=>{var i;const e=rie(),t=typeof navigator<"u"?navigator.userAgent:"",n=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),r=typeof navigator<"u"&&"connection"in navigator&&((i=navigator.connection)==null?void 0:i.effectiveType)==="slow-2g";return n||r?{...e,cache:{...e.cache,ttlMs:e.cache.ttlMs*1.5,maxSize:Math.floor(e.cache.maxSize*.7)},debouncing:{...e.debouncing,baseDelayMs:Math.floor(e.debouncing.baseDelayMs*1.5)},batching:{...e.batching,delayMs:e.batching.delayMs*2,maxBatchSize:Math.floor(e.batching.maxBatchSize*1.5)}}:e},Di=sie();iie(Di);class aie{constructor(){ye(this,"initialized",!1);ye(this,"initPromise",null);ye(this,"lastAlertAt",{});ye(this,"metricsTimer",null)}async initialize(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this.performInitialization(),this.initPromise)}async performInitialization(){console.log(" Initialisation du systme Algolia optimis...");try{Di.monitoring.enabled&&this.initializeMonitoring(),Di.cache.enabled&&this.initializeCache(),Di.cache.autoTuning&&this.startAutoTuning(),Di.suggestions.preloadingEnabled&&await this.preloadCommonData(),this.setupAlerts(),this.recordSuccessfulInit(),this.initialized=!0,console.log(" Systme Algolia optimis initialis avec succs"),wn.DEBUG_PERFORMANCE}catch(t){console.error(" Erreur lors de l'initialisation Algolia:",t),this.initialized=!0}}initializeMonitoring(){Fn.onAlert(t=>{console.warn(` Alerte Algolia [${t.severity}]:`,t.message),this.sendToMonitoringService(t)})}initializeCache(){qt.autoTune()}startAutoTuning(){setInterval(()=>{try{const t=Fn.autoTune();qt.autoTune(),wn.DEBUG_PERFORMANCE}catch(t){console.warn(" Erreur auto-tuning:",t)}},5*60*1e3)}async preloadCommonData(){var t;try{const n=["lectricit","transport","chauffage","gaz","fioul","bois","eau","dchets"];Ui.updateContext({origin:"all",assignedSources:[],recentSearches:n.slice(0,3)});try{await Ui.preloadPopularPrefixes(n),wn.DEBUG_PERFORMANCE}catch(r){if((t=r==null?void 0:r.message)!=null&&t.includes("blocked")||(r==null?void 0:r.status)===403)console.log(" Algolia temporairement indisponible (plan payant requis), prchargement ignor");else throw r}}catch(n){console.warn(" Erreur prchargement:",n)}}setupAlerts(){setInterval(()=>{const t=typeof window<"u"?window.__algoliaBlockedUntil:0;if(t&&Date.now()<t)return;const n=Fn.getMetrics();qt.getCacheStats(),n.cacheHitRate<Di.monitoring.alertThresholds.cacheHitRatePercent&&this.shouldLogAlert("cacheHitRate")&&console.warn(` Cache hit rate faible: ${n.cacheHitRate.toFixed(1)}%`),n.averageResponseTime>Di.monitoring.alertThresholds.responseTimeMs&&this.shouldLogAlert("responseTime")&&console.warn(` Temps de rponse lev: ${n.averageResponseTime.toFixed(0)}ms`);const r=n.failedRequests/Math.max(n.totalRequests,1)*100;r>Di.monitoring.alertThresholds.errorRatePercent&&this.shouldLogAlert("errorRate")&&console.warn(` Taux d'erreur lev: ${r.toFixed(1)}%`),n.cacheHitRate<30&&qt.autoTune()},2*60*1e3)}shouldLogAlert(t,n=6e4){const r=Date.now();return this.lastAlertAt[t],this.lastAlertAt[t]=r,!0}recordSuccessfulInit(){Fn.recordRequest(0,!0,"system","algolia_optimization_init")}sendToMonitoringService(t){typeof window<"u"&&"fetch"in window&&fetch("/api/monitoring/algolia-alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert:t,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href})}).catch(n=>{console.warn("Erreur envoi monitoring:",n)})}getStatus(){return{initialized:this.initialized,config:Di,metrics:this.initialized?Fn.getMetrics():null,cacheStats:this.initialized?qt.getCacheStats():null}}async restart(){console.log(" Redmarrage du systme Algolia optimis..."),this.initialized=!1,this.initPromise=null,Fn.reset(),qt.clear(),Ui.clear(),await this.initialize()}forceOptimization(){if(!this.initialized)return;console.log(" Optimisation force du systme Algolia...");const t=Fn.autoTune();qt.autoTune(),console.log(" Optimisation applique:",t)}}const aE=new aie;typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{aE.initialize()}):aE.initialize());try{window.trustedTypes&&!window.trustedTypes.getPolicy("default")&&window.trustedTypes.createPolicy("default",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}RC(document.getElementById("root")).render(o.jsx(nie,{}));
