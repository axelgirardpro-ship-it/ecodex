var pD=Object.defineProperty;var L0=e=>{throw TypeError(e)};var mD=(e,t,n)=>t in e?pD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qe=(e,t,n)=>mD(e,typeof t!="symbol"?t+"":t,n),Rm=(e,t,n)=>t.has(e)||L0("Cannot "+n);var q=(e,t,n)=>(Rm(e,t,"read from private field"),n?n.call(e):t.get(e)),Me=(e,t,n)=>t.has(e)?L0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),xe=(e,t,n,r)=>(Rm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),rn=(e,t,n)=>(Rm(e,t,"access private method"),n);var Ud=(e,t,n,r)=>({set _(i){xe(e,t,i,n)},get _(){return q(e,t,r)}});function gD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var dk={exports:{}},ap={},fk={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=Symbol.for("react.element"),yD=Symbol.for("react.portal"),xD=Symbol.for("react.fragment"),bD=Symbol.for("react.strict_mode"),wD=Symbol.for("react.profiler"),SD=Symbol.for("react.provider"),_D=Symbol.for("react.context"),jD=Symbol.for("react.forward_ref"),ED=Symbol.for("react.suspense"),kD=Symbol.for("react.memo"),CD=Symbol.for("react.lazy"),$0=Symbol.iterator;function RD(e){return e===null||typeof e!="object"?null:(e=$0&&e[$0]||e["@@iterator"],typeof e=="function"?e:null)}var hk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pk=Object.assign,mk={};function Sl(e,t,n){this.props=e,this.context=t,this.refs=mk,this.updater=n||hk}Sl.prototype.isReactComponent={};Sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gk(){}gk.prototype=Sl.prototype;function Px(e,t,n){this.props=e,this.context=t,this.refs=mk,this.updater=n||hk}var Tx=Px.prototype=new gk;Tx.constructor=Px;pk(Tx,Sl.prototype);Tx.isPureReactComponent=!0;var M0=Array.isArray,vk=Object.prototype.hasOwnProperty,Nx={current:null},yk={key:!0,ref:!0,__self:!0,__source:!0};function xk(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)vk.call(t,r)&&!yk.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ed,type:e,key:s,ref:o,props:i,_owner:Nx.current}}function PD(e,t){return{$$typeof:ed,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ax(e){return typeof e=="object"&&e!==null&&e.$$typeof===ed}function TD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var U0=/\/+/g;function Pm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TD(""+e.key):t.toString(36)}function Af(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ed:case yD:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Pm(o,0):r,M0(i)?(n="",e!=null&&(n=e.replace(U0,"$&/")+"/"),Af(i,t,n,"",function(u){return u})):i!=null&&(Ax(i)&&(i=PD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(U0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",M0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Pm(s,a);o+=Af(s,t,n,l,i)}else if(l=RD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Pm(s,a++),o+=Af(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zd(e,t,n){if(e==null)return e;var r=[],i=0;return Af(e,r,"","",function(s){return t.call(n,s,i++)}),r}function ND(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},Of={transition:null},AD={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Of,ReactCurrentOwner:Nx};function bk(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:zd,forEach:function(e,t,n){zd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zd(e,function(){t++}),t},toArray:function(e){return zd(e,function(t){return t})||[]},only:function(e){if(!Ax(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Sl;Pe.Fragment=xD;Pe.Profiler=wD;Pe.PureComponent=Px;Pe.StrictMode=bD;Pe.Suspense=ED;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AD;Pe.act=bk;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pk({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Nx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)vk.call(t,l)&&!yk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ed,type:e.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(e){return e={$$typeof:_D,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SD,_context:e},e.Consumer=e};Pe.createElement=xk;Pe.createFactory=function(e){var t=xk.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:jD,render:e}};Pe.isValidElement=Ax;Pe.lazy=function(e){return{$$typeof:CD,_payload:{_status:-1,_result:e},_init:ND}};Pe.memo=function(e,t){return{$$typeof:kD,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Of.transition;Of.transition={};try{e()}finally{Of.transition=t}};Pe.unstable_act=bk;Pe.useCallback=function(e,t){return En.current.useCallback(e,t)};Pe.useContext=function(e){return En.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return En.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return En.current.useEffect(e,t)};Pe.useId=function(){return En.current.useId()};Pe.useImperativeHandle=function(e,t,n){return En.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return En.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return En.current.useReducer(e,t,n)};Pe.useRef=function(e){return En.current.useRef(e)};Pe.useState=function(e){return En.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return En.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return En.current.useTransition()};Pe.version="18.3.1";fk.exports=Pe;var y=fk.exports;const V=Bs(y),lp=gD({__proto__:null,default:V},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD=y,ID=Symbol.for("react.element"),FD=Symbol.for("react.fragment"),DD=Object.prototype.hasOwnProperty,LD=OD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$D={key:!0,ref:!0,__self:!0,__source:!0};function wk(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)DD.call(t,r)&&!$D.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ID,type:e,key:s,ref:o,props:i,_owner:LD.current}}ap.Fragment=FD;ap.jsx=wk;ap.jsxs=wk;dk.exports=ap;var c=dk.exports,Sk={exports:{}},sr={},_k={exports:{}},jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,k){var E=P.length;P.push(k);e:for(;0<E;){var $=E-1>>>1,U=P[$];if(0<i(U,k))P[$]=k,P[E]=U,E=$;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var k=P[0],E=P.pop();if(E!==k){P[0]=E;e:for(var $=0,U=P.length,N=U>>>1;$<N;){var K=2*($+1)-1,Q=P[K],Y=K+1,W=P[Y];if(0>i(Q,E))Y<U&&0>i(W,Q)?(P[$]=W,P[Y]=E,$=Y):(P[$]=Q,P[K]=E,$=K);else if(Y<U&&0>i(W,E))P[$]=W,P[Y]=E,$=Y;else break e}}return k}function i(P,k){var E=P.sortIndex-k.sortIndex;return E!==0?E:P.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=P)r(u),k.sortIndex=k.expirationTime,t(l,k);else break;k=n(u)}}function S(P){if(g=!1,w(P),!m)if(n(l)!==null)m=!0,H(j);else{var k=n(u);k!==null&&B(S,k.startTime-P)}}function j(P,k){m=!1,g&&(g=!1,v(T),T=-1),h=!0;var E=p;try{for(w(k),f=n(l);f!==null&&(!(f.expirationTime>k)||P&&!F());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var U=$(f.expirationTime<=k);k=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),w(k)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var K=n(u);K!==null&&B(S,K.startTime-k),N=!1}return N}finally{f=null,p=E,h=!1}}var _=!1,C=null,T=-1,I=5,R=-1;function F(){return!(e.unstable_now()-R<I)}function O(){if(C!==null){var P=e.unstable_now();R=P;var k=!0;try{k=C(!0,P)}finally{k?D():(_=!1,C=null)}}else _=!1}var D;if(typeof x=="function")D=function(){x(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,M=A.port2;A.port1.onmessage=O,D=function(){M.postMessage(null)}}else D=function(){b(O,0)};function H(P){C=P,_||(_=!0,D())}function B(P,k){T=b(function(){P(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,H(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var E=p;p=k;try{return P()}finally{p=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var E=p;p=P;try{return k()}finally{p=E}},e.unstable_scheduleCallback=function(P,k,E){var $=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?$+E:$):E=$,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=E+U,P={id:d++,callback:k,priorityLevel:P,startTime:E,expirationTime:U,sortIndex:-1},E>$?(P.sortIndex=E,t(u,P),n(l)===null&&P===n(u)&&(g?(v(T),T=-1):g=!0,B(S,E-$))):(P.sortIndex=U,t(l,P),m||h||(m=!0,H(j))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var k=p;return function(){var E=p;p=k;try{return P.apply(this,arguments)}finally{p=E}}}})(jk);_k.exports=jk;var MD=_k.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD=y,ir=MD;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ek=new Set,qc={};function Uo(e,t){il(e,t),il(e+"Capture",t)}function il(e,t){for(qc[e]=t,e=0;e<t.length;e++)Ek.add(t[e])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dv=Object.prototype.hasOwnProperty,zD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z0={},H0={};function HD(e){return dv.call(H0,e)?!0:dv.call(z0,e)?!1:zD.test(e)?H0[e]=!0:(z0[e]=!0,!1)}function BD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VD(e,t,n,r){if(t===null||typeof t>"u"||BD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ox=/[\-:]([a-z])/g;function Ix(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ox,Ix);Jt[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ox,Ix);Jt[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ox,Ix);Jt[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fx(e,t,n,r){var i=Jt.hasOwnProperty(t)?Jt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VD(t,n,i,r)&&(n=null),r||i===null?HD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wi=UD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hd=Symbol.for("react.element"),wa=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),Dx=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Ck=Symbol.for("react.context"),Lx=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),pv=Symbol.for("react.suspense_list"),$x=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),Rk=Symbol.for("react.offscreen"),B0=Symbol.iterator;function ql(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Tm;function fc(e){if(Tm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tm=t&&t[1]||""}return`
`+Tm+e}var Nm=!1;function Am(e,t){if(!e||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fc(e):""}function WD(e){switch(e.tag){case 5:return fc(e.type);case 16:return fc("Lazy");case 13:return fc("Suspense");case 19:return fc("SuspenseList");case 0:case 2:case 15:return e=Am(e.type,!1),e;case 11:return e=Am(e.type.render,!1),e;case 1:return e=Am(e.type,!0),e;default:return""}}function mv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sa:return"Fragment";case wa:return"Portal";case fv:return"Profiler";case Dx:return"StrictMode";case hv:return"Suspense";case pv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ck:return(e.displayName||"Context")+".Consumer";case kk:return(e._context.displayName||"Context")+".Provider";case Lx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $x:return t=e.displayName||null,t!==null?t:mv(e.type)||"Memo";case cs:t=e._payload,e=e._init;try{return mv(e(t))}catch{}}return null}function qD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mv(t);case 8:return t===Dx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ls(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KD(e){var t=Pk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bd(e){e._valueTracker||(e._valueTracker=KD(e))}function Tk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ih(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gv(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function V0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ls(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nk(e,t){t=t.checked,t!=null&&Fx(e,"checked",t,!1)}function vv(e,t){Nk(e,t);var n=Ls(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yv(e,t.type,n):t.hasOwnProperty("defaultValue")&&yv(e,t.type,Ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function W0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yv(e,t,n){(t!=="number"||ih(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hc=Array.isArray;function Da(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ls(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function q0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(hc(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ls(n)}}function Ak(e,t){var n=Ls(t.value),r=Ls(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function K0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ok(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ok(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vd,Ik=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vd=Vd||document.createElement("div"),Vd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QD=["Webkit","ms","Moz","O"];Object.keys(jc).forEach(function(e){QD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jc[t]=jc[e]})});function Fk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jc.hasOwnProperty(e)&&jc[e]?(""+t).trim():t+"px"}function Dk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GD=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wv(e,t){if(t){if(GD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Sv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _v=null;function Mx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jv=null,La=null,$a=null;function Q0(e){if(e=rd(e)){if(typeof jv!="function")throw Error(J(280));var t=e.stateNode;t&&(t=hp(t),jv(e.stateNode,e.type,t))}}function Lk(e){La?$a?$a.push(e):$a=[e]:La=e}function $k(){if(La){var e=La,t=$a;if($a=La=null,Q0(e),t)for(e=0;e<t.length;e++)Q0(t[e])}}function Mk(e,t){return e(t)}function Uk(){}var Om=!1;function zk(e,t,n){if(Om)return e(t,n);Om=!0;try{return Mk(e,t,n)}finally{Om=!1,(La!==null||$a!==null)&&(Uk(),$k())}}function Qc(e,t){var n=e.stateNode;if(n===null)return null;var r=hp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Ev=!1;if(Di)try{var Kl={};Object.defineProperty(Kl,"passive",{get:function(){Ev=!0}}),window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{Ev=!1}function YD(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ec=!1,sh=null,oh=!1,kv=null,JD={onError:function(e){Ec=!0,sh=e}};function XD(e,t,n,r,i,s,o,a,l){Ec=!1,sh=null,YD.apply(JD,arguments)}function ZD(e,t,n,r,i,s,o,a,l){if(XD.apply(this,arguments),Ec){if(Ec){var u=sh;Ec=!1,sh=null}else throw Error(J(198));oh||(oh=!0,kv=u)}}function zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function G0(e){if(zo(e)!==e)throw Error(J(188))}function eL(e){var t=e.alternate;if(!t){if(t=zo(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return G0(i),e;if(s===r)return G0(i),t;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function Bk(e){return e=eL(e),e!==null?Vk(e):null}function Vk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vk(e);if(t!==null)return t;e=e.sibling}return null}var Wk=ir.unstable_scheduleCallback,Y0=ir.unstable_cancelCallback,tL=ir.unstable_shouldYield,nL=ir.unstable_requestPaint,xt=ir.unstable_now,rL=ir.unstable_getCurrentPriorityLevel,Ux=ir.unstable_ImmediatePriority,qk=ir.unstable_UserBlockingPriority,ah=ir.unstable_NormalPriority,iL=ir.unstable_LowPriority,Kk=ir.unstable_IdlePriority,cp=null,di=null;function sL(e){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot(cp,e,void 0,(e.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:lL,oL=Math.log,aL=Math.LN2;function lL(e){return e>>>=0,e===0?32:31-(oL(e)/aL|0)|0}var Wd=64,qd=4194304;function pc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=pc(a):(s&=o,s!==0&&(r=pc(s)))}else o=n&~i,o!==0?r=pc(o):s!==0&&(r=pc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dr(t),i=1<<n,r|=e[n],t&=~i;return r}function cL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cL(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Cv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qk(){var e=Wd;return Wd<<=1,!(Wd&4194240)&&(Wd=64),e}function Im(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function td(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dr(t),e[t]=n}function dL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Dr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function zx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var We=0;function Gk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yk,Hx,Jk,Xk,Zk,Rv=!1,Kd=[],js=null,Es=null,ks=null,Gc=new Map,Yc=new Map,ds=[],fL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J0(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(t.pointerId)}}function Ql(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=rd(t),t!==null&&Hx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hL(e,t,n,r,i){switch(t){case"focusin":return js=Ql(js,e,t,n,r,i),!0;case"dragenter":return Es=Ql(Es,e,t,n,r,i),!0;case"mouseover":return ks=Ql(ks,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gc.set(s,Ql(Gc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yc.set(s,Ql(Yc.get(s)||null,e,t,n,r,i)),!0}return!1}function eC(e){var t=fo(e.target);if(t!==null){var n=zo(t);if(n!==null){if(t=n.tag,t===13){if(t=Hk(n),t!==null){e.blockedOn=t,Zk(e.priority,function(){Jk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function If(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_v=r,n.target.dispatchEvent(r),_v=null}else return t=rd(n),t!==null&&Hx(t),e.blockedOn=n,!1;t.shift()}return!0}function X0(e,t,n){If(e)&&n.delete(t)}function pL(){Rv=!1,js!==null&&If(js)&&(js=null),Es!==null&&If(Es)&&(Es=null),ks!==null&&If(ks)&&(ks=null),Gc.forEach(X0),Yc.forEach(X0)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Rv||(Rv=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,pL)))}function Jc(e){function t(i){return Gl(i,e)}if(0<Kd.length){Gl(Kd[0],e);for(var n=1;n<Kd.length;n++){var r=Kd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(js!==null&&Gl(js,e),Es!==null&&Gl(Es,e),ks!==null&&Gl(ks,e),Gc.forEach(t),Yc.forEach(t),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)eC(n),n.blockedOn===null&&ds.shift()}var Ma=Wi.ReactCurrentBatchConfig,ch=!0;function mL(e,t,n,r){var i=We,s=Ma.transition;Ma.transition=null;try{We=1,Bx(e,t,n,r)}finally{We=i,Ma.transition=s}}function gL(e,t,n,r){var i=We,s=Ma.transition;Ma.transition=null;try{We=4,Bx(e,t,n,r)}finally{We=i,Ma.transition=s}}function Bx(e,t,n,r){if(ch){var i=Pv(e,t,n,r);if(i===null)Vm(e,t,r,uh,n),J0(e,r);else if(hL(i,e,t,n,r))r.stopPropagation();else if(J0(e,r),t&4&&-1<fL.indexOf(e)){for(;i!==null;){var s=rd(i);if(s!==null&&Yk(s),s=Pv(e,t,n,r),s===null&&Vm(e,t,r,uh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vm(e,t,r,null,n)}}var uh=null;function Pv(e,t,n,r){if(uh=null,e=Mx(r),e=fo(e),e!==null)if(t=zo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uh=e,null}function tC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rL()){case Ux:return 1;case qk:return 4;case ah:case iL:return 16;case Kk:return 536870912;default:return 16}default:return 16}}var bs=null,Vx=null,Ff=null;function nC(){if(Ff)return Ff;var e,t=Vx,n=t.length,r,i="value"in bs?bs.value:bs.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ff=i.slice(e,1<r?1-r:void 0)}function Df(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qd(){return!0}function Z0(){return!1}function or(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qd:Z0,this.isPropagationStopped=Z0,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qd)},persist:function(){},isPersistent:Qd}),t}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wx=or(_l),nd=pt({},_l,{view:0,detail:0}),vL=or(nd),Fm,Dm,Yl,up=pt({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yl&&(Yl&&e.type==="mousemove"?(Fm=e.screenX-Yl.screenX,Dm=e.screenY-Yl.screenY):Dm=Fm=0,Yl=e),Fm)},movementY:function(e){return"movementY"in e?e.movementY:Dm}}),eS=or(up),yL=pt({},up,{dataTransfer:0}),xL=or(yL),bL=pt({},nd,{relatedTarget:0}),Lm=or(bL),wL=pt({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),SL=or(wL),_L=pt({},_l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jL=or(_L),EL=pt({},_l,{data:0}),tS=or(EL),kL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RL[e])?!!t[e]:!1}function qx(){return PL}var TL=pt({},nd,{key:function(e){if(e.key){var t=kL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Df(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qx,charCode:function(e){return e.type==="keypress"?Df(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Df(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NL=or(TL),AL=pt({},up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nS=or(AL),OL=pt({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qx}),IL=or(OL),FL=pt({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),DL=or(FL),LL=pt({},up,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$L=or(LL),ML=[9,13,27,32],Kx=Di&&"CompositionEvent"in window,kc=null;Di&&"documentMode"in document&&(kc=document.documentMode);var UL=Di&&"TextEvent"in window&&!kc,rC=Di&&(!Kx||kc&&8<kc&&11>=kc),rS=" ",iS=!1;function iC(e,t){switch(e){case"keyup":return ML.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function zL(e,t){switch(e){case"compositionend":return sC(t);case"keypress":return t.which!==32?null:(iS=!0,rS);case"textInput":return e=t.data,e===rS&&iS?null:e;default:return null}}function HL(e,t){if(_a)return e==="compositionend"||!Kx&&iC(e,t)?(e=nC(),Ff=Vx=bs=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rC&&t.locale!=="ko"?null:t.data;default:return null}}var BL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BL[e.type]:t==="textarea"}function oC(e,t,n,r){Lk(r),t=dh(t,"onChange"),0<t.length&&(n=new Wx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cc=null,Xc=null;function VL(e){vC(e,0)}function dp(e){var t=ka(e);if(Tk(t))return e}function WL(e,t){if(e==="change")return t}var aC=!1;if(Di){var $m;if(Di){var Mm="oninput"in document;if(!Mm){var oS=document.createElement("div");oS.setAttribute("oninput","return;"),Mm=typeof oS.oninput=="function"}$m=Mm}else $m=!1;aC=$m&&(!document.documentMode||9<document.documentMode)}function aS(){Cc&&(Cc.detachEvent("onpropertychange",lC),Xc=Cc=null)}function lC(e){if(e.propertyName==="value"&&dp(Xc)){var t=[];oC(t,Xc,e,Mx(e)),zk(VL,t)}}function qL(e,t,n){e==="focusin"?(aS(),Cc=t,Xc=n,Cc.attachEvent("onpropertychange",lC)):e==="focusout"&&aS()}function KL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dp(Xc)}function QL(e,t){if(e==="click")return dp(t)}function GL(e,t){if(e==="input"||e==="change")return dp(t)}function YL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zr=typeof Object.is=="function"?Object.is:YL;function Zc(e,t){if(zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dv.call(t,i)||!zr(e[i],t[i]))return!1}return!0}function lS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cS(e,t){var n=lS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lS(n)}}function cC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uC(){for(var e=window,t=ih();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ih(e.document)}return t}function Qx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JL(e){var t=uC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cC(n.ownerDocument.documentElement,n)){if(r!==null&&Qx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cS(n,s);var o=cS(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XL=Di&&"documentMode"in document&&11>=document.documentMode,ja=null,Tv=null,Rc=null,Nv=!1;function uS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nv||ja==null||ja!==ih(r)||(r=ja,"selectionStart"in r&&Qx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rc&&Zc(Rc,r)||(Rc=r,r=dh(Tv,"onSelect"),0<r.length&&(t=new Wx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ja)))}function Gd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionend:Gd("Transition","TransitionEnd")},Um={},dC={};Di&&(dC=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function fp(e){if(Um[e])return Um[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dC)return Um[e]=t[n];return e}var fC=fp("animationend"),hC=fp("animationiteration"),pC=fp("animationstart"),mC=fp("transitionend"),gC=new Map,dS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(e,t){gC.set(e,t),Uo(t,[e])}for(var zm=0;zm<dS.length;zm++){var Hm=dS[zm],ZL=Hm.toLowerCase(),e$=Hm[0].toUpperCase()+Hm.slice(1);Vs(ZL,"on"+e$)}Vs(fC,"onAnimationEnd");Vs(hC,"onAnimationIteration");Vs(pC,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(mC,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t$=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function fS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZD(r,t,void 0,e),e.currentTarget=null}function vC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fS(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fS(i,a,u),s=l}}}if(oh)throw e=kv,oh=!1,kv=null,e}function it(e,t){var n=t[Dv];n===void 0&&(n=t[Dv]=new Set);var r=e+"__bubble";n.has(r)||(yC(t,e,2,!1),n.add(r))}function Bm(e,t,n){var r=0;t&&(r|=4),yC(n,e,r,t)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[Yd]){e[Yd]=!0,Ek.forEach(function(n){n!=="selectionchange"&&(t$.has(n)||Bm(n,!1,e),Bm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yd]||(t[Yd]=!0,Bm("selectionchange",!1,t))}}function yC(e,t,n,r){switch(tC(t)){case 1:var i=mL;break;case 4:i=gL;break;default:i=Bx}n=i.bind(null,t,n,e),i=void 0,!Ev||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zk(function(){var u=s,d=Mx(n),f=[];e:{var p=gC.get(e);if(p!==void 0){var h=Wx,m=e;switch(e){case"keypress":if(Df(n)===0)break e;case"keydown":case"keyup":h=NL;break;case"focusin":m="focus",h=Lm;break;case"focusout":m="blur",h=Lm;break;case"beforeblur":case"afterblur":h=Lm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=eS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IL;break;case fC:case hC:case pC:h=SL;break;case mC:h=DL;break;case"scroll":h=vL;break;case"wheel":h=$L;break;case"copy":case"cut":case"paste":h=jL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nS}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Qc(x,v),S!=null&&g.push(tu(x,S,w)))),b)break;x=x.return}0<g.length&&(p=new h(p,m,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==_v&&(m=n.relatedTarget||n.fromElement)&&(fo(m)||m[Li]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?fo(m):null,m!==null&&(b=zo(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=eS,S="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=nS,S="onPointerLeave",v="onPointerEnter",x="pointer"),b=h==null?p:ka(h),w=m==null?p:ka(m),p=new g(S,x+"leave",h,n,d),p.target=b,p.relatedTarget=w,S=null,fo(d)===u&&(g=new g(v,x+"enter",m,n,d),g.target=w,g.relatedTarget=b,S=g),b=S,h&&m)t:{for(g=h,v=m,x=0,w=g;w;w=ia(w))x++;for(w=0,S=v;S;S=ia(S))w++;for(;0<x-w;)g=ia(g),x--;for(;0<w-x;)v=ia(v),w--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=ia(g),v=ia(v)}g=null}else g=null;h!==null&&hS(f,p,h,g,!1),m!==null&&b!==null&&hS(f,b,m,g,!0)}}e:{if(p=u?ka(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var j=WL;else if(sS(p))if(aC)j=GL;else{j=KL;var _=qL}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=QL);if(j&&(j=j(e,u))){oC(f,j,n,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&yv(p,"number",p.value)}switch(_=u?ka(u):window,e){case"focusin":(sS(_)||_.contentEditable==="true")&&(ja=_,Tv=u,Rc=null);break;case"focusout":Rc=Tv=ja=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,uS(f,n,d);break;case"selectionchange":if(XL)break;case"keydown":case"keyup":uS(f,n,d)}var C;if(Kx)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _a?iC(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(rC&&n.locale!=="ko"&&(_a||T!=="onCompositionStart"?T==="onCompositionEnd"&&_a&&(C=nC()):(bs=d,Vx="value"in bs?bs.value:bs.textContent,_a=!0)),_=dh(u,T),0<_.length&&(T=new tS(T,e,null,n,d),f.push({event:T,listeners:_}),C?T.data=C:(C=sC(n),C!==null&&(T.data=C)))),(C=UL?zL(e,n):HL(e,n))&&(u=dh(u,"onBeforeInput"),0<u.length&&(d=new tS("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}vC(f,t)})}function tu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qc(e,n),s!=null&&r.unshift(tu(e,s,i)),s=Qc(e,t),s!=null&&r.push(tu(e,s,i))),e=e.return}return r}function ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hS(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qc(n,s),l!=null&&o.unshift(tu(n,l,a))):i||(l=Qc(n,s),l!=null&&o.push(tu(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var n$=/\r\n?/g,r$=/\u0000|\uFFFD/g;function pS(e){return(typeof e=="string"?e:""+e).replace(n$,`
`).replace(r$,"")}function Jd(e,t,n){if(t=pS(t),pS(e)!==t&&n)throw Error(J(425))}function fh(){}var Av=null,Ov=null;function Iv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fv=typeof setTimeout=="function"?setTimeout:void 0,i$=typeof clearTimeout=="function"?clearTimeout:void 0,mS=typeof Promise=="function"?Promise:void 0,s$=typeof queueMicrotask=="function"?queueMicrotask:typeof mS<"u"?function(e){return mS.resolve(null).then(e).catch(o$)}:Fv;function o$(e){setTimeout(function(){throw e})}function Wm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jc(t)}function Cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jl=Math.random().toString(36).slice(2),ai="__reactFiber$"+jl,nu="__reactProps$"+jl,Li="__reactContainer$"+jl,Dv="__reactEvents$"+jl,a$="__reactListeners$"+jl,l$="__reactHandles$"+jl;function fo(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Li]||n[ai]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gS(e);e!==null;){if(n=e[ai])return n;e=gS(e)}return t}e=n,n=e.parentNode}return null}function rd(e){return e=e[ai]||e[Li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function hp(e){return e[nu]||null}var Lv=[],Ca=-1;function Ws(e){return{current:e}}function st(e){0>Ca||(e.current=Lv[Ca],Lv[Ca]=null,Ca--)}function tt(e,t){Ca++,Lv[Ca]=e.current,e.current=t}var $s={},fn=Ws($s),Un=Ws(!1),ko=$s;function sl(e,t){var n=e.type.contextTypes;if(!n)return $s;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zn(e){return e=e.childContextTypes,e!=null}function hh(){st(Un),st(fn)}function vS(e,t,n){if(fn.current!==$s)throw Error(J(168));tt(fn,t),tt(Un,n)}function xC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(J(108,qD(e)||"Unknown",i));return pt({},n,r)}function ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$s,ko=fn.current,tt(fn,e),tt(Un,Un.current),!0}function yS(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=xC(e,t,ko),r.__reactInternalMemoizedMergedChildContext=e,st(Un),st(fn),tt(fn,e)):st(Un),tt(Un,n)}var Ni=null,pp=!1,qm=!1;function bC(e){Ni===null?Ni=[e]:Ni.push(e)}function c$(e){pp=!0,bC(e)}function qs(){if(!qm&&Ni!==null){qm=!0;var e=0,t=We;try{var n=Ni;for(We=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ni=null,pp=!1}catch(i){throw Ni!==null&&(Ni=Ni.slice(e+1)),Wk(Ux,qs),i}finally{We=t,qm=!1}}return null}var Ra=[],Pa=0,mh=null,gh=0,hr=[],pr=0,Co=null,Oi=1,Ii="";function io(e,t){Ra[Pa++]=gh,Ra[Pa++]=mh,mh=e,gh=t}function wC(e,t,n){hr[pr++]=Oi,hr[pr++]=Ii,hr[pr++]=Co,Co=e;var r=Oi;e=Ii;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var s=32-Dr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oi=1<<32-Dr(t)+i|n<<i|r,Ii=s+e}else Oi=1<<s|n<<i|r,Ii=e}function Gx(e){e.return!==null&&(io(e,1),wC(e,1,0))}function Yx(e){for(;e===mh;)mh=Ra[--Pa],Ra[Pa]=null,gh=Ra[--Pa],Ra[Pa]=null;for(;e===Co;)Co=hr[--pr],hr[pr]=null,Ii=hr[--pr],hr[pr]=null,Oi=hr[--pr],hr[pr]=null}var er=null,Zn=null,lt=!1,Fr=null;function SC(e,t){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Zn=Cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Co!==null?{id:Oi,overflow:Ii}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,er=e,Zn=null,!0):!1;default:return!1}}function $v(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mv(e){if(lt){var t=Zn;if(t){var n=t;if(!xS(e,t)){if($v(e))throw Error(J(418));t=Cs(n.nextSibling);var r=er;t&&xS(e,t)?SC(r,n):(e.flags=e.flags&-4097|2,lt=!1,er=e)}}else{if($v(e))throw Error(J(418));e.flags=e.flags&-4097|2,lt=!1,er=e}}}function bS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Xd(e){if(e!==er)return!1;if(!lt)return bS(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Iv(e.type,e.memoizedProps)),t&&(t=Zn)){if($v(e))throw _C(),Error(J(418));for(;t;)SC(e,t),t=Cs(t.nextSibling)}if(bS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zn=Cs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=er?Cs(e.stateNode.nextSibling):null;return!0}function _C(){for(var e=Zn;e;)e=Cs(e.nextSibling)}function ol(){Zn=er=null,lt=!1}function Jx(e){Fr===null?Fr=[e]:Fr.push(e)}var u$=Wi.ReactCurrentBatchConfig;function Jl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Zd(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wS(e){var t=e._init;return t(e._payload)}function jC(e){function t(v,x){if(e){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Ns(v,x),v.index=0,v.sibling=null,v}function s(v,x,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,x,w,S){return x===null||x.tag!==6?(x=Zm(w,v.mode,S),x.return=v,x):(x=i(x,w),x.return=v,x)}function l(v,x,w,S){var j=w.type;return j===Sa?d(v,x,w.props.children,S,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cs&&wS(j)===x.type)?(S=i(x,w.props),S.ref=Jl(v,x,w),S.return=v,S):(S=Bf(w.type,w.key,w.props,null,v.mode,S),S.ref=Jl(v,x,w),S.return=v,S)}function u(v,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=eg(w,v.mode,S),x.return=v,x):(x=i(x,w.children||[]),x.return=v,x)}function d(v,x,w,S,j){return x===null||x.tag!==7?(x=So(w,v.mode,S,j),x.return=v,x):(x=i(x,w),x.return=v,x)}function f(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zm(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hd:return w=Bf(x.type,x.key,x.props,null,v.mode,w),w.ref=Jl(v,null,x),w.return=v,w;case wa:return x=eg(x,v.mode,w),x.return=v,x;case cs:var S=x._init;return f(v,S(x._payload),w)}if(hc(x)||ql(x))return x=So(x,v.mode,w,null),x.return=v,x;Zd(v,x)}return null}function p(v,x,w,S){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:a(v,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hd:return w.key===j?l(v,x,w,S):null;case wa:return w.key===j?u(v,x,w,S):null;case cs:return j=w._init,p(v,x,j(w._payload),S)}if(hc(w)||ql(w))return j!==null?null:d(v,x,w,S,null);Zd(v,w)}return null}function h(v,x,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,a(x,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hd:return v=v.get(S.key===null?w:S.key)||null,l(x,v,S,j);case wa:return v=v.get(S.key===null?w:S.key)||null,u(x,v,S,j);case cs:var _=S._init;return h(v,x,w,_(S._payload),j)}if(hc(S)||ql(S))return v=v.get(w)||null,d(x,v,S,j,null);Zd(x,S)}return null}function m(v,x,w,S){for(var j=null,_=null,C=x,T=x=0,I=null;C!==null&&T<w.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var R=p(v,C,w[T],S);if(R===null){C===null&&(C=I);break}e&&C&&R.alternate===null&&t(v,C),x=s(R,x,T),_===null?j=R:_.sibling=R,_=R,C=I}if(T===w.length)return n(v,C),lt&&io(v,T),j;if(C===null){for(;T<w.length;T++)C=f(v,w[T],S),C!==null&&(x=s(C,x,T),_===null?j=C:_.sibling=C,_=C);return lt&&io(v,T),j}for(C=r(v,C);T<w.length;T++)I=h(C,v,T,w[T],S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),x=s(I,x,T),_===null?j=I:_.sibling=I,_=I);return e&&C.forEach(function(F){return t(v,F)}),lt&&io(v,T),j}function g(v,x,w,S){var j=ql(w);if(typeof j!="function")throw Error(J(150));if(w=j.call(w),w==null)throw Error(J(151));for(var _=j=null,C=x,T=x=0,I=null,R=w.next();C!==null&&!R.done;T++,R=w.next()){C.index>T?(I=C,C=null):I=C.sibling;var F=p(v,C,R.value,S);if(F===null){C===null&&(C=I);break}e&&C&&F.alternate===null&&t(v,C),x=s(F,x,T),_===null?j=F:_.sibling=F,_=F,C=I}if(R.done)return n(v,C),lt&&io(v,T),j;if(C===null){for(;!R.done;T++,R=w.next())R=f(v,R.value,S),R!==null&&(x=s(R,x,T),_===null?j=R:_.sibling=R,_=R);return lt&&io(v,T),j}for(C=r(v,C);!R.done;T++,R=w.next())R=h(C,v,T,R.value,S),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?T:R.key),x=s(R,x,T),_===null?j=R:_.sibling=R,_=R);return e&&C.forEach(function(O){return t(v,O)}),lt&&io(v,T),j}function b(v,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Sa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hd:e:{for(var j=w.key,_=x;_!==null;){if(_.key===j){if(j=w.type,j===Sa){if(_.tag===7){n(v,_.sibling),x=i(_,w.props.children),x.return=v,v=x;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cs&&wS(j)===_.type){n(v,_.sibling),x=i(_,w.props),x.ref=Jl(v,_,w),x.return=v,v=x;break e}n(v,_);break}else t(v,_);_=_.sibling}w.type===Sa?(x=So(w.props.children,v.mode,S,w.key),x.return=v,v=x):(S=Bf(w.type,w.key,w.props,null,v.mode,S),S.ref=Jl(v,x,w),S.return=v,v=S)}return o(v);case wa:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=i(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=eg(w,v.mode,S),x.return=v,v=x}return o(v);case cs:return _=w._init,b(v,x,_(w._payload),S)}if(hc(w))return m(v,x,w,S);if(ql(w))return g(v,x,w,S);Zd(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,w),x.return=v,v=x):(n(v,x),x=Zm(w,v.mode,S),x.return=v,v=x),o(v)):n(v,x)}return b}var al=jC(!0),EC=jC(!1),vh=Ws(null),yh=null,Ta=null,Xx=null;function Zx(){Xx=Ta=yh=null}function eb(e){var t=vh.current;st(vh),e._currentValue=t}function Uv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ua(e,t){yh=e,Xx=Ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(Xx!==e)if(e={context:e,memoizedValue:t,next:null},Ta===null){if(yh===null)throw Error(J(308));Ta=e,yh.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var ho=null;function tb(e){ho===null?ho=[e]:ho.push(e)}function kC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,tb(t)):(n.next=i.next,i.next=n),t.interleaved=n,$i(e,r)}function $i(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var us=!1;function nb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$i(e,n)}return i=r.interleaved,i===null?(t.next=t,tb(r)):(t.next=i.next,i.next=t),r.interleaved=t,$i(e,n)}function Lf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zx(e,n)}}function SS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xh(e,t,n,r){var i=e.updateQueue;us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,h=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(p=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(h,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(h,f,p):m,p==null)break e;f=pt({},f,p);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=f):d=d.next=h,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Po|=o,e.lanes=o,e.memoizedState=f}}function _S(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var id={},fi=Ws(id),ru=Ws(id),iu=Ws(id);function po(e){if(e===id)throw Error(J(174));return e}function rb(e,t){switch(tt(iu,t),tt(ru,e),tt(fi,id),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bv(t,e)}st(fi),tt(fi,t)}function ll(){st(fi),st(ru),st(iu)}function RC(e){po(iu.current);var t=po(fi.current),n=bv(t,e.type);t!==n&&(tt(ru,e),tt(fi,n))}function ib(e){ru.current===e&&(st(fi),st(ru))}var dt=Ws(0);function bh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Km=[];function sb(){for(var e=0;e<Km.length;e++)Km[e]._workInProgressVersionPrimary=null;Km.length=0}var $f=Wi.ReactCurrentDispatcher,Qm=Wi.ReactCurrentBatchConfig,Ro=0,ht=null,Nt=null,Ut=null,wh=!1,Pc=!1,su=0,d$=0;function sn(){throw Error(J(321))}function ob(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zr(e[n],t[n]))return!1;return!0}function ab(e,t,n,r,i,s){if(Ro=s,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$f.current=e===null||e.memoizedState===null?m$:g$,e=n(r,i),Pc){s=0;do{if(Pc=!1,su=0,25<=s)throw Error(J(301));s+=1,Ut=Nt=null,t.updateQueue=null,$f.current=v$,e=n(r,i)}while(Pc)}if($f.current=Sh,t=Nt!==null&&Nt.next!==null,Ro=0,Ut=Nt=ht=null,wh=!1,t)throw Error(J(300));return e}function lb(){var e=su!==0;return su=0,e}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ht.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function wr(){if(Nt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=Ut===null?ht.memoizedState:Ut.next;if(t!==null)Ut=t,Nt=e;else{if(e===null)throw Error(J(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ut===null?ht.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function ou(e,t){return typeof t=="function"?t(e):t}function Gm(e){var t=wr(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ro&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ht.lanes|=d,Po|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,zr(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ht.lanes|=s,Po|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ym(e){var t=wr(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);zr(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function PC(){}function TC(e,t){var n=ht,r=wr(),i=t(),s=!zr(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,cb(OC.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,au(9,AC.bind(null,n,r,i,t),void 0,null),Bt===null)throw Error(J(349));Ro&30||NC(n,t,i)}return i}function NC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function AC(e,t,n,r){t.value=n,t.getSnapshot=r,IC(t)&&FC(e)}function OC(e,t,n){return n(function(){IC(t)&&FC(e)})}function IC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zr(e,n)}catch{return!0}}function FC(e){var t=$i(e,1);t!==null&&Lr(t,e,1,-1)}function jS(e){var t=ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:e},t.queue=e,e=e.dispatch=p$.bind(null,ht,e),[t.memoizedState,e]}function au(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DC(){return wr().memoizedState}function Mf(e,t,n,r){var i=ei();ht.flags|=e,i.memoizedState=au(1|t,n,void 0,r===void 0?null:r)}function mp(e,t,n,r){var i=wr();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,r!==null&&ob(r,o.deps)){i.memoizedState=au(t,n,s,r);return}}ht.flags|=e,i.memoizedState=au(1|t,n,s,r)}function ES(e,t){return Mf(8390656,8,e,t)}function cb(e,t){return mp(2048,8,e,t)}function LC(e,t){return mp(4,2,e,t)}function $C(e,t){return mp(4,4,e,t)}function MC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UC(e,t,n){return n=n!=null?n.concat([e]):null,mp(4,4,MC.bind(null,t,e),n)}function ub(){}function zC(e,t){var n=wr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ob(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HC(e,t){var n=wr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ob(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BC(e,t,n){return Ro&21?(zr(n,t)||(n=Qk(),ht.lanes|=n,Po|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function f$(e,t){var n=We;We=n!==0&&4>n?n:4,e(!0);var r=Qm.transition;Qm.transition={};try{e(!1),t()}finally{We=n,Qm.transition=r}}function VC(){return wr().memoizedState}function h$(e,t,n){var r=Ts(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WC(e))qC(t,n);else if(n=kC(e,t,n,r),n!==null){var i=jn();Lr(n,e,r,i),KC(n,t,r)}}function p$(e,t,n){var r=Ts(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WC(e))qC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,zr(a,o)){var l=t.interleaved;l===null?(i.next=i,tb(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=kC(e,t,i,r),n!==null&&(i=jn(),Lr(n,e,r,i),KC(n,t,r))}}function WC(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function qC(e,t){Pc=wh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function KC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zx(e,n)}}var Sh={readContext:br,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},m$={readContext:br,useCallback:function(e,t){return ei().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:ES,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mf(4194308,4,MC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mf(4,2,e,t)},useMemo:function(e,t){var n=ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=h$.bind(null,ht,e),[r.memoizedState,e]},useRef:function(e){var t=ei();return e={current:e},t.memoizedState=e},useState:jS,useDebugValue:ub,useDeferredValue:function(e){return ei().memoizedState=e},useTransition:function(){var e=jS(!1),t=e[0];return e=f$.bind(null,e[1]),ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ht,i=ei();if(lt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Bt===null)throw Error(J(349));Ro&30||NC(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ES(OC.bind(null,r,s,e),[e]),r.flags|=2048,au(9,AC.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ei(),t=Bt.identifierPrefix;if(lt){var n=Ii,r=Oi;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=su++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=d$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g$={readContext:br,useCallback:zC,useContext:br,useEffect:cb,useImperativeHandle:UC,useInsertionEffect:LC,useLayoutEffect:$C,useMemo:HC,useReducer:Gm,useRef:DC,useState:function(){return Gm(ou)},useDebugValue:ub,useDeferredValue:function(e){var t=wr();return BC(t,Nt.memoizedState,e)},useTransition:function(){var e=Gm(ou)[0],t=wr().memoizedState;return[e,t]},useMutableSource:PC,useSyncExternalStore:TC,useId:VC,unstable_isNewReconciler:!1},v$={readContext:br,useCallback:zC,useContext:br,useEffect:cb,useImperativeHandle:UC,useInsertionEffect:LC,useLayoutEffect:$C,useMemo:HC,useReducer:Ym,useRef:DC,useState:function(){return Ym(ou)},useDebugValue:ub,useDeferredValue:function(e){var t=wr();return Nt===null?t.memoizedState=e:BC(t,Nt.memoizedState,e)},useTransition:function(){var e=Ym(ou)[0],t=wr().memoizedState;return[e,t]},useMutableSource:PC,useSyncExternalStore:TC,useId:VC,unstable_isNewReconciler:!1};function Pr(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gp={isMounted:function(e){return(e=e._reactInternals)?zo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jn(),i=Ts(e),s=Fi(r,i);s.payload=t,n!=null&&(s.callback=n),t=Rs(e,s,i),t!==null&&(Lr(t,e,i,r),Lf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jn(),i=Ts(e),s=Fi(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Rs(e,s,i),t!==null&&(Lr(t,e,i,r),Lf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),r=Ts(e),i=Fi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rs(e,i,r),t!==null&&(Lr(t,e,r,n),Lf(t,e,r))}};function kS(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Zc(n,r)||!Zc(i,s):!0}function QC(e,t,n){var r=!1,i=$s,s=t.contextType;return typeof s=="object"&&s!==null?s=br(s):(i=zn(t)?ko:fn.current,r=t.contextTypes,s=(r=r!=null)?sl(e,i):$s),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function CS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gp.enqueueReplaceState(t,t.state,null)}function Hv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},nb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=br(s):(s=zn(t)?ko:fn.current,i.context=sl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(zv(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gp.enqueueReplaceState(i,i.state,null),xh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do n+=WD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Jm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var y$=typeof WeakMap=="function"?WeakMap:Map;function GC(e,t,n){n=Fi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jh||(jh=!0,Zv=r),Bv(e,t)},n}function YC(e,t,n){n=Fi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Bv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bv(e,t),typeof r!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function RS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new y$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=A$.bind(null,e,t,n),t.then(e,e))}function PS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TS(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fi(-1,1),t.tag=2,Rs(n,t,1))),n.lanes|=1),e)}var x$=Wi.ReactCurrentOwner,$n=!1;function wn(e,t,n,r){t.child=e===null?EC(t,null,n,r):al(t,e.child,n,r)}function NS(e,t,n,r,i){n=n.render;var s=t.ref;return Ua(t,i),r=ab(e,t,n,r,s,i),n=lb(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mi(e,t,i)):(lt&&n&&Gx(t),t.flags|=1,wn(e,t,r,i),t.child)}function AS(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!yb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,JC(e,t,s,r,i)):(e=Bf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(o,r)&&e.ref===t.ref)return Mi(e,t,i)}return t.flags|=1,e=Ns(s,r),e.ref=t.ref,e.return=t,t.child=e}function JC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Zc(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,Mi(e,t,i)}return Vv(e,t,n,r,i)}function XC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Aa,Yn),Yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Aa,Yn),Yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(Aa,Yn),Yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tt(Aa,Yn),Yn|=r;return wn(e,t,i,n),t.child}function ZC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vv(e,t,n,r,i){var s=zn(n)?ko:fn.current;return s=sl(t,s),Ua(t,i),n=ab(e,t,n,r,s,i),r=lb(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mi(e,t,i)):(lt&&r&&Gx(t),t.flags|=1,wn(e,t,n,i),t.child)}function OS(e,t,n,r,i){if(zn(n)){var s=!0;ph(t)}else s=!1;if(Ua(t,i),t.stateNode===null)Uf(e,t),QC(t,n,r),Hv(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=br(u):(u=zn(n)?ko:fn.current,u=sl(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&CS(t,o,r,u),us=!1;var p=t.memoizedState;o.state=p,xh(t,r,o,i),l=t.memoizedState,a!==r||p!==l||Un.current||us?(typeof d=="function"&&(zv(t,n,d,r),l=t.memoizedState),(a=us||kS(t,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,CC(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Pr(t.type,a),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=br(l):(l=zn(n)?ko:fn.current,l=sl(t,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&CS(t,o,r,l),us=!1,p=t.memoizedState,o.state=p,xh(t,r,o,i);var m=t.memoizedState;a!==f||p!==m||Un.current||us?(typeof h=="function"&&(zv(t,n,h,r),m=t.memoizedState),(u=us||kS(t,n,u,r,p,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Wv(e,t,n,r,s,i)}function Wv(e,t,n,r,i,s){ZC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&yS(t,n,!1),Mi(e,t,s);r=t.stateNode,x$.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=al(t,e.child,null,s),t.child=al(t,null,a,s)):wn(e,t,a,s),t.memoizedState=r.state,i&&yS(t,n,!0),t.child}function eR(e){var t=e.stateNode;t.pendingContext?vS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vS(e,t.context,!1),rb(e,t.containerInfo)}function IS(e,t,n,r,i){return ol(),Jx(i),t.flags|=256,wn(e,t,n,r),t.child}var qv={dehydrated:null,treeContext:null,retryLane:0};function Kv(e){return{baseLanes:e,cachePool:null,transitions:null}}function tR(e,t,n){var r=t.pendingProps,i=dt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),tt(dt,i&1),e===null)return Mv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xp(o,r,0,null),e=So(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Kv(n),t.memoizedState=qv,e):db(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b$(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ns(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ns(a,s):(s=So(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Kv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=qv,r}return s=e.child,e=s.sibling,r=Ns(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function db(e,t){return t=xp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ef(e,t,n,r){return r!==null&&Jx(r),al(t,e.child,null,n),e=db(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b$(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Jm(Error(J(422))),ef(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=xp({mode:"visible",children:r.children},i,0,null),s=So(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&al(t,e.child,null,o),t.child.memoizedState=Kv(o),t.memoizedState=qv,s);if(!(t.mode&1))return ef(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=Jm(s,r,void 0),ef(e,t,o,r)}if(a=(o&e.childLanes)!==0,$n||a){if(r=Bt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$i(e,i),Lr(r,e,i,-1))}return vb(),r=Jm(Error(J(421))),ef(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=O$.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Zn=Cs(i.nextSibling),er=t,lt=!0,Fr=null,e!==null&&(hr[pr++]=Oi,hr[pr++]=Ii,hr[pr++]=Co,Oi=e.id,Ii=e.overflow,Co=t),t=db(t,r.children),t.flags|=4096,t)}function FS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Uv(e.return,t,n)}function Xm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nR(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wn(e,t,r.children,n),r=dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&FS(e,n,t);else if(e.tag===19)FS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(dt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xm(t,!0,n,null,s);break;case"together":Xm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Po|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w$(e,t,n){switch(t.tag){case 3:eR(t),ol();break;case 5:RC(t);break;case 1:zn(t.type)&&ph(t);break;case 4:rb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;tt(vh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?tR(e,t,n):(tt(dt,dt.current&1),e=Mi(e,t,n),e!==null?e.sibling:null);tt(dt,dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nR(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(dt,dt.current),r)break;return null;case 22:case 23:return t.lanes=0,XC(e,t,n)}return Mi(e,t,n)}var rR,Qv,iR,sR;rR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qv=function(){};iR=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,po(fi.current);var s=null;switch(n){case"input":i=gv(e,i),r=gv(e,r),s=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":i=xv(e,i),r=xv(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fh)}wv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};sR=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xl(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function on(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function S$(e,t,n){var r=t.pendingProps;switch(Yx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(t),null;case 1:return zn(t.type)&&hh(),on(t),null;case 3:return r=t.stateNode,ll(),st(Un),st(fn),sb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(ny(Fr),Fr=null))),Qv(e,t),on(t),null;case 5:ib(t);var i=po(iu.current);if(n=t.type,e!==null&&t.stateNode!=null)iR(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return on(t),null}if(e=po(fi.current),Xd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ai]=t,r[nu]=s,e=(t.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<mc.length;i++)it(mc[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":V0(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":q0(r,s),it("invalid",r)}wv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Jd(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Jd(r.textContent,a,e),i=["children",""+a]):qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":Bd(r),W0(r,s,!0);break;case"textarea":Bd(r),K0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ok(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ai]=t,e[nu]=r,rR(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sv(n,r),n){case"dialog":it("cancel",e),it("close",e),i=r;break;case"iframe":case"object":case"embed":it("load",e),i=r;break;case"video":case"audio":for(i=0;i<mc.length;i++)it(mc[i],e);i=r;break;case"source":it("error",e),i=r;break;case"img":case"image":case"link":it("error",e),it("load",e),i=r;break;case"details":it("toggle",e),i=r;break;case"input":V0(e,r),i=gv(e,r),it("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),it("invalid",e);break;case"textarea":q0(e,r),i=xv(e,r),it("invalid",e);break;default:i=r}wv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Dk(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ik(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kc(e,l):typeof l=="number"&&Kc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",e):l!=null&&Fx(e,s,l,o))}switch(n){case"input":Bd(e),W0(e,r,!1);break;case"textarea":Bd(e),K0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ls(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Da(e,!!r.multiple,s,!1):r.defaultValue!=null&&Da(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return on(t),null;case 6:if(e&&t.stateNode!=null)sR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=po(iu.current),po(fi.current),Xd(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(s=r.nodeValue!==n)&&(e=er,e!==null))switch(e.tag){case 3:Jd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ai]=t,t.stateNode=r}return on(t),null;case 13:if(st(dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Zn!==null&&t.mode&1&&!(t.flags&128))_C(),ol(),t.flags|=98560,s=!1;else if(s=Xd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(J(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[ai]=t}else ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;on(t),s=!1}else Fr!==null&&(ny(Fr),Fr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?At===0&&(At=3):vb())),t.updateQueue!==null&&(t.flags|=4),on(t),null);case 4:return ll(),Qv(e,t),e===null&&eu(t.stateNode.containerInfo),on(t),null;case 10:return eb(t.type._context),on(t),null;case 17:return zn(t.type)&&hh(),on(t),null;case 19:if(st(dt),s=t.memoizedState,s===null)return on(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xl(s,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bh(e),o!==null){for(t.flags|=128,Xl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(dt,dt.current&1|2),t.child}e=e.sibling}s.tail!==null&&xt()>ul&&(t.flags|=128,r=!0,Xl(s,!1),t.lanes=4194304)}else{if(!r)if(e=bh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return on(t),null}else 2*xt()-s.renderingStartTime>ul&&n!==1073741824&&(t.flags|=128,r=!0,Xl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xt(),t.sibling=null,n=dt.current,tt(dt,r?n&1|2:n&1),t):(on(t),null);case 22:case 23:return gb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yn&1073741824&&(on(t),t.subtreeFlags&6&&(t.flags|=8192)):on(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function _$(e,t){switch(Yx(t),t.tag){case 1:return zn(t.type)&&hh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ll(),st(Un),st(fn),sb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ib(t),null;case 13:if(st(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(dt),null;case 4:return ll(),null;case 10:return eb(t.type._context),null;case 22:case 23:return gb(),null;case 24:return null;default:return null}}var tf=!1,cn=!1,j$=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Na(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(e,t,r)}else n.current=null}function Gv(e,t,n){try{n()}catch(r){vt(e,t,r)}}var DS=!1;function E$(e,t){if(Av=ch,e=uC(),Qx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ov={focusedElem:e,selectionRange:n},ch=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Pr(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){vt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return m=DS,DS=!1,m}function Tc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gv(t,n,s)}i=i.next}while(i!==r)}}function vp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oR(e){var t=e.alternate;t!==null&&(e.alternate=null,oR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ai],delete t[nu],delete t[Dv],delete t[a$],delete t[l$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aR(e){return e.tag===5||e.tag===3||e.tag===4}function LS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fh));else if(r!==4&&(e=e.child,e!==null))for(Jv(e,t,n),e=e.sibling;e!==null;)Jv(e,t,n),e=e.sibling}function Xv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xv(e,t,n),e=e.sibling;e!==null;)Xv(e,t,n),e=e.sibling}var Qt=null,Or=!1;function Ji(e,t,n){for(n=n.child;n!==null;)lR(e,t,n),n=n.sibling}function lR(e,t,n){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount(cp,n)}catch{}switch(n.tag){case 5:cn||Na(n,t);case 6:var r=Qt,i=Or;Qt=null,Ji(e,t,n),Qt=r,Or=i,Qt!==null&&(Or?(e=Qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(Or?(e=Qt,n=n.stateNode,e.nodeType===8?Wm(e.parentNode,n):e.nodeType===1&&Wm(e,n),Jc(e)):Wm(Qt,n.stateNode));break;case 4:r=Qt,i=Or,Qt=n.stateNode.containerInfo,Or=!0,Ji(e,t,n),Qt=r,Or=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gv(n,t,o),i=i.next}while(i!==r)}Ji(e,t,n);break;case 1:if(!cn&&(Na(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,t,a)}Ji(e,t,n);break;case 21:Ji(e,t,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Ji(e,t,n),cn=r):Ji(e,t,n);break;default:Ji(e,t,n)}}function $S(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new j$),t.forEach(function(r){var i=I$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,Or=!1;break e;case 3:Qt=a.stateNode.containerInfo,Or=!0;break e;case 4:Qt=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(Qt===null)throw Error(J(160));lR(s,o,i),Qt=null,Or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cR(t,e),t=t.sibling}function cR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jr(t,e),Yr(e),r&4){try{Tc(3,e,e.return),vp(3,e)}catch(g){vt(e,e.return,g)}try{Tc(5,e,e.return)}catch(g){vt(e,e.return,g)}}break;case 1:jr(t,e),Yr(e),r&512&&n!==null&&Na(n,n.return);break;case 5:if(jr(t,e),Yr(e),r&512&&n!==null&&Na(n,n.return),e.flags&32){var i=e.stateNode;try{Kc(i,"")}catch(g){vt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nk(i,s),Sv(a,o);var u=Sv(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Dk(i,f):d==="dangerouslySetInnerHTML"?Ik(i,f):d==="children"?Kc(i,f):Fx(i,d,f,u)}switch(a){case"input":vv(i,s);break;case"textarea":Ak(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Da(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?Da(i,!!s.multiple,s.defaultValue,!0):Da(i,!!s.multiple,s.multiple?[]:"",!1))}i[nu]=s}catch(g){vt(e,e.return,g)}}break;case 6:if(jr(t,e),Yr(e),r&4){if(e.stateNode===null)throw Error(J(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){vt(e,e.return,g)}}break;case 3:if(jr(t,e),Yr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jc(t.containerInfo)}catch(g){vt(e,e.return,g)}break;case 4:jr(t,e),Yr(e);break;case 13:jr(t,e),Yr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pb=xt())),r&4&&$S(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(cn=(u=cn)||d,jr(t,e),cn=u):jr(t,e),Yr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(f=ae=d;ae!==null;){switch(p=ae,h=p.child,p.tag){case 0:case 11:case 14:case 15:Tc(4,p,p.return);break;case 1:Na(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){vt(r,n,g)}}break;case 5:Na(p,p.return);break;case 22:if(p.memoizedState!==null){US(f);continue}}h!==null?(h.return=p,ae=h):US(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fk("display",o))}catch(g){vt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){vt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jr(t,e),Yr(e),r&4&&$S(e);break;case 21:break;default:jr(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aR(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kc(i,""),r.flags&=-33);var s=LS(e);Xv(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=LS(e);Jv(e,a,o);break;default:throw Error(J(161))}}catch(l){vt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k$(e,t,n){ae=e,uR(e)}function uR(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=tf;var u=cn;if(tf=o,(cn=l)&&!u)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?zS(i):l!==null?(l.return=o,ae=l):zS(i);for(;s!==null;)ae=s,uR(s),s=s.sibling;ae=i,tf=a,cn=u}MS(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):MS(e)}}function MS(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||vp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_S(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_S(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Jc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}cn||t.flags&512&&Yv(t)}catch(p){vt(t,t.return,p)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function US(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function zS(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vp(4,t)}catch(l){vt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){vt(t,i,l)}}var s=t.return;try{Yv(t)}catch(l){vt(t,s,l)}break;case 5:var o=t.return;try{Yv(t)}catch(l){vt(t,o,l)}}}catch(l){vt(t,t.return,l)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var C$=Math.ceil,_h=Wi.ReactCurrentDispatcher,fb=Wi.ReactCurrentOwner,vr=Wi.ReactCurrentBatchConfig,$e=0,Bt=null,_t=null,Yt=0,Yn=0,Aa=Ws(0),At=0,lu=null,Po=0,yp=0,hb=0,Nc=null,Fn=null,pb=0,ul=1/0,Pi=null,jh=!1,Zv=null,Ps=null,nf=!1,ws=null,Eh=0,Ac=0,ey=null,zf=-1,Hf=0;function jn(){return $e&6?xt():zf!==-1?zf:zf=xt()}function Ts(e){return e.mode&1?$e&2&&Yt!==0?Yt&-Yt:u$.transition!==null?(Hf===0&&(Hf=Qk()),Hf):(e=We,e!==0||(e=window.event,e=e===void 0?16:tC(e.type)),e):1}function Lr(e,t,n,r){if(50<Ac)throw Ac=0,ey=null,Error(J(185));td(e,n,r),(!($e&2)||e!==Bt)&&(e===Bt&&(!($e&2)&&(yp|=n),At===4&&fs(e,Yt)),Hn(e,r),n===1&&$e===0&&!(t.mode&1)&&(ul=xt()+500,pp&&qs()))}function Hn(e,t){var n=e.callbackNode;uL(e,t);var r=lh(e,e===Bt?Yt:0);if(r===0)n!==null&&Y0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Y0(n),t===1)e.tag===0?c$(HS.bind(null,e)):bC(HS.bind(null,e)),s$(function(){!($e&6)&&qs()}),n=null;else{switch(Gk(r)){case 1:n=Ux;break;case 4:n=qk;break;case 16:n=ah;break;case 536870912:n=Kk;break;default:n=ah}n=yR(n,dR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dR(e,t){if(zf=-1,Hf=0,$e&6)throw Error(J(327));var n=e.callbackNode;if(za()&&e.callbackNode!==n)return null;var r=lh(e,e===Bt?Yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kh(e,r);else{t=r;var i=$e;$e|=2;var s=hR();(Bt!==e||Yt!==t)&&(Pi=null,ul=xt()+500,wo(e,t));do try{T$();break}catch(a){fR(e,a)}while(!0);Zx(),_h.current=s,$e=i,_t!==null?t=0:(Bt=null,Yt=0,t=At)}if(t!==0){if(t===2&&(i=Cv(e),i!==0&&(r=i,t=ty(e,i))),t===1)throw n=lu,wo(e,0),fs(e,r),Hn(e,xt()),n;if(t===6)fs(e,r);else{if(i=e.current.alternate,!(r&30)&&!R$(i)&&(t=kh(e,r),t===2&&(s=Cv(e),s!==0&&(r=s,t=ty(e,s))),t===1))throw n=lu,wo(e,0),fs(e,r),Hn(e,xt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:so(e,Fn,Pi);break;case 3:if(fs(e,r),(r&130023424)===r&&(t=pb+500-xt(),10<t)){if(lh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fv(so.bind(null,e,Fn,Pi),t);break}so(e,Fn,Pi);break;case 4:if(fs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Dr(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C$(r/1960))-r,10<r){e.timeoutHandle=Fv(so.bind(null,e,Fn,Pi),r);break}so(e,Fn,Pi);break;case 5:so(e,Fn,Pi);break;default:throw Error(J(329))}}}return Hn(e,xt()),e.callbackNode===n?dR.bind(null,e):null}function ty(e,t){var n=Nc;return e.current.memoizedState.isDehydrated&&(wo(e,t).flags|=256),e=kh(e,t),e!==2&&(t=Fn,Fn=n,t!==null&&ny(t)),e}function ny(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function R$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fs(e,t){for(t&=~hb,t&=~yp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dr(t),r=1<<n;e[n]=-1,t&=~r}}function HS(e){if($e&6)throw Error(J(327));za();var t=lh(e,0);if(!(t&1))return Hn(e,xt()),null;var n=kh(e,t);if(e.tag!==0&&n===2){var r=Cv(e);r!==0&&(t=r,n=ty(e,r))}if(n===1)throw n=lu,wo(e,0),fs(e,t),Hn(e,xt()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,so(e,Fn,Pi),Hn(e,xt()),null}function mb(e,t){var n=$e;$e|=1;try{return e(t)}finally{$e=n,$e===0&&(ul=xt()+500,pp&&qs())}}function To(e){ws!==null&&ws.tag===0&&!($e&6)&&za();var t=$e;$e|=1;var n=vr.transition,r=We;try{if(vr.transition=null,We=1,e)return e()}finally{We=r,vr.transition=n,$e=t,!($e&6)&&qs()}}function gb(){Yn=Aa.current,st(Aa)}function wo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i$(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Yx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hh();break;case 3:ll(),st(Un),st(fn),sb();break;case 5:ib(r);break;case 4:ll();break;case 13:st(dt);break;case 19:st(dt);break;case 10:eb(r.type._context);break;case 22:case 23:gb()}n=n.return}if(Bt=e,_t=e=Ns(e.current,null),Yt=Yn=t,At=0,lu=null,hb=yp=Po=0,Fn=Nc=null,ho!==null){for(t=0;t<ho.length;t++)if(n=ho[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ho=null}return e}function fR(e,t){do{var n=_t;try{if(Zx(),$f.current=Sh,wh){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wh=!1}if(Ro=0,Ut=Nt=ht=null,Pc=!1,su=0,fb.current=null,n===null||n.return===null){At=1,lu=t,_t=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=PS(o);if(h!==null){h.flags&=-257,TS(h,o,a,s,t),h.mode&1&&RS(s,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){RS(s,u,t),vb();break e}l=Error(J(426))}}else if(lt&&a.mode&1){var b=PS(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),TS(b,o,a,s,t),Jx(cl(l,a));break e}}s=l=cl(l,a),At!==4&&(At=2),Nc===null?Nc=[s]:Nc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=GC(s,l,t);SS(s,v);break e;case 1:a=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ps===null||!Ps.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=YC(s,a,t);SS(s,S);break e}}s=s.return}while(s!==null)}mR(n)}catch(j){t=j,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function hR(){var e=_h.current;return _h.current=Sh,e===null?Sh:e}function vb(){(At===0||At===3||At===2)&&(At=4),Bt===null||!(Po&268435455)&&!(yp&268435455)||fs(Bt,Yt)}function kh(e,t){var n=$e;$e|=2;var r=hR();(Bt!==e||Yt!==t)&&(Pi=null,wo(e,t));do try{P$();break}catch(i){fR(e,i)}while(!0);if(Zx(),$e=n,_h.current=r,_t!==null)throw Error(J(261));return Bt=null,Yt=0,At}function P$(){for(;_t!==null;)pR(_t)}function T$(){for(;_t!==null&&!tL();)pR(_t)}function pR(e){var t=vR(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?mR(e):_t=t,fb.current=null}function mR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_$(n,t),n!==null){n.flags&=32767,_t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,_t=null;return}}else if(n=S$(n,t,Yn),n!==null){_t=n;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);At===0&&(At=5)}function so(e,t,n){var r=We,i=vr.transition;try{vr.transition=null,We=1,N$(e,t,n,r)}finally{vr.transition=i,We=r}return null}function N$(e,t,n,r){do za();while(ws!==null);if($e&6)throw Error(J(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(dL(e,s),e===Bt&&(_t=Bt=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nf||(nf=!0,yR(ah,function(){return za(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vr.transition,vr.transition=null;var o=We;We=1;var a=$e;$e|=4,fb.current=null,E$(e,n),cR(n,e),JL(Ov),ch=!!Av,Ov=Av=null,e.current=n,k$(n),nL(),$e=a,We=o,vr.transition=s}else e.current=n;if(nf&&(nf=!1,ws=e,Eh=i),s=e.pendingLanes,s===0&&(Ps=null),sL(n.stateNode),Hn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jh)throw jh=!1,e=Zv,Zv=null,e;return Eh&1&&e.tag!==0&&za(),s=e.pendingLanes,s&1?e===ey?Ac++:(Ac=0,ey=e):Ac=0,qs(),null}function za(){if(ws!==null){var e=Gk(Eh),t=vr.transition,n=We;try{if(vr.transition=null,We=16>e?16:e,ws===null)var r=!1;else{if(e=ws,ws=null,Eh=0,$e&6)throw Error(J(331));var i=$e;for($e|=4,ae=e.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Tc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var p=d.sibling,h=d.return;if(oR(d),d===u){ae=null;break}if(p!==null){p.return=h,ae=p;break}ae=h}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ae=v;break e}ae=s.return}}var x=e.current;for(ae=x;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=x;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vp(9,a)}}catch(j){vt(a,a.return,j)}if(a===o){ae=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ae=S;break e}ae=a.return}}if($e=i,qs(),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot(cp,e)}catch{}r=!0}return r}finally{We=n,vr.transition=t}}return!1}function BS(e,t,n){t=cl(n,t),t=GC(e,t,1),e=Rs(e,t,1),t=jn(),e!==null&&(td(e,1,t),Hn(e,t))}function vt(e,t,n){if(e.tag===3)BS(e,e,n);else for(;t!==null;){if(t.tag===3){BS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ps===null||!Ps.has(r))){e=cl(n,e),e=YC(t,e,1),t=Rs(t,e,1),e=jn(),t!==null&&(td(t,1,e),Hn(t,e));break}}t=t.return}}function A$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&n,Bt===e&&(Yt&n)===n&&(At===4||At===3&&(Yt&130023424)===Yt&&500>xt()-pb?wo(e,0):hb|=n),Hn(e,t)}function gR(e,t){t===0&&(e.mode&1?(t=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):t=1);var n=jn();e=$i(e,t),e!==null&&(td(e,t,n),Hn(e,n))}function O$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gR(e,n)}function I$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),gR(e,n)}var vR;vR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Un.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,w$(e,t,n);$n=!!(e.flags&131072)}else $n=!1,lt&&t.flags&1048576&&wC(t,gh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Uf(e,t),e=t.pendingProps;var i=sl(t,fn.current);Ua(t,n),i=ab(null,t,r,e,i,n);var s=lb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zn(r)?(s=!0,ph(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nb(t),i.updater=gp,t.stateNode=i,i._reactInternals=t,Hv(t,r,e,n),t=Wv(null,t,r,!0,s,n)):(t.tag=0,lt&&s&&Gx(t),wn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Uf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=D$(r),e=Pr(r,e),i){case 0:t=Vv(null,t,r,e,n);break e;case 1:t=OS(null,t,r,e,n);break e;case 11:t=NS(null,t,r,e,n);break e;case 14:t=AS(null,t,r,Pr(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),Vv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),OS(e,t,r,i,n);case 3:e:{if(eR(t),e===null)throw Error(J(387));r=t.pendingProps,s=t.memoizedState,i=s.element,CC(e,t),xh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=cl(Error(J(423)),t),t=IS(e,t,r,n,i);break e}else if(r!==i){i=cl(Error(J(424)),t),t=IS(e,t,r,n,i);break e}else for(Zn=Cs(t.stateNode.containerInfo.firstChild),er=t,lt=!0,Fr=null,n=EC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===i){t=Mi(e,t,n);break e}wn(e,t,r,n)}t=t.child}return t;case 5:return RC(t),e===null&&Mv(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Iv(r,i)?o=null:s!==null&&Iv(r,s)&&(t.flags|=32),ZC(e,t),wn(e,t,o,n),t.child;case 6:return e===null&&Mv(t),null;case 13:return tR(e,t,n);case 4:return rb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=al(t,null,r,n):wn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),NS(e,t,r,i,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,tt(vh,r._currentValue),r._currentValue=o,s!==null)if(zr(s.value,o)){if(s.children===i.children&&!Un.current){t=Mi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Uv(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Uv(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ua(t,n),i=br(i),r=r(i),t.flags|=1,wn(e,t,r,n),t.child;case 14:return r=t.type,i=Pr(r,t.pendingProps),i=Pr(r.type,i),AS(e,t,r,i,n);case 15:return JC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),Uf(e,t),t.tag=1,zn(r)?(e=!0,ph(t)):e=!1,Ua(t,n),QC(t,r,i),Hv(t,r,i,n),Wv(null,t,r,!0,e,n);case 19:return nR(e,t,n);case 22:return XC(e,t,n)}throw Error(J(156,t.tag))};function yR(e,t){return Wk(e,t)}function F$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,t,n,r){return new F$(e,t,n,r)}function yb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D$(e){if(typeof e=="function")return yb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lx)return 11;if(e===$x)return 14}return 2}function Ns(e,t){var n=e.alternate;return n===null?(n=gr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bf(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")yb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Sa:return So(n.children,i,s,t);case Dx:o=8,i|=8;break;case fv:return e=gr(12,n,t,i|2),e.elementType=fv,e.lanes=s,e;case hv:return e=gr(13,n,t,i),e.elementType=hv,e.lanes=s,e;case pv:return e=gr(19,n,t,i),e.elementType=pv,e.lanes=s,e;case Rk:return xp(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kk:o=10;break e;case Ck:o=9;break e;case Lx:o=11;break e;case $x:o=14;break e;case cs:o=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=gr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function So(e,t,n,r){return e=gr(7,e,r,t),e.lanes=n,e}function xp(e,t,n,r){return e=gr(22,e,r,t),e.elementType=Rk,e.lanes=n,e.stateNode={isHidden:!1},e}function Zm(e,t,n){return e=gr(6,e,null,t),e.lanes=n,e}function eg(e,t,n){return t=gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xb(e,t,n,r,i,s,o,a,l){return e=new L$(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=gr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nb(s),e}function $$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xR(e){if(!e)return $s;e=e._reactInternals;e:{if(zo(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(zn(n))return xC(e,n,t)}return t}function bR(e,t,n,r,i,s,o,a,l){return e=xb(n,r,!0,e,i,s,o,a,l),e.context=xR(null),n=e.current,r=jn(),i=Ts(n),s=Fi(r,i),s.callback=t??null,Rs(n,s,i),e.current.lanes=i,td(e,i,r),Hn(e,r),e}function bp(e,t,n,r){var i=t.current,s=jn(),o=Ts(i);return n=xR(n),t.context===null?t.context=n:t.pendingContext=n,t=Fi(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rs(i,t,o),e!==null&&(Lr(e,i,o,s),Lf(e,i,o)),o}function Ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bb(e,t){VS(e,t),(e=e.alternate)&&VS(e,t)}function M$(){return null}var wR=typeof reportError=="function"?reportError:function(e){console.error(e)};function wb(e){this._internalRoot=e}wp.prototype.render=wb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));bp(e,t,null,null)};wp.prototype.unmount=wb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;To(function(){bp(null,e,null,null)}),t[Li]=null}};function wp(e){this._internalRoot=e}wp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ds.length&&t!==0&&t<ds[n].priority;n++);ds.splice(n,0,e),n===0&&eC(e)}};function Sb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WS(){}function U$(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ch(o);s.call(u)}}var o=bR(t,r,e,0,null,!1,!1,"",WS);return e._reactRootContainer=o,e[Li]=o.current,eu(e.nodeType===8?e.parentNode:e),To(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ch(l);a.call(u)}}var l=xb(e,0,!1,null,null,!1,!1,"",WS);return e._reactRootContainer=l,e[Li]=l.current,eu(e.nodeType===8?e.parentNode:e),To(function(){bp(t,l,n,r)}),l}function _p(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ch(o);a.call(l)}}bp(t,o,e,i)}else o=U$(n,t,e,i,r);return Ch(o)}Yk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pc(t.pendingLanes);n!==0&&(zx(t,n|1),Hn(t,xt()),!($e&6)&&(ul=xt()+500,qs()))}break;case 13:To(function(){var r=$i(e,1);if(r!==null){var i=jn();Lr(r,e,1,i)}}),bb(e,1)}};Hx=function(e){if(e.tag===13){var t=$i(e,134217728);if(t!==null){var n=jn();Lr(t,e,134217728,n)}bb(e,134217728)}};Jk=function(e){if(e.tag===13){var t=Ts(e),n=$i(e,t);if(n!==null){var r=jn();Lr(n,e,t,r)}bb(e,t)}};Xk=function(){return We};Zk=function(e,t){var n=We;try{return We=e,t()}finally{We=n}};jv=function(e,t,n){switch(t){case"input":if(vv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hp(r);if(!i)throw Error(J(90));Tk(r),vv(r,i)}}}break;case"textarea":Ak(e,n);break;case"select":t=n.value,t!=null&&Da(e,!!n.multiple,t,!1)}};Mk=mb;Uk=To;var z$={usingClientEntryPoint:!1,Events:[rd,ka,hp,Lk,$k,mb]},Zl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H$={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bk(e),e===null?null:e.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||M$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{cp=rf.inject(H$),di=rf}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z$;sr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sb(t))throw Error(J(200));return $$(e,t,null,n)};sr.createRoot=function(e,t){if(!Sb(e))throw Error(J(299));var n=!1,r="",i=wR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=xb(e,1,!1,null,null,n,!1,r,i),e[Li]=t.current,eu(e.nodeType===8?e.parentNode:e),new wb(t)};sr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Bk(t),e=e===null?null:e.stateNode,e};sr.flushSync=function(e){return To(e)};sr.hydrate=function(e,t,n){if(!Sp(t))throw Error(J(200));return _p(null,e,t,!0,n)};sr.hydrateRoot=function(e,t,n){if(!Sb(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bR(t,null,e,1,n??null,i,!1,s,o),e[Li]=t.current,eu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new wp(t)};sr.render=function(e,t,n){if(!Sp(t))throw Error(J(200));return _p(null,e,t,!1,n)};sr.unmountComponentAtNode=function(e){if(!Sp(e))throw Error(J(40));return e._reactRootContainer?(To(function(){_p(null,null,e,!1,function(){e._reactRootContainer=null,e[Li]=null})}),!0):!1};sr.unstable_batchedUpdates=mb;sr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sp(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return _p(e,t,n,!1,r)};sr.version="18.3.1-next-f1338f8080-20240426";function SR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SR)}catch(e){console.error(e)}}SR(),Sk.exports=sr;var Ho=Sk.exports;const _R=Bs(Ho);var jR,qS=Ho;jR=qS.createRoot,qS.hydrateRoot;const B$=1,V$=1e6;let tg=0;function W$(){return tg=(tg+1)%Number.MAX_SAFE_INTEGER,tg.toString()}const ng=new Map,KS=e=>{if(ng.has(e))return;const t=setTimeout(()=>{ng.delete(e),Oc({type:"REMOVE_TOAST",toastId:e})},V$);ng.set(e,t)},q$=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,B$)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?KS(n):e.toasts.forEach(r=>{KS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Vf=[];let Wf={toasts:[]};function Oc(e){Wf=q$(Wf,e),Vf.forEach(t=>{t(Wf)})}function K$({...e}){const t=W$(),n=i=>Oc({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Oc({type:"DISMISS_TOAST",toastId:t});return Oc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Vt(){const[e,t]=y.useState(Wf);return y.useEffect(()=>(Vf.push(t),()=>{const n=Vf.indexOf(t);n>-1&&Vf.splice(n,1)}),[e]),{...e,toast:K$,dismiss:n=>Oc({type:"DISMISS_TOAST",toastId:n})}}function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function QS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jp(...e){return t=>{let n=!1;const r=e.map(i=>{const s=QS(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():QS(e[i],null)}}}}function Ie(...e){return y.useCallback(jp(...e),e)}function Q$(e,t){const n=y.createContext(t),r=s=>{const{children:o,...a}=s,l=y.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(s){const o=y.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function ar(e,t=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=f=>{var v;const{scope:p,children:h,...m}=f,g=((v=p==null?void 0:p[e])==null?void 0:v[l])||a,b=y.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:b,children:h})};u.displayName=s+"Provider";function d(f,p){var g;const h=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,m=y.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,G$(i,...t)]}function G$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function No(e){const t=J$(e),n=y.forwardRef((r,i)=>{const{children:s,...o}=r,a=y.Children.toArray(s),l=a.find(X$);if(l){const u=l.props.children,d=a.map(f=>f===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...o,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Y$=No("Slot");function J$(e){const t=y.forwardRef((n,r)=>{const{children:i,...s}=n;if(y.isValidElement(i)){const o=eM(i),a=Z$(s,i.props);return i.type!==y.Fragment&&(a.ref=r?jp(r,o):o),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ER=Symbol("radix.slottable");function kR(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ER,t}function X$(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ER}function Z$(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function eM(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ep(e){const t=e+"CollectionProvider",[n,r]=ar(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:v}=g,x=V.useRef(null),w=V.useRef(new Map).current;return c.jsx(i,{scope:b,itemMap:w,collectionRef:x,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=No(a),u=V.forwardRef((g,b)=>{const{scope:v,children:x}=g,w=s(a,v),S=Ie(b,w.collectionRef);return c.jsx(l,{ref:S,children:x})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=No(d),h=V.forwardRef((g,b)=>{const{scope:v,children:x,...w}=g,S=V.useRef(null),j=Ie(b,S),_=s(d,v);return V.useEffect(()=>(_.itemMap.set(S,{ref:S,...w}),()=>void _.itemMap.delete(S))),c.jsx(p,{[f]:"",ref:j,children:x})});h.displayName=d;function m(g){const b=s(e+"CollectionConsumer",g);return V.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((_,C)=>w.indexOf(_.ref.current)-w.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},m,r]}var tM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=tM.reduce((e,t)=>{const n=No(`Primitive.${t}`),r=y.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _b(e,t){e&&Ho.flushSync(()=>e.dispatchEvent(t))}function Bn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function nM(e,t=globalThis==null?void 0:globalThis.document){const n=Bn(e);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var rM="DismissableLayer",ry="dismissableLayer.update",iM="dismissableLayer.pointerDownOutside",sM="dismissableLayer.focusOutside",GS,CR=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),El=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,u=y.useContext(CR),[d,f]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=y.useState({}),m=Ie(t,C=>f(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,j=aM(C=>{const T=C.target,I=[...u.branches].some(R=>R.contains(T));!S||I||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),_=lM(C=>{const T=C.target;[...u.branches].some(R=>R.contains(T))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return nM(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),YS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=GS)}},[d,p,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),YS())},[d,u]),y.useEffect(()=>{const C=()=>h({});return document.addEventListener(ry,C),()=>document.removeEventListener(ry,C)},[]),c.jsx(pe.div,{...l,ref:m,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,j.onPointerDownCapture)})});El.displayName=rM;var oM="DismissableLayerBranch",RR=y.forwardRef((e,t)=>{const n=y.useContext(CR),r=y.useRef(null),i=Ie(t,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(pe.div,{...e,ref:i})});RR.displayName=oM;function aM(e,t=globalThis==null?void 0:globalThis.document){const n=Bn(e),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){PR(iM,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function lM(e,t=globalThis==null?void 0:globalThis.document){const n=Bn(e),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&PR(sM,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YS(){const e=new CustomEvent(ry);document.dispatchEvent(e)}function PR(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?_b(i,s):i.dispatchEvent(s)}var cM=El,uM=RR,Xt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},dM="Portal",sd=y.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,s]=y.useState(!1);Xt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?_R.createPortal(c.jsx(pe.div,{...r,ref:t}),o):null});sd.displayName=dM;function fM(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var Sr=e=>{const{present:t,children:n}=e,r=hM(t),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=Ie(r.ref,pM(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Sr.displayName="Presence";function hM(e){const[t,n]=y.useState(),r=y.useRef(null),i=y.useRef(e),s=y.useRef("none"),o=e?"mounted":"unmounted",[a,l]=fM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=sf(r.current);s.current=a==="mounted"?u:"none"},[a]),Xt(()=>{const u=r.current,d=i.current;if(d!==e){const p=s.current,h=sf(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const g=sf(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&g&&(l("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=h=>{h.target===t&&(s.current=sf(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function sf(e){return(e==null?void 0:e.animationName)||"none"}function pM(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mM=lp[" useInsertionEffect ".trim().toString()]||Xt;function Ui({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=gM({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:i;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var f;if(a){const p=vM(d)?d(e):d;p!==e&&((f=o.current)==null||f.call(o,p))}else s(d)},[a,e,s,o]);return[l,u]}function gM({defaultProp:e,onChange:t}){const[n,r]=y.useState(e),i=y.useRef(n),s=y.useRef(t);return mM(()=>{s.current=t},[t]),y.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function vM(e){return typeof e=="function"}var TR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yM="VisuallyHidden",kp=y.forwardRef((e,t)=>c.jsx(pe.span,{...e,ref:t,style:{...TR,...e.style}}));kp.displayName=yM;var xM=kp,jb="ToastProvider",[Eb,bM,wM]=Ep("Toast"),[NR,$ae]=ar("Toast",[wM]),[SM,Cp]=NR(jb),AR=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[a,l]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jb}\`. Expected non-empty \`string\`.`),c.jsx(Eb.Provider,{scope:t,children:c.jsx(SM,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(h=>h+1),[]),onToastRemove:y.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};AR.displayName=jb;var OR="ToastViewport",_M=["F8"],iy="toast.viewportPause",sy="toast.viewportResume",IR=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=_M,label:i="Notifications ({hotkey})",...s}=e,o=Cp(OR,n),a=bM(n),l=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),p=Ie(t,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;y.useEffect(()=>{const b=v=>{var w;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),y.useEffect(()=>{const b=l.current,v=f.current;if(m&&b&&v){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(iy);v.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(sy);v.dispatchEvent(_),o.isClosePausedRef.current=!1}},S=_=>{!b.contains(_.relatedTarget)&&w()},j=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",x),b.addEventListener("focusout",S),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[m,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:b})=>{const x=a().map(w=>{const S=w.ref.current,j=[S,...DM(S)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return y.useEffect(()=>{const b=f.current;if(b){const v=x=>{var j,_,C;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const T=document.activeElement,I=x.shiftKey;if(x.target===b&&I){(j=u.current)==null||j.focus();return}const O=g({tabbingDirection:I?"backwards":"forwards"}),D=O.findIndex(A=>A===T);rg(O.slice(D+1))?x.preventDefault():I?(_=u.current)==null||_.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[a,g]),c.jsxs(uM,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&c.jsx(oy,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});rg(b)}}),c.jsx(Eb.Slot,{scope:n,children:c.jsx(pe.ol,{tabIndex:-1,...s,ref:p})}),m&&c.jsx(oy,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});rg(b)}})]})});IR.displayName=OR;var FR="ToastFocusProxy",oy=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=Cp(FR,n);return c.jsx(kp,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});oy.displayName=FR;var od="Toast",jM="toast.swipeStart",EM="toast.swipeMove",kM="toast.swipeCancel",CM="toast.swipeEnd",DR=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=e,[a,l]=Ui({prop:r,defaultProp:i??!0,onChange:s,caller:od});return c.jsx(Sr,{present:n||a,children:c.jsx(TM,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:Bn(e.onPause),onResume:Bn(e.onResume),onSwipeStart:ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});DR.displayName=od;var[RM,PM]=NR(od,{onClose(){}}),TM=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...m}=e,g=Cp(od,n),[b,v]=y.useState(null),x=Ie(t,A=>v(A)),w=y.useRef(null),S=y.useRef(null),j=i||g.duration,_=y.useRef(0),C=y.useRef(j),T=y.useRef(0),{onToastAdd:I,onToastRemove:R}=g,F=Bn(()=>{var M;(b==null?void 0:b.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),O=y.useCallback(A=>{!A||A===1/0||(window.clearTimeout(T.current),_.current=new Date().getTime(),T.current=window.setTimeout(F,A))},[F]);y.useEffect(()=>{const A=g.viewport;if(A){const M=()=>{O(C.current),u==null||u()},H=()=>{const B=new Date().getTime()-_.current;C.current=C.current-B,window.clearTimeout(T.current),l==null||l()};return A.addEventListener(iy,H),A.addEventListener(sy,M),()=>{A.removeEventListener(iy,H),A.removeEventListener(sy,M)}}},[g.viewport,j,l,u,O]),y.useEffect(()=>{s&&!g.isClosePausedRef.current&&O(j)},[s,j,g.isClosePausedRef,O]),y.useEffect(()=>(I(),()=>R()),[I,R]);const D=y.useMemo(()=>b?BR(b):null,[b]);return g.viewport?c.jsxs(c.Fragment,{children:[D&&c.jsx(NM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),c.jsx(RM,{scope:n,onClose:F,children:Ho.createPortal(c.jsx(Eb.ItemSlot,{scope:n,children:c.jsx(cM,{asChild:!0,onEscapeKeyDown:ne(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(pe.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,A=>{A.key==="Escape"&&(a==null||a(A.nativeEvent),A.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ne(e.onPointerDown,A=>{A.button===0&&(w.current={x:A.clientX,y:A.clientY})}),onPointerMove:ne(e.onPointerMove,A=>{if(!w.current)return;const M=A.clientX-w.current.x,H=A.clientY-w.current.y,B=!!S.current,P=["left","right"].includes(g.swipeDirection),k=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,E=P?k(0,M):0,$=P?0:k(0,H),U=A.pointerType==="touch"?10:2,N={x:E,y:$},K={originalEvent:A,delta:N};B?(S.current=N,of(EM,f,K,{discrete:!1})):JS(N,g.swipeDirection,U)?(S.current=N,of(jM,d,K,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(M)>U||Math.abs(H)>U)&&(w.current=null)}),onPointerUp:ne(e.onPointerUp,A=>{const M=S.current,H=A.target;if(H.hasPointerCapture(A.pointerId)&&H.releasePointerCapture(A.pointerId),S.current=null,w.current=null,M){const B=A.currentTarget,P={originalEvent:A,delta:M};JS(M,g.swipeDirection,g.swipeThreshold)?of(CM,h,P,{discrete:!0}):of(kM,p,P,{discrete:!0}),B.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),NM=e=>{const{__scopeToast:t,children:n,...r}=e,i=Cp(od,t),[s,o]=y.useState(!1),[a,l]=y.useState(!1);return IM(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(sd,{asChild:!0,children:c.jsx(kp,{...r,children:s&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},AM="ToastTitle",LR=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(pe.div,{...r,ref:t})});LR.displayName=AM;var OM="ToastDescription",$R=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(pe.div,{...r,ref:t})});$R.displayName=OM;var MR="ToastAction",UR=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(HR,{altText:n,asChild:!0,children:c.jsx(kb,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${MR}\`. Expected non-empty \`string\`.`),null)});UR.displayName=MR;var zR="ToastClose",kb=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=PM(zR,n);return c.jsx(HR,{asChild:!0,children:c.jsx(pe.button,{type:"button",...r,ref:t,onClick:ne(e.onClick,i.onClose)})})});kb.displayName=zR;var HR=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return c.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function BR(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),FM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...BR(r))}}),t}function of(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?_b(i,s):i.dispatchEvent(s)}var JS=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function IM(e=()=>{}){const t=Bn(e);Xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function FM(e){return e.nodeType===e.ELEMENT_NODE}function DM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var LM=AR,VR=IR,WR=DR,qR=LR,KR=$R,QR=UR,GR=kb;function YR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=YR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function JR(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=YR(e))&&(r&&(r+=" "),r+=t);return r}const XS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ZS=JR,ad=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ZS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const p=XS(d)||XS(f);return i[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(m=>{let[g,b]=m;return Array.isArray(b)?b.includes({...s,...a}[g]):{...s,...a}[g]===b})?[...u,f,p]:u},[]);return ZS(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...MM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:XR("lucide",i),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(UM,{ref:s,iconNode:t,className:XR(`lucide-${$M(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=ge("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=ge("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nb="-",t4=e=>{const t=r4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Nb);return a[0]===""&&a.length!==1&&a.shift(),sP(a,t)||n4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},sP=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?sP(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Nb);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},r_=/^\[(.+)\]$/,n4=e=>{if(r_.test(e)){const t=r_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},r4=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return s4(Object.entries(e.classGroups),n).forEach(([s,o])=>{uy(o,r,s,t)}),r},uy=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:i_(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(i4(i)){uy(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{uy(o,i_(t,s),n,r)})})},i_=(e,t)=>{let n=e;return t.split(Nb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},i4=e=>e.isThemeGetter,s4=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[n,i]}):e,o4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},oP="!",a4=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=a=>{const l=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let v=a[b];if(u===0){if(v===i&&(r||a.slice(b,b+s)===t)){l.push(a.slice(d,b)),d=b+s;continue}if(v==="/"){f=b;continue}}v==="["?u++:v==="]"&&u--}const p=l.length===0?a:a.substring(d),h=p.startsWith(oP),m=h?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},l4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},c4=e=>({cache:o4(e.cacheSize),parseClassName:a4(e),...t4(e)}),u4=/\s+/,d4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(u4);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(u);let m=!!h,g=r(m?p.substring(0,h):p);if(!g){if(!m){a=u+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=u+(a.length>0?" "+a:a);continue}m=!1}const b=l4(d).join(":"),v=f?b+oP:b,x=v+g;if(s.includes(x))continue;s.push(x);const w=i(g,m);for(let S=0;S<w.length;++S){const j=w[S];s.push(v+j)}a=u+(a.length>0?" "+a:a)}return a};function f4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=aP(t))&&(r&&(r+=" "),r+=n);return r}const aP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=aP(e[r]))&&(n&&(n+=" "),n+=t);return n};function h4(e,...t){let n,r,i,s=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return n=c4(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=d4(l,n);return i(l,d),d}return function(){return s(f4.apply(null,arguments))}}const rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},lP=/^\[(?:([a-z-]+):)?(.+)\]$/i,p4=/^\d+\/\d+$/,m4=new Set(["px","full","screen"]),g4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ji=e=>Ba(e)||m4.has(e)||p4.test(e),Xi=e=>kl(e,"length",R4),Ba=e=>!!e&&!Number.isNaN(Number(e)),ig=e=>kl(e,"number",Ba),ec=e=>!!e&&Number.isInteger(Number(e)),w4=e=>e.endsWith("%")&&Ba(e.slice(0,-1)),_e=e=>lP.test(e),Zi=e=>g4.test(e),S4=new Set(["length","size","percentage"]),_4=e=>kl(e,S4,cP),j4=e=>kl(e,"position",cP),E4=new Set(["image","url"]),k4=e=>kl(e,E4,T4),C4=e=>kl(e,"",P4),tc=()=>!0,kl=(e,t,n)=>{const r=lP.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},R4=e=>v4.test(e)&&!y4.test(e),cP=()=>!1,P4=e=>x4.test(e),T4=e=>b4.test(e),N4=()=>{const e=rt("colors"),t=rt("spacing"),n=rt("blur"),r=rt("brightness"),i=rt("borderColor"),s=rt("borderRadius"),o=rt("borderSpacing"),a=rt("borderWidth"),l=rt("contrast"),u=rt("grayscale"),d=rt("hueRotate"),f=rt("invert"),p=rt("gap"),h=rt("gradientColorStops"),m=rt("gradientColorStopPositions"),g=rt("inset"),b=rt("margin"),v=rt("opacity"),x=rt("padding"),w=rt("saturate"),S=rt("scale"),j=rt("sepia"),_=rt("skew"),C=rt("space"),T=rt("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",_e,t],O=()=>[_e,t],D=()=>["",ji,Xi],A=()=>["auto",Ba,_e],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",_e],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Ba,_e];return{cacheSize:500,separator:":",theme:{colors:[tc],spacing:[ji,Xi],blur:["none","",Zi,_e],brightness:$(),borderColor:[e],borderRadius:["none","","full",Zi,_e],borderSpacing:O(),borderWidth:D(),contrast:$(),grayscale:k(),hueRotate:$(),invert:k(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[w4,Xi],inset:F(),margin:F(),opacity:$(),padding:O(),saturate:$(),scale:$(),sepia:k(),skew:$(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Zi]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),_e]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ec,_e]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",ec,_e]}],"grid-cols":[{"grid-cols":[tc]}],"col-start-end":[{col:["auto",{span:["full",ec,_e]},_e]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[tc]}],"row-start-end":[{row:["auto",{span:[ec,_e]},_e]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[Zi]},Zi]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zi,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ig]}],"font-family":[{font:[tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Ba,ig]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ji,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ji,Xi]}],"underline-offset":[{"underline-offset":["auto",ji,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),j4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},k4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ji,_e]}],"outline-w":[{outline:[ji,Xi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ji,Xi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zi,C4]}],"shadow-color":[{shadow:[tc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zi,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ec,_e]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ji,Xi,ig]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},A4=h4(N4);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var sg,s_;function o_(){if(s_)return sg;s_=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:o,create:a}=Object,{apply:l,construct:u}=typeof Reflect<"u"&&Reflect;s||(s=function(se){return se}),o||(o=function(se){return se}),l||(l=function(se,Te,ke){return se.apply(Te,ke)}),u||(u=function(se,Te){return new se(...Te)});const d=T(Array.prototype.forEach),f=T(Array.prototype.lastIndexOf),p=T(Array.prototype.pop),h=T(Array.prototype.push),m=T(Array.prototype.splice),g=T(String.prototype.toLowerCase),b=T(String.prototype.toString),v=T(String.prototype.match),x=T(String.prototype.replace),w=T(String.prototype.indexOf),S=T(String.prototype.trim),j=T(Object.prototype.hasOwnProperty),_=T(RegExp.prototype.test),C=I(TypeError);function T(we){return function(se){se instanceof RegExp&&(se.lastIndex=0);for(var Te=arguments.length,ke=new Array(Te>1?Te-1:0),z=1;z<Te;z++)ke[z-1]=arguments[z];return l(we,se,ke)}}function I(we){return function(){for(var se=arguments.length,Te=new Array(se),ke=0;ke<se;ke++)Te[ke]=arguments[ke];return u(we,Te)}}function R(we,se){let Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g;t&&t(we,null);let ke=se.length;for(;ke--;){let z=se[ke];if(typeof z=="string"){const G=Te(z);G!==z&&(n(se)||(se[ke]=G),z=G)}we[z]=!0}return we}function F(we){for(let se=0;se<we.length;se++)j(we,se)||(we[se]=null);return we}function O(we){const se=a(null);for(const[Te,ke]of e(we))j(we,Te)&&(Array.isArray(ke)?se[Te]=F(ke):ke&&typeof ke=="object"&&ke.constructor===Object?se[Te]=O(ke):se[Te]=ke);return se}function D(we,se){for(;we!==null;){const ke=i(we,se);if(ke){if(ke.get)return T(ke.get);if(typeof ke.value=="function")return T(ke.value)}we=r(we)}function Te(){return null}return Te}const A=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),E=s(["#text"]),$=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),U=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),K=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Q=o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=o(/<%[\w\W]*|[\w\W]*%>/gm),W=o(/\$\{[\w\W]*/gm),ie=o(/^data-[\-\w.\u00B7-\uFFFF]+$/),ue=o(/^aria-[\-\w]+$/),le=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),me=o(/^(?:\w+script|data):/i),Ee=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ct=o(/^html$/i),Ot=o(/^[a-z][.\w]*(-[.\w]+)+$/i);var It=Object.freeze({__proto__:null,ARIA_ATTR:ue,ATTR_WHITESPACE:Ee,CUSTOM_ELEMENT:Ot,DATA_ATTR:ie,DOCTYPE_NAME:ct,ERB_EXPR:Y,IS_ALLOWED_URI:le,IS_SCRIPT_OR_DATA:me,MUSTACHE_EXPR:Q,TMPLIT_EXPR:W});const Et={element:1,text:3,progressingInstruction:7,comment:8,document:9},lr=function(){return typeof window>"u"?null:window},xi=function(se,Te){if(typeof se!="object"||typeof se.createPolicy!="function")return null;let ke=null;const z="data-tt-policy-suffix";Te&&Te.hasAttribute(z)&&(ke=Te.getAttribute(z));const G="dompurify"+(ke?"#"+ke:"");try{return se.createPolicy(G,{createHTML(fe){return fe},createScriptURL(fe){return fe}})}catch{return console.warn("TrustedTypes policy "+G+" could not be created."),null}},cr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Yi(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lr();const se=de=>Yi(de);if(se.version="3.2.6",se.removed=[],!we||!we.document||we.document.nodeType!==Et.document||!we.Element)return se.isSupported=!1,se;let{document:Te}=we;const ke=Te,z=ke.currentScript,{DocumentFragment:G,HTMLTemplateElement:fe,Node:Se,Element:Ne,NodeFilter:kt,NamedNodeMap:ur=we.NamedNodeMap||we.MozNamedAttrMap,HTMLFormElement:gn,DOMParser:Rn,trustedTypes:Wn}=we,Ye=Ne.prototype,Kr=D(Ye,"cloneNode"),qn=D(Ye,"remove"),Nd=D(Ye,"nextSibling"),Ad=D(Ye,"childNodes"),Yo=D(Ye,"parentNode");if(typeof fe=="function"){const de=Te.createElement("template");de.content&&de.content.ownerDocument&&(Te=de.content.ownerDocument)}let Ct,Pn="";const{implementation:zl,createNodeIterator:ve,createDocumentFragment:ze,getElementsByTagName:Je}=Te,{importNode:Kn}=ke;let Qe=cr();se.isSupported=typeof e=="function"&&typeof Yo=="function"&&zl&&zl.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:dr,ERB_EXPR:_r,TMPLIT_EXPR:vn,DATA_ATTR:Qr,ARIA_ATTR:rD,IS_SCRIPT_OR_DATA:iD,ATTR_WHITESPACE:f0,CUSTOM_ELEMENT:sD}=It;let{IS_ALLOWED_URI:h0}=It,Ft=null;const p0=R({},[...A,...M,...H,...P,...E]);let Wt=null;const m0=R({},[...$,...U,...N,...K]);let yt=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Hl=null,vm=null,g0=!0,ym=!0,v0=!1,y0=!0,Jo=!1,Od=!0,Zs=!1,xm=!1,bm=!1,Xo=!1,Id=!1,Fd=!1,x0=!0,b0=!1;const oD="user-content-";let wm=!0,Bl=!1,Zo={},ea=null;const w0=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let S0=null;const _0=R({},["audio","video","img","source","image","track"]);let Sm=null;const j0=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Dd="http://www.w3.org/1998/Math/MathML",Ld="http://www.w3.org/2000/svg",wi="http://www.w3.org/1999/xhtml";let ta=wi,_m=!1,jm=null;const aD=R({},[Dd,Ld,wi],b);let $d=R({},["mi","mo","mn","ms","mtext"]),Md=R({},["annotation-xml"]);const lD=R({},["title","style","font","a","script"]);let Vl=null;const cD=["application/xhtml+xml","text/html"],uD="text/html";let Dt=null,na=null;const dD=Te.createElement("form"),E0=function(L){return L instanceof RegExp||L instanceof Function},Em=function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(na&&na===L)){if((!L||typeof L!="object")&&(L={}),L=O(L),Vl=cD.indexOf(L.PARSER_MEDIA_TYPE)===-1?uD:L.PARSER_MEDIA_TYPE,Dt=Vl==="application/xhtml+xml"?b:g,Ft=j(L,"ALLOWED_TAGS")?R({},L.ALLOWED_TAGS,Dt):p0,Wt=j(L,"ALLOWED_ATTR")?R({},L.ALLOWED_ATTR,Dt):m0,jm=j(L,"ALLOWED_NAMESPACES")?R({},L.ALLOWED_NAMESPACES,b):aD,Sm=j(L,"ADD_URI_SAFE_ATTR")?R(O(j0),L.ADD_URI_SAFE_ATTR,Dt):j0,S0=j(L,"ADD_DATA_URI_TAGS")?R(O(_0),L.ADD_DATA_URI_TAGS,Dt):_0,ea=j(L,"FORBID_CONTENTS")?R({},L.FORBID_CONTENTS,Dt):w0,Hl=j(L,"FORBID_TAGS")?R({},L.FORBID_TAGS,Dt):O({}),vm=j(L,"FORBID_ATTR")?R({},L.FORBID_ATTR,Dt):O({}),Zo=j(L,"USE_PROFILES")?L.USE_PROFILES:!1,g0=L.ALLOW_ARIA_ATTR!==!1,ym=L.ALLOW_DATA_ATTR!==!1,v0=L.ALLOW_UNKNOWN_PROTOCOLS||!1,y0=L.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Jo=L.SAFE_FOR_TEMPLATES||!1,Od=L.SAFE_FOR_XML!==!1,Zs=L.WHOLE_DOCUMENT||!1,Xo=L.RETURN_DOM||!1,Id=L.RETURN_DOM_FRAGMENT||!1,Fd=L.RETURN_TRUSTED_TYPE||!1,bm=L.FORCE_BODY||!1,x0=L.SANITIZE_DOM!==!1,b0=L.SANITIZE_NAMED_PROPS||!1,wm=L.KEEP_CONTENT!==!1,Bl=L.IN_PLACE||!1,h0=L.ALLOWED_URI_REGEXP||le,ta=L.NAMESPACE||wi,$d=L.MATHML_TEXT_INTEGRATION_POINTS||$d,Md=L.HTML_INTEGRATION_POINTS||Md,yt=L.CUSTOM_ELEMENT_HANDLING||{},L.CUSTOM_ELEMENT_HANDLING&&E0(L.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=L.CUSTOM_ELEMENT_HANDLING.tagNameCheck),L.CUSTOM_ELEMENT_HANDLING&&E0(L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),L.CUSTOM_ELEMENT_HANDLING&&typeof L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yt.allowCustomizedBuiltInElements=L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Jo&&(ym=!1),Id&&(Xo=!0),Zo&&(Ft=R({},E),Wt=[],Zo.html===!0&&(R(Ft,A),R(Wt,$)),Zo.svg===!0&&(R(Ft,M),R(Wt,U),R(Wt,K)),Zo.svgFilters===!0&&(R(Ft,H),R(Wt,U),R(Wt,K)),Zo.mathMl===!0&&(R(Ft,P),R(Wt,N),R(Wt,K))),L.ADD_TAGS&&(Ft===p0&&(Ft=O(Ft)),R(Ft,L.ADD_TAGS,Dt)),L.ADD_ATTR&&(Wt===m0&&(Wt=O(Wt)),R(Wt,L.ADD_ATTR,Dt)),L.ADD_URI_SAFE_ATTR&&R(Sm,L.ADD_URI_SAFE_ATTR,Dt),L.FORBID_CONTENTS&&(ea===w0&&(ea=O(ea)),R(ea,L.FORBID_CONTENTS,Dt)),wm&&(Ft["#text"]=!0),Zs&&R(Ft,["html","head","body"]),Ft.table&&(R(Ft,["tbody"]),delete Hl.tbody),L.TRUSTED_TYPES_POLICY){if(typeof L.TRUSTED_TYPES_POLICY.createHTML!="function")throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof L.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ct=L.TRUSTED_TYPES_POLICY,Pn=Ct.createHTML("")}else Ct===void 0&&(Ct=xi(Wn,z)),Ct!==null&&typeof Pn=="string"&&(Pn=Ct.createHTML(""));s&&s(L),na=L}},k0=R({},[...M,...H,...B]),C0=R({},[...P,...k]),fD=function(L){let Z=Yo(L);(!Z||!Z.tagName)&&(Z={namespaceURI:ta,tagName:"template"});const ce=g(L.tagName),ot=g(Z.tagName);return jm[L.namespaceURI]?L.namespaceURI===Ld?Z.namespaceURI===wi?ce==="svg":Z.namespaceURI===Dd?ce==="svg"&&(ot==="annotation-xml"||$d[ot]):!!k0[ce]:L.namespaceURI===Dd?Z.namespaceURI===wi?ce==="math":Z.namespaceURI===Ld?ce==="math"&&Md[ot]:!!C0[ce]:L.namespaceURI===wi?Z.namespaceURI===Ld&&!Md[ot]||Z.namespaceURI===Dd&&!$d[ot]?!1:!C0[ce]&&(lD[ce]||!k0[ce]):!!(Vl==="application/xhtml+xml"&&jm[L.namespaceURI]):!1},Gr=function(L){h(se.removed,{element:L});try{Yo(L).removeChild(L)}catch{qn(L)}},ra=function(L,Z){try{h(se.removed,{attribute:Z.getAttributeNode(L),from:Z})}catch{h(se.removed,{attribute:null,from:Z})}if(Z.removeAttribute(L),L==="is")if(Xo||Id)try{Gr(Z)}catch{}else try{Z.setAttribute(L,"")}catch{}},R0=function(L){let Z=null,ce=null;if(bm)L="<remove></remove>"+L;else{const Rt=v(L,/^[\r\n\t ]+/);ce=Rt&&Rt[0]}Vl==="application/xhtml+xml"&&ta===wi&&(L='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+L+"</body></html>");const ot=Ct?Ct.createHTML(L):L;if(ta===wi)try{Z=new Rn().parseFromString(ot,Vl)}catch{}if(!Z||!Z.documentElement){Z=zl.createDocument(ta,"template",null);try{Z.documentElement.innerHTML=_m?Pn:ot}catch{}}const tn=Z.body||Z.documentElement;return L&&ce&&tn.insertBefore(Te.createTextNode(ce),tn.childNodes[0]||null),ta===wi?Je.call(Z,Zs?"html":"body")[0]:Zs?Z.documentElement:tn},P0=function(L){return ve.call(L.ownerDocument||L,L,kt.SHOW_ELEMENT|kt.SHOW_COMMENT|kt.SHOW_TEXT|kt.SHOW_PROCESSING_INSTRUCTION|kt.SHOW_CDATA_SECTION,null)},km=function(L){return L instanceof gn&&(typeof L.nodeName!="string"||typeof L.textContent!="string"||typeof L.removeChild!="function"||!(L.attributes instanceof ur)||typeof L.removeAttribute!="function"||typeof L.setAttribute!="function"||typeof L.namespaceURI!="string"||typeof L.insertBefore!="function"||typeof L.hasChildNodes!="function")},T0=function(L){return typeof Se=="function"&&L instanceof Se};function Si(de,L,Z){d(de,ce=>{ce.call(se,L,Z,na)})}const N0=function(L){let Z=null;if(Si(Qe.beforeSanitizeElements,L,null),km(L))return Gr(L),!0;const ce=Dt(L.nodeName);if(Si(Qe.uponSanitizeElement,L,{tagName:ce,allowedTags:Ft}),Od&&L.hasChildNodes()&&!T0(L.firstElementChild)&&_(/<[/\w!]/g,L.innerHTML)&&_(/<[/\w!]/g,L.textContent)||L.nodeType===Et.progressingInstruction||Od&&L.nodeType===Et.comment&&_(/<[/\w]/g,L.data))return Gr(L),!0;if(!Ft[ce]||Hl[ce]){if(!Hl[ce]&&O0(ce)&&(yt.tagNameCheck instanceof RegExp&&_(yt.tagNameCheck,ce)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ce)))return!1;if(wm&&!ea[ce]){const ot=Yo(L)||L.parentNode,tn=Ad(L)||L.childNodes;if(tn&&ot){const Rt=tn.length;for(let Tn=Rt-1;Tn>=0;--Tn){const _i=Kr(tn[Tn],!0);_i.__removalCount=(L.__removalCount||0)+1,ot.insertBefore(_i,Nd(L))}}}return Gr(L),!0}return L instanceof Ne&&!fD(L)||(ce==="noscript"||ce==="noembed"||ce==="noframes")&&_(/<\/no(script|embed|frames)/i,L.innerHTML)?(Gr(L),!0):(Jo&&L.nodeType===Et.text&&(Z=L.textContent,d([dr,_r,vn],ot=>{Z=x(Z,ot," ")}),L.textContent!==Z&&(h(se.removed,{element:L.cloneNode()}),L.textContent=Z)),Si(Qe.afterSanitizeElements,L,null),!1)},A0=function(L,Z,ce){if(x0&&(Z==="id"||Z==="name")&&(ce in Te||ce in dD))return!1;if(!(ym&&!vm[Z]&&_(Qr,Z))){if(!(g0&&_(rD,Z))){if(!Wt[Z]||vm[Z]){if(!(O0(L)&&(yt.tagNameCheck instanceof RegExp&&_(yt.tagNameCheck,L)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(L))&&(yt.attributeNameCheck instanceof RegExp&&_(yt.attributeNameCheck,Z)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(Z))||Z==="is"&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&_(yt.tagNameCheck,ce)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ce))))return!1}else if(!Sm[Z]){if(!_(h0,x(ce,f0,""))){if(!((Z==="src"||Z==="xlink:href"||Z==="href")&&L!=="script"&&w(ce,"data:")===0&&S0[L])){if(!(v0&&!_(iD,x(ce,f0,"")))){if(ce)return!1}}}}}}return!0},O0=function(L){return L!=="annotation-xml"&&v(L,sD)},I0=function(L){Si(Qe.beforeSanitizeAttributes,L,null);const{attributes:Z}=L;if(!Z||km(L))return;const ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Wt,forceKeepAttr:void 0};let ot=Z.length;for(;ot--;){const tn=Z[ot],{name:Rt,namespaceURI:Tn,value:_i}=tn,Wl=Dt(Rt),Cm=_i;let nn=Rt==="value"?Cm:S(Cm);if(ce.attrName=Wl,ce.attrValue=nn,ce.keepAttr=!0,ce.forceKeepAttr=void 0,Si(Qe.uponSanitizeAttribute,L,ce),nn=ce.attrValue,b0&&(Wl==="id"||Wl==="name")&&(ra(Rt,L),nn=oD+nn),Od&&_(/((--!?|])>)|<\/(style|title)/i,nn)){ra(Rt,L);continue}if(ce.forceKeepAttr)continue;if(!ce.keepAttr){ra(Rt,L);continue}if(!y0&&_(/\/>/i,nn)){ra(Rt,L);continue}Jo&&d([dr,_r,vn],D0=>{nn=x(nn,D0," ")});const F0=Dt(L.nodeName);if(!A0(F0,Wl,nn)){ra(Rt,L);continue}if(Ct&&typeof Wn=="object"&&typeof Wn.getAttributeType=="function"&&!Tn)switch(Wn.getAttributeType(F0,Wl)){case"TrustedHTML":{nn=Ct.createHTML(nn);break}case"TrustedScriptURL":{nn=Ct.createScriptURL(nn);break}}if(nn!==Cm)try{Tn?L.setAttributeNS(Tn,Rt,nn):L.setAttribute(Rt,nn),km(L)?Gr(L):p(se.removed)}catch{ra(Rt,L)}}Si(Qe.afterSanitizeAttributes,L,null)},hD=function de(L){let Z=null;const ce=P0(L);for(Si(Qe.beforeSanitizeShadowDOM,L,null);Z=ce.nextNode();)Si(Qe.uponSanitizeShadowNode,Z,null),N0(Z),I0(Z),Z.content instanceof G&&de(Z.content);Si(Qe.afterSanitizeShadowDOM,L,null)};return se.sanitize=function(de){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=null,ce=null,ot=null,tn=null;if(_m=!de,_m&&(de="<!-->"),typeof de!="string"&&!T0(de))if(typeof de.toString=="function"){if(de=de.toString(),typeof de!="string")throw C("dirty is not a string, aborting")}else throw C("toString is not a function");if(!se.isSupported)return de;if(xm||Em(L),se.removed=[],typeof de=="string"&&(Bl=!1),Bl){if(de.nodeName){const _i=Dt(de.nodeName);if(!Ft[_i]||Hl[_i])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(de instanceof Se)Z=R0("<!---->"),ce=Z.ownerDocument.importNode(de,!0),ce.nodeType===Et.element&&ce.nodeName==="BODY"||ce.nodeName==="HTML"?Z=ce:Z.appendChild(ce);else{if(!Xo&&!Jo&&!Zs&&de.indexOf("<")===-1)return Ct&&Fd?Ct.createHTML(de):de;if(Z=R0(de),!Z)return Xo?null:Fd?Pn:""}Z&&bm&&Gr(Z.firstChild);const Rt=P0(Bl?de:Z);for(;ot=Rt.nextNode();)N0(ot),I0(ot),ot.content instanceof G&&hD(ot.content);if(Bl)return de;if(Xo){if(Id)for(tn=ze.call(Z.ownerDocument);Z.firstChild;)tn.appendChild(Z.firstChild);else tn=Z;return(Wt.shadowroot||Wt.shadowrootmode)&&(tn=Kn.call(ke,tn,!0)),tn}let Tn=Zs?Z.outerHTML:Z.innerHTML;return Zs&&Ft["!doctype"]&&Z.ownerDocument&&Z.ownerDocument.doctype&&Z.ownerDocument.doctype.name&&_(ct,Z.ownerDocument.doctype.name)&&(Tn="<!DOCTYPE "+Z.ownerDocument.doctype.name+`>
`+Tn),Jo&&d([dr,_r,vn],_i=>{Tn=x(Tn,_i," ")}),Ct&&Fd?Ct.createHTML(Tn):Tn},se.setConfig=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Em(de),xm=!0},se.clearConfig=function(){na=null,xm=!1},se.isValidAttribute=function(de,L,Z){na||Em({});const ce=Dt(de),ot=Dt(L);return A0(ce,ot,Z)},se.addHook=function(de,L){typeof L=="function"&&h(Qe[de],L)},se.removeHook=function(de,L){if(L!==void 0){const Z=f(Qe[de],L);return Z===-1?void 0:m(Qe[de],Z,1)[0]}return p(Qe[de])},se.removeHooks=function(de){Qe[de]=[]},se.removeAllHooks=function(){Qe=cr()},se}var bi=Yi();return sg=bi,sg}window.DOMPurify||(window.DOMPurify=o_().default||o_());function oe(...e){return A4(JR(e))}const O4=LM,uP=y.forwardRef(({className:e,...t},n)=>c.jsx(VR,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));uP.displayName=VR.displayName;const I4=ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dP=y.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(WR,{ref:r,className:oe(I4({variant:t}),e),...n}));dP.displayName=WR.displayName;const F4=y.forwardRef(({className:e,...t},n)=>c.jsx(QR,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));F4.displayName=QR.displayName;const fP=y.forwardRef(({className:e,...t},n)=>c.jsx(GR,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(Tp,{className:"h-4 w-4"})}));fP.displayName=GR.displayName;const hP=y.forwardRef(({className:e,...t},n)=>c.jsx(qR,{ref:n,className:oe("text-sm font-semibold",e),...t}));hP.displayName=qR.displayName;const pP=y.forwardRef(({className:e,...t},n)=>c.jsx(KR,{ref:n,className:oe("text-sm opacity-90",e),...t}));pP.displayName=KR.displayName;function D4(){const{toasts:e}=Vt();return c.jsxs(O4,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return c.jsxs(dP,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(hP,{children:n}),r&&c.jsx(pP,{children:r})]}),i,c.jsx(fP,{})]},t)}),c.jsx(uP,{})]})}var a_=["light","dark"],L4="(prefers-color-scheme: dark)",$4=y.createContext(void 0),M4={setTheme:e=>{},themes:[]},U4=()=>{var e;return(e=y.useContext($4))!=null?e:M4};y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?a_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(m,g=!1,b=!0)=>{let v=o?o[m]:m,x=g?m+"|| ''":`'${v}'`,w="";return i&&b&&!g&&a_.includes(m)&&(w+=`d.style.colorScheme = '${m}';`),n==="class"?g||v?w+=`c.add(${x})`:w+="null":v&&(w+=`d[s](n,${x})`),w},h=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${L4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var z4=e=>{switch(e){case"success":return V4;case"info":return q4;case"warning":return W4;case"error":return K4;default:return null}},H4=Array(12).fill(0),B4=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},H4.map((n,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),V4=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),W4=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q4=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),K4=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Q4=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),G4=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},dy=1,Y4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:dy++,s=this.toasts.find(a=>a.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...e,id:i,title:n}),{...a,...e,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,s,o=r.then(async l=>{if(s=["resolve",l],V.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(X4(l)&&!l.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(s=["reject",l],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,u)=>o.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||dy++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},On=new Y4,J4=(e,t)=>{let n=(t==null?void 0:t.id)||dy++;return On.addToast({title:e,...t,id:n}),n},X4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Z4=J4,eU=()=>On.toasts,tU=()=>On.getActiveToasts(),Gn=Object.assign(Z4,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:eU,getToasts:tU});function nU(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}nU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function af(e){return e.label!==void 0}var rU=3,iU="32px",sU="16px",l_=4e3,oU=356,aU=14,lU=20,cU=200;function Er(...e){return e.filter(Boolean).join(" ")}function uU(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var dU=e=>{var t,n,r,i,s,o,a,l,u,d,f;let{invert:p,toast:h,unstyled:m,interacting:g,setHeights:b,visibleToasts:v,heights:x,index:w,toasts:S,expanded:j,removeToast:_,defaultRichColors:C,closeButton:T,style:I,cancelButtonStyle:R,actionButtonStyle:F,className:O="",descriptionClassName:D="",duration:A,position:M,gap:H,loadingIcon:B,expandByDefault:P,classNames:k,icons:E,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:U}=e,[N,K]=V.useState(null),[Q,Y]=V.useState(null),[W,ie]=V.useState(!1),[ue,le]=V.useState(!1),[me,Ee]=V.useState(!1),[ct,Ot]=V.useState(!1),[It,Et]=V.useState(!1),[lr,xi]=V.useState(0),[cr,Yi]=V.useState(0),bi=V.useRef(h.duration||A||l_),we=V.useRef(null),se=V.useRef(null),Te=w===0,ke=w+1<=v,z=h.type,G=h.dismissible!==!1,fe=h.className||"",Se=h.descriptionClassName||"",Ne=V.useMemo(()=>x.findIndex(ve=>ve.toastId===h.id)||0,[x,h.id]),kt=V.useMemo(()=>{var ve;return(ve=h.closeButton)!=null?ve:T},[h.closeButton,T]),ur=V.useMemo(()=>h.duration||A||l_,[h.duration,A]),gn=V.useRef(0),Rn=V.useRef(0),Wn=V.useRef(0),Ye=V.useRef(null),[Kr,qn]=M.split("-"),Nd=V.useMemo(()=>x.reduce((ve,ze,Je)=>Je>=Ne?ve:ve+ze.height,0),[x,Ne]),Ad=G4(),Yo=h.invert||p,Ct=z==="loading";Rn.current=V.useMemo(()=>Ne*H+Nd,[Ne,Nd]),V.useEffect(()=>{bi.current=ur},[ur]),V.useEffect(()=>{ie(!0)},[]),V.useEffect(()=>{let ve=se.current;if(ve){let ze=ve.getBoundingClientRect().height;return Yi(ze),b(Je=>[{toastId:h.id,height:ze,position:h.position},...Je]),()=>b(Je=>Je.filter(Kn=>Kn.toastId!==h.id))}},[b,h.id]),V.useLayoutEffect(()=>{if(!W)return;let ve=se.current,ze=ve.style.height;ve.style.height="auto";let Je=ve.getBoundingClientRect().height;ve.style.height=ze,Yi(Je),b(Kn=>Kn.find(Qe=>Qe.toastId===h.id)?Kn.map(Qe=>Qe.toastId===h.id?{...Qe,height:Je}:Qe):[{toastId:h.id,height:Je,position:h.position},...Kn])},[W,h.title,h.description,b,h.id]);let Pn=V.useCallback(()=>{le(!0),xi(Rn.current),b(ve=>ve.filter(ze=>ze.toastId!==h.id)),setTimeout(()=>{_(h)},cU)},[h,_,b,Rn]);V.useEffect(()=>{if(h.promise&&z==="loading"||h.duration===1/0||h.type==="loading")return;let ve;return j||g||U&&Ad?(()=>{if(Wn.current<gn.current){let ze=new Date().getTime()-gn.current;bi.current=bi.current-ze}Wn.current=new Date().getTime()})():bi.current!==1/0&&(gn.current=new Date().getTime(),ve=setTimeout(()=>{var ze;(ze=h.onAutoClose)==null||ze.call(h,h),Pn()},bi.current)),()=>clearTimeout(ve)},[j,g,h,z,U,Ad,Pn]),V.useEffect(()=>{h.delete&&Pn()},[Pn,h.delete]);function zl(){var ve,ze,Je;return E!=null&&E.loading?V.createElement("div",{className:Er(k==null?void 0:k.loader,(ve=h==null?void 0:h.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":z==="loading"},E.loading):B?V.createElement("div",{className:Er(k==null?void 0:k.loader,(ze=h==null?void 0:h.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":z==="loading"},B):V.createElement(B4,{className:Er(k==null?void 0:k.loader,(Je=h==null?void 0:h.classNames)==null?void 0:Je.loader),visible:z==="loading"})}return V.createElement("li",{tabIndex:0,ref:se,className:Er(O,fe,k==null?void 0:k.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[z],(n=h==null?void 0:h.classNames)==null?void 0:n[z]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":W,"data-promise":!!h.promise,"data-swiped":It,"data-removed":ue,"data-visible":ke,"data-y-position":Kr,"data-x-position":qn,"data-index":w,"data-front":Te,"data-swiping":me,"data-dismissible":G,"data-type":z,"data-invert":Yo,"data-swipe-out":ct,"data-swipe-direction":Q,"data-expanded":!!(j||P&&W),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ue?lr:Rn.current}px`,"--initial-height":P?"auto":`${cr}px`,...I,...h.style},onDragEnd:()=>{Ee(!1),K(null),Ye.current=null},onPointerDown:ve=>{Ct||!G||(we.current=new Date,xi(Rn.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(Ee(!0),Ye.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,ze,Je,Kn;if(ct||!G)return;Ye.current=null;let Qe=Number(((ve=se.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dr=Number(((ze=se.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_r=new Date().getTime()-((Je=we.current)==null?void 0:Je.getTime()),vn=N==="x"?Qe:dr,Qr=Math.abs(vn)/_r;if(Math.abs(vn)>=lU||Qr>.11){xi(Rn.current),(Kn=h.onDismiss)==null||Kn.call(h,h),Y(N==="x"?Qe>0?"right":"left":dr>0?"down":"up"),Pn(),Ot(!0),Et(!1);return}Ee(!1),K(null)},onPointerMove:ve=>{var ze,Je,Kn,Qe;if(!Ye.current||!G||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let dr=ve.clientY-Ye.current.y,_r=ve.clientX-Ye.current.x,vn=(Je=e.swipeDirections)!=null?Je:uU(M);!N&&(Math.abs(_r)>1||Math.abs(dr)>1)&&K(Math.abs(_r)>Math.abs(dr)?"x":"y");let Qr={x:0,y:0};N==="y"?(vn.includes("top")||vn.includes("bottom"))&&(vn.includes("top")&&dr<0||vn.includes("bottom")&&dr>0)&&(Qr.y=dr):N==="x"&&(vn.includes("left")||vn.includes("right"))&&(vn.includes("left")&&_r<0||vn.includes("right")&&_r>0)&&(Qr.x=_r),(Math.abs(Qr.x)>0||Math.abs(Qr.y)>0)&&Et(!0),(Kn=se.current)==null||Kn.style.setProperty("--swipe-amount-x",`${Qr.x}px`),(Qe=se.current)==null||Qe.style.setProperty("--swipe-amount-y",`${Qr.y}px`)}},kt&&!h.jsx?V.createElement("button",{"aria-label":$,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!G?()=>{}:()=>{var ve;Pn(),(ve=h.onDismiss)==null||ve.call(h,h)},className:Er(k==null?void 0:k.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(s=E==null?void 0:E.close)!=null?s:Q4):null,h.jsx||y.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:V.createElement(V.Fragment,null,z||h.icon||h.promise?V.createElement("div",{"data-icon":"",className:Er(k==null?void 0:k.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zl():null,h.type!=="loading"?h.icon||(E==null?void 0:E[z])||z4(z):null):null,V.createElement("div",{"data-content":"",className:Er(k==null?void 0:k.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},V.createElement("div",{"data-title":"",className:Er(k==null?void 0:k.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?V.createElement("div",{"data-description":"",className:Er(D,Se,k==null?void 0:k.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),y.isValidElement(h.cancel)?h.cancel:h.cancel&&af(h.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:ve=>{var ze,Je;af(h.cancel)&&G&&((Je=(ze=h.cancel).onClick)==null||Je.call(ze,ve),Pn())},className:Er(k==null?void 0:k.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,y.isValidElement(h.action)?h.action:h.action&&af(h.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||F,onClick:ve=>{var ze,Je;af(h.action)&&((Je=(ze=h.action).onClick)==null||Je.call(ze,ve),!ve.defaultPrevented&&Pn())},className:Er(k==null?void 0:k.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function c_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function fU(e,t){let n={};return[e,t].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?sU:iU;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var hU=y.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:h,visibleToasts:m=rU,toastOptions:g,dir:b=c_(),gap:v=aU,loadingIcon:x,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[_,C]=V.useState([]),T=V.useMemo(()=>Array.from(new Set([r].concat(_.filter(U=>U.position).map(U=>U.position)))),[_,r]),[I,R]=V.useState([]),[F,O]=V.useState(!1),[D,A]=V.useState(!1),[M,H]=V.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=V.useRef(null),P=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=V.useRef(null),E=V.useRef(!1),$=V.useCallback(U=>{C(N=>{var K;return(K=N.find(Q=>Q.id===U.id))!=null&&K.delete||On.dismiss(U.id),N.filter(({id:Q})=>Q!==U.id)})},[]);return V.useEffect(()=>On.subscribe(U=>{if(U.dismiss){C(N=>N.map(K=>K.id===U.id?{...K,delete:!0}:K));return}setTimeout(()=>{_R.flushSync(()=>{C(N=>{let K=N.findIndex(Q=>Q.id===U.id);return K!==-1?[...N.slice(0,K),{...N[K],...U},...N.slice(K+1)]:[U,...N]})})})}),[]),V.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:N})=>{H(N?"dark":"light")})}catch{U.addListener(({matches:K})=>{try{H(K?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),V.useEffect(()=>{_.length<=1&&O(!1)},[_]),V.useEffect(()=>{let U=N=>{var K,Q;i.every(Y=>N[Y]||N.code===Y)&&(O(!0),(K=B.current)==null||K.focus()),N.code==="Escape"&&(document.activeElement===B.current||(Q=B.current)!=null&&Q.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),V.useEffect(()=>{if(B.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,E.current=!1)}},[B.current]),V.createElement("section",{ref:t,"aria-label":`${S} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((U,N)=>{var K;let[Q,Y]=U.split("-");return _.length?V.createElement("ol",{key:U,dir:b==="auto"?c_():b,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":Q,"data-lifted":F&&_.length>1&&!s,"data-x-position":Y,style:{"--front-toast-height":`${((K=I[0])==null?void 0:K.height)||0}px`,"--width":`${oU}px`,"--gap":`${v}px`,...h,...fU(l,u)},onBlur:W=>{E.current&&!W.currentTarget.contains(W.relatedTarget)&&(E.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||E.current||(E.current=!0,k.current=W.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},_.filter(W=>!W.position&&N===0||W.position===U).map((W,ie)=>{var ue,le;return V.createElement(dU,{key:W.id,icons:w,index:ie,toast:W,defaultRichColors:f,duration:(ue=g==null?void 0:g.duration)!=null?ue:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(le=g==null?void 0:g.closeButton)!=null?le:o,interacting:D,position:U,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:$,toasts:_.filter(me=>me.position==W.position),heights:I.filter(me=>me.position==W.position),setHeights:R,expandByDefault:s,gap:v,loadingIcon:x,expanded:F,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const pU=({...e})=>{const{theme:t="system"}=U4();return c.jsx(hU,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var mU=lp[" useId ".trim().toString()]||(()=>{}),gU=0;function $r(e){const[t,n]=y.useState(mU());return Xt(()=>{n(r=>r??String(gU++))},[e]),t?`radix-${t}`:""}const vU=["top","right","bottom","left"],Us=Math.min,Jn=Math.max,Th=Math.round,lf=Math.floor,hi=e=>({x:e,y:e}),yU={left:"right",right:"left",bottom:"top",top:"bottom"},xU={start:"end",end:"start"};function fy(e,t,n){return Jn(e,Us(t,n))}function zi(e,t){return typeof e=="function"?e(t):e}function Hi(e){return e.split("-")[0]}function Cl(e){return e.split("-")[1]}function Ab(e){return e==="x"?"y":"x"}function Ob(e){return e==="y"?"height":"width"}const bU=new Set(["top","bottom"]);function ci(e){return bU.has(Hi(e))?"y":"x"}function Ib(e){return Ab(ci(e))}function wU(e,t,n){n===void 0&&(n=!1);const r=Cl(e),i=Ib(e),s=Ob(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Nh(o)),[o,Nh(o)]}function SU(e){const t=Nh(e);return[hy(e),t,hy(t)]}function hy(e){return e.replace(/start|end/g,t=>xU[t])}const u_=["left","right"],d_=["right","left"],_U=["top","bottom"],jU=["bottom","top"];function EU(e,t,n){switch(e){case"top":case"bottom":return n?t?d_:u_:t?u_:d_;case"left":case"right":return t?_U:jU;default:return[]}}function kU(e,t,n,r){const i=Cl(e);let s=EU(Hi(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(hy)))),s}function Nh(e){return e.replace(/left|right|bottom|top/g,t=>yU[t])}function CU(e){return{top:0,right:0,bottom:0,left:0,...e}}function mP(e){return typeof e!="number"?CU(e):{top:e,right:e,bottom:e,left:e}}function Ah(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function f_(e,t,n){let{reference:r,floating:i}=e;const s=ci(t),o=Ib(t),a=Ob(o),l=Hi(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:d,y:r.y-i.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Cl(t)){case"start":h[o]-=p*(n&&u?-1:1);break;case"end":h[o]+=p*(n&&u?-1:1);break}return h}const RU=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=f_(u,r,l),p=r,h={},m=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x,y:w,data:S,reset:j}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,h={...h,[b]:{...h[b],...S}},j&&m<=50&&(m++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:d,y:f}=f_(u,p,l)),g=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:h}};async function uu(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=zi(t,e),m=mP(h),b=a[p?f==="floating"?"reference":"floating":f],v=Ah(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Ah(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(v.top-j.top+m.top)/S.y,bottom:(j.bottom-v.bottom+m.bottom)/S.y,left:(v.left-j.left+m.left)/S.x,right:(j.right-v.right+m.right)/S.x}}const PU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=zi(e,t)||{};if(u==null)return{};const f=mP(d),p={x:n,y:r},h=Ib(i),m=Ob(h),g=await o.getDimensions(u),b=h==="y",v=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[h]-p[h]-s.floating[m],j=p[h]-s.reference[h],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=_?_[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(_)))&&(C=a.floating[w]||s.floating[m]);const T=S/2-j/2,I=C/2-g[m]/2-1,R=Us(f[v],I),F=Us(f[x],I),O=R,D=C-g[m]-F,A=C/2-g[m]/2+T,M=fy(O,A,D),H=!l.arrow&&Cl(i)!=null&&A!==M&&s.reference[m]/2-(A<O?R:F)-g[m]/2<0,B=H?A<O?A-O:A-D:0;return{[h]:p[h]+B,data:{[h]:M,centerOffset:A-M-B,...H&&{alignmentOffset:B}},reset:H}}}),TU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=zi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Hi(i),x=ci(a),w=Hi(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=p||(w||!g?[Nh(a)]:SU(a)),_=m!=="none";!p&&_&&j.push(...kU(a,g,m,S));const C=[a,...j],T=await uu(t,b),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(T[v]),f){const A=wU(i,o,S);I.push(T[A[0]],T[A[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(A=>A<=0)){var F,O;const A=(((F=s.flip)==null?void 0:F.index)||0)+1,M=C[A];if(M&&(!(f==="alignment"?x!==ci(M):!1)||R.every(P=>ci(P.placement)===x?P.overflows[0]>0:!0)))return{data:{index:A,overflows:R},reset:{placement:M}};let H=(O=R.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(h){case"bestFit":{var D;const B=(D=R.filter(P=>{if(_){const k=ci(P.placement);return k===x||k==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(k=>k>0).reduce((k,E)=>k+E,0)]).sort((P,k)=>P[1]-k[1])[0])==null?void 0:D[0];B&&(H=B);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function h_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p_(e){return vU.some(t=>e[t]>=0)}const NU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=zi(e,t);switch(r){case"referenceHidden":{const s=await uu(t,{...i,elementContext:"reference"}),o=h_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:p_(o)}}}case"escaped":{const s=await uu(t,{...i,altBoundary:!0}),o=h_(s,n.floating);return{data:{escapedOffsets:o,escaped:p_(o)}}}default:return{}}}}},gP=new Set(["left","top"]);async function AU(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Hi(n),a=Cl(n),l=ci(n)==="y",u=gP.has(o)?-1:1,d=s&&l?-1:1,f=zi(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const OU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await AU(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},IU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:x}=b;return{x:v,y:x}}},...l}=zi(e,t),u={x:n,y:r},d=await uu(t,l),f=ci(Hi(i)),p=Ab(f);let h=u[p],m=u[f];if(s){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=h+d[b],w=h-d[v];h=fy(x,h,w)}if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=m+d[b],w=m-d[v];m=fy(x,m,w)}const g=a.fn({...t,[p]:h,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:s,[f]:o}}}}}},FU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=zi(e,t),d={x:n,y:r},f=ci(i),p=Ab(f);let h=d[p],m=d[f];const g=zi(a,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=p==="y"?"height":"width",S=s.reference[p]-s.floating[w]+b.mainAxis,j=s.reference[p]+s.reference[w]-b.mainAxis;h<S?h=S:h>j&&(h=j)}if(u){var v,x;const w=p==="y"?"width":"height",S=gP.has(Hi(i)),j=s.reference[f]-s.floating[w]+(S&&((v=o.offset)==null?void 0:v[f])||0)+(S?0:b.crossAxis),_=s.reference[f]+s.reference[w]+(S?0:((x=o.offset)==null?void 0:x[f])||0)-(S?b.crossAxis:0);m<j?m=j:m>_&&(m=_)}return{[p]:h,[f]:m}}}},DU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...u}=zi(e,t),d=await uu(t,u),f=Hi(i),p=Cl(i),h=ci(i)==="y",{width:m,height:g}=s.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,b=p==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=m-d.left-d.right,S=Us(g-d[b],x),j=Us(m-d[v],w),_=!t.middlewareData.shift;let C=S,T=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),_&&!p){const R=Jn(d.left,0),F=Jn(d.right,0),O=Jn(d.top,0),D=Jn(d.bottom,0);h?T=m-2*(R!==0||F!==0?R+F:Jn(d.left,d.right)):C=g-2*(O!==0||D!==0?O+D:Jn(d.top,d.bottom))}await l({...t,availableWidth:T,availableHeight:C});const I=await o.getDimensions(a.floating);return m!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Np(){return typeof window<"u"}function Rl(e){return vP(e)?(e.nodeName||"").toLowerCase():"#document"}function tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gi(e){var t;return(t=(vP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vP(e){return Np()?e instanceof Node||e instanceof tr(e).Node:!1}function Hr(e){return Np()?e instanceof Element||e instanceof tr(e).Element:!1}function pi(e){return Np()?e instanceof HTMLElement||e instanceof tr(e).HTMLElement:!1}function m_(e){return!Np()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tr(e).ShadowRoot}const LU=new Set(["inline","contents"]);function dd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Br(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!LU.has(i)}const $U=new Set(["table","td","th"]);function MU(e){return $U.has(Rl(e))}const UU=[":popover-open",":modal"];function Ap(e){return UU.some(t=>{try{return e.matches(t)}catch{return!1}})}const zU=["transform","translate","scale","rotate","perspective"],HU=["transform","translate","scale","rotate","perspective","filter"],BU=["paint","layout","strict","content"];function Fb(e){const t=Db(),n=Hr(e)?Br(e):e;return zU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||HU.some(r=>(n.willChange||"").includes(r))||BU.some(r=>(n.contain||"").includes(r))}function VU(e){let t=zs(e);for(;pi(t)&&!dl(t);){if(Fb(t))return t;if(Ap(t))return null;t=zs(t)}return null}function Db(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WU=new Set(["html","body","#document"]);function dl(e){return WU.has(Rl(e))}function Br(e){return tr(e).getComputedStyle(e)}function Op(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zs(e){if(Rl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m_(e)&&e.host||gi(e);return m_(t)?t.host:t}function yP(e){const t=zs(e);return dl(t)?e.ownerDocument?e.ownerDocument.body:e.body:pi(t)&&dd(t)?t:yP(t)}function du(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=yP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=tr(i);if(s){const a=py(o);return t.concat(o,o.visualViewport||[],dd(i)?i:[],a&&n?du(a):[])}return t.concat(i,du(i,[],n))}function py(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xP(e){const t=Br(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=pi(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=Th(n)!==s||Th(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Lb(e){return Hr(e)?e:e.contextElement}function Va(e){const t=Lb(e);if(!pi(t))return hi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=xP(t);let o=(s?Th(n.width):n.width)/r,a=(s?Th(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const qU=hi(0);function bP(e){const t=tr(e);return!Db()||!t.visualViewport?qU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tr(e)?!1:t}function Fo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Lb(e);let o=hi(1);t&&(r?Hr(r)&&(o=Va(r)):o=Va(e));const a=KU(s,n,r)?bP(s):hi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=tr(s),h=r&&Hr(r)?tr(r):r;let m=p,g=py(m);for(;g&&r&&h!==m;){const b=Va(g),v=g.getBoundingClientRect(),x=Br(g),w=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,S=v.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,f*=b.y,l+=w,u+=S,m=tr(g),g=py(m)}}return Ah({width:d,height:f,x:l,y:u})}function $b(e,t){const n=Op(e).scrollLeft;return t?t.left+n:Fo(gi(e)).left+n}function wP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:$b(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function QU(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=gi(r),a=t?Ap(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=hi(1);const d=hi(0),f=pi(r);if((f||!f&&!s)&&((Rl(r)!=="body"||dd(o))&&(l=Op(r)),pi(r))){const h=Fo(r);u=Va(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=o&&!f&&!s?wP(o,l,!0):hi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function GU(e){return Array.from(e.getClientRects())}function YU(e){const t=gi(e),n=Op(e),r=e.ownerDocument.body,i=Jn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Jn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$b(e);const a=-n.scrollTop;return Br(r).direction==="rtl"&&(o+=Jn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function JU(e,t){const n=tr(e),r=gi(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Db();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const XU=new Set(["absolute","fixed"]);function ZU(e,t){const n=Fo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=pi(e)?Va(e):hi(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function g_(e,t,n){let r;if(t==="viewport")r=JU(e,n);else if(t==="document")r=YU(gi(e));else if(Hr(t))r=ZU(t,n);else{const i=bP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ah(r)}function SP(e,t){const n=zs(e);return n===t||!Hr(n)||dl(n)?!1:Br(n).position==="fixed"||SP(n,t)}function e3(e,t){const n=t.get(e);if(n)return n;let r=du(e,[],!1).filter(a=>Hr(a)&&Rl(a)!=="body"),i=null;const s=Br(e).position==="fixed";let o=s?zs(e):e;for(;Hr(o)&&!dl(o);){const a=Br(o),l=Fb(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&XU.has(i.position)||dd(o)&&!l&&SP(e,o))?r=r.filter(d=>d!==o):i=a,o=zs(o)}return t.set(e,r),r}function t3(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Ap(t)?[]:e3(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=g_(t,d,i);return u.top=Jn(f.top,u.top),u.right=Us(f.right,u.right),u.bottom=Us(f.bottom,u.bottom),u.left=Jn(f.left,u.left),u},g_(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function n3(e){const{width:t,height:n}=xP(e);return{width:t,height:n}}function r3(e,t,n){const r=pi(t),i=gi(t),s=n==="fixed",o=Fo(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=hi(0);function u(){l.x=$b(i)}if(r||!r&&!s)if((Rl(t)!=="body"||dd(i))&&(a=Op(t)),r){const h=Fo(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?wP(i,a):hi(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function og(e){return Br(e).position==="static"}function v_(e,t){if(!pi(e)||Br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gi(e)===n&&(n=n.ownerDocument.body),n}function _P(e,t){const n=tr(e);if(Ap(e))return n;if(!pi(e)){let i=zs(e);for(;i&&!dl(i);){if(Hr(i)&&!og(i))return i;i=zs(i)}return n}let r=v_(e,t);for(;r&&MU(r)&&og(r);)r=v_(r,t);return r&&dl(r)&&og(r)&&!Fb(r)?n:r||VU(e)||n}const i3=async function(e){const t=this.getOffsetParent||_P,n=this.getDimensions,r=await n(e.floating);return{reference:r3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function s3(e){return Br(e).direction==="rtl"}const o3={convertOffsetParentRelativeRectToViewportRelativeRect:QU,getDocumentElement:gi,getClippingRect:t3,getOffsetParent:_P,getElementRects:i3,getClientRects:GU,getDimensions:n3,getScale:Va,isElement:Hr,isRTL:s3};function jP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function a3(e,t){let n=null,r;const i=gi(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(a||t(),!p||!h)return;const m=lf(f),g=lf(i.clientWidth-(d+p)),b=lf(i.clientHeight-(f+h)),v=lf(d),w={rootMargin:-m+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Jn(0,Us(1,l))||1};let S=!0;function j(_){const C=_[0].intersectionRatio;if(C!==l){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!jP(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return o(!0),s}function l3(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Lb(e),d=i||s?[...u?du(u):[],...du(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&a?a3(u,n):null;let p=-1,h=null;o&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,g=l?Fo(e):null;l&&b();function b(){const v=Fo(e);g&&!jP(g,v)&&n(),g=v,m=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const c3=OU,u3=IU,d3=TU,f3=DU,h3=NU,y_=PU,p3=FU,m3=(e,t,n)=>{const r=new Map,i={platform:o3,...n},s={...i.platform,_c:r};return RU(e,t,{...i,platform:s})};var g3=typeof document<"u",v3=function(){},Qf=g3?y.useLayoutEffect:v3;function Oh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Oh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Oh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function EP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function x_(e,t){const n=EP(e);return Math.round(t*n)/n}function ag(e){const t=y.useRef(e);return Qf(()=>{t.current=e}),t}function y3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=y.useState(r);Oh(p,r)||h(r);const[m,g]=y.useState(null),[b,v]=y.useState(null),x=y.useCallback(P=>{P!==_.current&&(_.current=P,g(P))},[]),w=y.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),S=s||m,j=o||b,_=y.useRef(null),C=y.useRef(null),T=y.useRef(d),I=l!=null,R=ag(l),F=ag(i),O=ag(u),D=y.useCallback(()=>{if(!_.current||!C.current)return;const P={placement:t,strategy:n,middleware:p};F.current&&(P.platform=F.current),m3(_.current,C.current,P).then(k=>{const E={...k,isPositioned:O.current!==!1};A.current&&!Oh(T.current,E)&&(T.current=E,Ho.flushSync(()=>{f(E)}))})},[p,t,n,F,O]);Qf(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const A=y.useRef(!1);Qf(()=>(A.current=!0,()=>{A.current=!1}),[]),Qf(()=>{if(S&&(_.current=S),j&&(C.current=j),S&&j){if(R.current)return R.current(S,j,D);D()}},[S,j,D,R,I]);const M=y.useMemo(()=>({reference:_,floating:C,setReference:x,setFloating:w}),[x,w]),H=y.useMemo(()=>({reference:S,floating:j}),[S,j]),B=y.useMemo(()=>{const P={position:n,left:0,top:0};if(!H.floating)return P;const k=x_(H.floating,d.x),E=x_(H.floating,d.y);return a?{...P,transform:"translate("+k+"px, "+E+"px)",...EP(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:E}},[n,a,H.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:D,refs:M,elements:H,floatingStyles:B}),[d,D,M,H,B])}const x3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?y_({element:r.current,padding:i}).fn(n):{}:r?y_({element:r,padding:i}).fn(n):{}}}},b3=(e,t)=>({...c3(e),options:[e,t]}),w3=(e,t)=>({...u3(e),options:[e,t]}),S3=(e,t)=>({...p3(e),options:[e,t]}),_3=(e,t)=>({...d3(e),options:[e,t]}),j3=(e,t)=>({...f3(e),options:[e,t]}),E3=(e,t)=>({...h3(e),options:[e,t]}),k3=(e,t)=>({...x3(e),options:[e,t]});var C3="Arrow",kP=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return c.jsx(pe.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});kP.displayName=C3;var R3=kP;function CP(e){const[t,n]=y.useState(void 0);return Xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Mb="Popper",[RP,Pl]=ar(Mb),[P3,PP]=RP(Mb),TP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=y.useState(null);return c.jsx(P3,{scope:t,anchor:r,onAnchorChange:i,children:n})};TP.displayName=Mb;var NP="PopperAnchor",AP=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=PP(NP,n),o=y.useRef(null),a=Ie(t,o),l=y.useRef(null);return y.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:c.jsx(pe.div,{...i,ref:a})});AP.displayName=NP;var Ub="PopperContent",[T3,N3]=RP(Ub),OP=y.forwardRef((e,t)=>{var W,ie,ue,le,me,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:m,...g}=e,b=PP(Ub,n),[v,x]=y.useState(null),w=Ie(t,ct=>x(ct)),[S,j]=y.useState(null),_=CP(S),C=(_==null?void 0:_.width)??0,T=(_==null?void 0:_.height)??0,I=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],O=F.length>0,D={padding:R,boundary:F.filter(O3),altBoundary:O},{refs:A,floatingStyles:M,placement:H,isPositioned:B,middlewareData:P}=y3({strategy:"fixed",placement:I,whileElementsMounted:(...ct)=>l3(...ct,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[b3({mainAxis:i+T,alignmentAxis:o}),l&&w3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?S3():void 0,...D}),l&&_3({...D}),j3({...D,apply:({elements:ct,rects:Ot,availableWidth:It,availableHeight:Et})=>{const{width:lr,height:xi}=Ot.reference,cr=ct.floating.style;cr.setProperty("--radix-popper-available-width",`${It}px`),cr.setProperty("--radix-popper-available-height",`${Et}px`),cr.setProperty("--radix-popper-anchor-width",`${lr}px`),cr.setProperty("--radix-popper-anchor-height",`${xi}px`)}}),S&&k3({element:S,padding:a}),I3({arrowWidth:C,arrowHeight:T}),p&&E3({strategy:"referenceHidden",...D})]}),[k,E]=DP(H),$=Bn(m);Xt(()=>{B&&($==null||$())},[B,$]);const U=(W=P.arrow)==null?void 0:W.x,N=(ie=P.arrow)==null?void 0:ie.y,K=((ue=P.arrow)==null?void 0:ue.centerOffset)!==0,[Q,Y]=y.useState();return Xt(()=>{v&&Y(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:B?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(le=P.transformOrigin)==null?void 0:le.x,(me=P.transformOrigin)==null?void 0:me.y].join(" "),...((Ee=P.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(T3,{scope:n,placedSide:k,onArrowChange:j,arrowX:U,arrowY:N,shouldHideArrow:K,children:c.jsx(pe.div,{"data-side":k,"data-align":E,...g,ref:w,style:{...g.style,animation:B?void 0:"none"}})})})});OP.displayName=Ub;var IP="PopperArrow",A3={top:"bottom",right:"left",bottom:"top",left:"right"},FP=y.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=N3(IP,r),o=A3[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(R3,{...i,ref:n,style:{...i.style,display:"block"}})})});FP.displayName=IP;function O3(e){return e!==null}var I3=e=>({name:"transformOrigin",options:e,fn(t){var b,v,x;const{placement:n,rects:r,middlewareData:i}=t,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=DP(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,h=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let m="",g="";return u==="bottom"?(m=o?f:`${p}px`,g=`${-l}px`):u==="top"?(m=o?f:`${p}px`,g=`${r.floating.height+l}px`):u==="right"?(m=`${-l}px`,g=o?f:`${h}px`):u==="left"&&(m=`${r.floating.width+l}px`,g=o?f:`${h}px`),{data:{x:m,y:g}}}});function DP(e){const[t,n="center"]=e.split("-");return[t,n]}var zb=TP,Hb=AP,Bb=OP,Vb=FP,[Ip,Mae]=ar("Tooltip",[Pl]),Fp=Pl(),LP="TooltipProvider",F3=700,my="tooltip.open",[D3,Wb]=Ip(LP),$P=e=>{const{__scopeTooltip:t,delayDuration:n=F3,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(D3,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};$P.displayName=LP;var fu="Tooltip",[L3,Dp]=Ip(fu),MP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=e,l=Wb(fu,e.__scopeTooltip),u=Fp(t),[d,f]=y.useState(null),p=$r(),h=y.useRef(0),m=o??l.disableHoverableContent,g=a??l.delayDuration,b=y.useRef(!1),[v,x]=Ui({prop:r,defaultProp:i??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(my))):l.onClose(),s==null||s(C)},caller:fu}),w=y.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),S=y.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b.current=!1,x(!0)},[x]),j=y.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),_=y.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{b.current=!0,x(!0),h.current=0},g)},[g,x]);return y.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),c.jsx(zb,{...u,children:c.jsx(L3,{scope:t,contentId:p,open:v,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayedRef.current?_():S()},[l.isOpenDelayedRef,_,S]),onTriggerLeave:y.useCallback(()=>{m?j():(window.clearTimeout(h.current),h.current=0)},[j,m]),onOpen:S,onClose:j,disableHoverableContent:m,children:n})})};MP.displayName=fu;var gy="TooltipTrigger",UP=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Dp(gy,n),s=Wb(gy,n),o=Fp(n),a=y.useRef(null),l=Ie(t,a,i.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(Hb,{asChild:!0,...o,children:c.jsx(pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ne(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ne(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ne(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:ne(e.onBlur,i.onClose),onClick:ne(e.onClick,i.onClose)})})});UP.displayName=gy;var $3="TooltipPortal",[Uae,M3]=Ip($3,{forceMount:void 0}),fl="TooltipContent",zP=y.forwardRef((e,t)=>{const n=M3(fl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,o=Dp(fl,e.__scopeTooltip);return c.jsx(Sr,{present:r||o.open,children:o.disableHoverableContent?c.jsx(HP,{side:i,...s,ref:t}):c.jsx(U3,{side:i,...s,ref:t})})}),U3=y.forwardRef((e,t)=>{const n=Dp(fl,e.__scopeTooltip),r=Wb(fl,e.__scopeTooltip),i=y.useRef(null),s=Ie(t,i),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,p=y.useCallback(()=>{a(null),f(!1)},[f]),h=y.useCallback((m,g)=>{const b=m.currentTarget,v={x:m.clientX,y:m.clientY},x=W3(v,b.getBoundingClientRect()),w=q3(v,x),S=K3(g.getBoundingClientRect()),j=G3([...w,...S]);a(j),f(!0)},[f]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const m=b=>h(b,d),g=b=>h(b,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,h,p]),y.useEffect(()=>{if(o){const m=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),w=!Q3(v,o);x?p():w&&(p(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,o,u,p]),c.jsx(HP,{...e,ref:s})}),[z3,H3]=Ip(fu,{isInside:!1}),B3=kR("TooltipContent"),HP=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=e,l=Dp(fl,n),u=Fp(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(my,d),()=>document.removeEventListener(my,d)),[d]),y.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(El,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(Bb,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(B3,{children:r}),c.jsx(z3,{scope:n,isInside:!0,children:c.jsx(xM,{id:l.contentId,role:"tooltip",children:i||r})})]})})});zP.displayName=fl;var BP="TooltipArrow",V3=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Fp(n);return H3(BP,n).isInside?null:c.jsx(Vb,{...i,...r,ref:t})});V3.displayName=BP;function W3(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function q3(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function K3(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Q3(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s],l=t[o],u=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(i=!i)}return i}function G3(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Y3(t)}function Y3(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var J3=$P,X3=MP,Z3=UP,VP=zP;const Ih=J3,vy=X3,yy=Z3,Fh=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(VP,{ref:r,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Fh.displayName=VP.displayName;var Lp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$p=typeof window>"u"||"Deno"in globalThis;function Tr(){}function ez(e,t){return typeof e=="function"?e(t):e}function tz(e){return typeof e=="number"&&e>=0&&e!==1/0}function nz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xy(e,t){return typeof e=="function"?e(t):e}function rz(e,t){return typeof e=="function"?e(t):e}function b_(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==qb(o,t.options))return!1}else if(!pu(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function w_(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(hu(t.options.mutationKey)!==hu(s))return!1}else if(!pu(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function qb(e,t){return((t==null?void 0:t.queryKeyHashFn)||hu)(e)}function hu(e){return JSON.stringify(e,(t,n)=>by(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function pu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>pu(e[n],t[n])):!1}function WP(e,t){if(e===t)return e;const n=S_(e)&&S_(t);if(n||by(e)&&by(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,u++):(a[f]=WP(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&u++)}return i===o&&u===i?e:a}return t}function S_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function by(e){if(!__(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!__(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function __(e){return Object.prototype.toString.call(e)==="[object Object]"}function iz(e){return new Promise(t=>{setTimeout(t,e)})}function sz(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?WP(e,t):t}function oz(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function az(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Kb=Symbol();function qP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var go,ms,Ga,rk,lz=(rk=class extends Lp{constructor(){super();Me(this,go);Me(this,ms);Me(this,Ga);xe(this,Ga,t=>{if(!$p&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,ms)||this.setEventListener(q(this,Ga))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,ms))==null||t.call(this),xe(this,ms,void 0))}setEventListener(t){var n;xe(this,Ga,t),(n=q(this,ms))==null||n.call(this),xe(this,ms,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){q(this,go)!==t&&(xe(this,go,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof q(this,go)=="boolean"?q(this,go):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},go=new WeakMap,ms=new WeakMap,Ga=new WeakMap,rk),KP=new lz,Ya,gs,Ja,ik,cz=(ik=class extends Lp{constructor(){super();Me(this,Ya,!0);Me(this,gs);Me(this,Ja);xe(this,Ja,t=>{if(!$p&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,gs)||this.setEventListener(q(this,Ja))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,gs))==null||t.call(this),xe(this,gs,void 0))}setEventListener(t){var n;xe(this,Ja,t),(n=q(this,gs))==null||n.call(this),xe(this,gs,t(this.setOnline.bind(this)))}setOnline(t){q(this,Ya)!==t&&(xe(this,Ya,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return q(this,Ya)}},Ya=new WeakMap,gs=new WeakMap,Ja=new WeakMap,ik),Dh=new cz;function uz(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function dz(e){return Math.min(1e3*2**e,3e4)}function QP(e){return(e??"online")==="online"?Dh.isOnline():!0}var GP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function YP(e){let t=!1,n=0,r;const i=uz(),s=()=>i.status!=="pending",o=g=>{var b;s()||(p(new GP(g)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>KP.isFocused()&&(e.networkMode==="always"||Dh.isOnline())&&e.canRun(),d=()=>QP(e.networkMode)&&e.canRun(),f=g=>{s()||(r==null||r(),i.resolve(g))},p=g=>{s()||(r==null||r(),i.reject(g))},h=()=>new Promise(g=>{var b;r=v=>{(s()||u())&&g(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;r=void 0,s()||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(s())return;let g;const b=n===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var _;if(s())return;const x=e.retry??($p?0:3),w=e.retryDelay??dz,S=typeof w=="function"?w(n,v):w,j=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!j){p(v);return}n++,(_=e.onFail)==null||_.call(e,n,v),iz(S).then(()=>u()?void 0:h()).then(()=>{t?p(v):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?m():h().then(m),i)}}var fz=e=>setTimeout(e,0);function hz(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=fz;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Sn=hz(),vo,sk,JP=(sk=class{constructor(){Me(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tz(this.gcTime)&&xe(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($p?1/0:5*60*1e3))}clearGcTimeout(){q(this,vo)&&(clearTimeout(q(this,vo)),xe(this,vo,void 0))}},vo=new WeakMap,sk),Xa,Za,fr,yo,Mt,Xu,xo,Nr,ki,ok,pz=(ok=class extends JP{constructor(t){super();Me(this,Nr);Me(this,Xa);Me(this,Za);Me(this,fr);Me(this,yo);Me(this,Mt);Me(this,Xu);Me(this,xo);xe(this,xo,!1),xe(this,Xu,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,yo,t.client),xe(this,fr,q(this,yo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,Xa,gz(this.options)),this.state=t.state??q(this,Xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,Mt))==null?void 0:t.promise}setOptions(t){this.options={...q(this,Xu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,fr).remove(this)}setData(t,n){const r=sz(this.state.data,t,this.options);return rn(this,Nr,ki).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){rn(this,Nr,ki).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=q(this,Mt))==null?void 0:r.promise;return(i=q(this,Mt))==null||i.cancel(t),n?n.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Xa))}isActive(){return this.observers.some(t=>rz(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>xy(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!nz(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,Mt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,Mt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,fr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(q(this,Mt)&&(q(this,xo)?q(this,Mt).cancel({revert:!0}):q(this,Mt).cancelRetry()),this.scheduleGc()),q(this,fr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rn(this,Nr,ki).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,d,f,p,h,m,g,b,v,x,w;if(this.state.fetchStatus!=="idle"&&((l=q(this,Mt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(q(this,Mt))return q(this,Mt).continueRetry(),q(this,Mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(xe(this,xo,!0),r.signal)})},s=()=>{const S=qP(this.options,n),_=(()=>{const C={client:q(this,yo),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return xe(this,xo,!1),this.options.persister?this.options.persister(S,_,this):S(_)},a=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:q(this,yo),state:this.state,fetchFn:s};return i(S),S})();(u=this.options.behavior)==null||u.onFetch(a,this),xe(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&rn(this,Nr,ki).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),xe(this,Mt,YP({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onFail:(S,j)=>{rn(this,Nr,ki).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{rn(this,Nr,ki).call(this,{type:"pause"})},onContinue:()=>{rn(this,Nr,ki).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const S=await q(this,Mt).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(h=(p=q(this,fr).config).onSuccess)==null||h.call(p,S,this),(g=(m=q(this,fr).config).onSettled)==null||g.call(m,S,this.state.error,this),S}catch(S){if(S instanceof GP){if(S.silent)return q(this,Mt).promise;if(S.revert)return this.setState({...q(this,Za),fetchStatus:"idle"}),this.state.data}throw rn(this,Nr,ki).call(this,{type:"error",error:S}),(v=(b=q(this,fr).config).onError)==null||v.call(b,S,this),(w=(x=q(this,fr).config).onSettled)==null||w.call(x,this.state.data,S,this),S}finally{this.scheduleGc()}}},Xa=new WeakMap,Za=new WeakMap,fr=new WeakMap,yo=new WeakMap,Mt=new WeakMap,Xu=new WeakMap,xo=new WeakMap,Nr=new WeakSet,ki=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mz(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,Za,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),q(this,fr).notify({query:this,type:"updated",action:t})})},ok);function mz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ri,ak,vz=(ak=class extends Lp{constructor(t={}){super();Me(this,ri);this.config=t,xe(this,ri,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??qb(i,n);let o=this.get(s);return o||(o=new pz({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){q(this,ri).has(t.queryHash)||(q(this,ri).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=q(this,ri).get(t.queryHash);n&&(t.destroy(),n===t&&q(this,ri).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,ri).get(t)}getAll(){return[...q(this,ri).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>b_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>b_(t,r)):n}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ri=new WeakMap,ak),ii,bn,bo,si,is,lk,yz=(lk=class extends JP{constructor(t){super();Me(this,si);Me(this,ii);Me(this,bn);Me(this,bo);this.mutationId=t.mutationId,xe(this,bn,t.mutationCache),xe(this,ii,[]),this.state=t.state||xz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,ii).includes(t)||(q(this,ii).push(t),this.clearGcTimeout(),q(this,bn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,ii,q(this,ii).filter(n=>n!==t)),this.scheduleGc(),q(this,bn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,ii).length||(this.state.status==="pending"?this.scheduleGc():q(this,bn).remove(this))}continue(){var t;return((t=q(this,bo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,u,d,f,p,h,m,g,b,v,x,w,S,j,_,C,T;const n=()=>{rn(this,si,is).call(this,{type:"continue"})};xe(this,bo,YP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{rn(this,si,is).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{rn(this,si,is).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,bn).canRun(this)}));const r=this.state.status==="pending",i=!q(this,bo).canStart();try{if(r)n();else{rn(this,si,is).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=q(this,bn).config).onMutate)==null?void 0:o.call(s,t,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));R!==this.state.context&&rn(this,si,is).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const I=await q(this,bo).start();return await((d=(u=q(this,bn).config).onSuccess)==null?void 0:d.call(u,I,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,t,this.state.context)),await((m=(h=q(this,bn).config).onSettled)==null?void 0:m.call(h,I,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,I,null,t,this.state.context)),rn(this,si,is).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(v=q(this,bn).config).onError)==null?void 0:x.call(v,I,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,I,t,this.state.context)),await((_=(j=q(this,bn).config).onSettled)==null?void 0:_.call(j,void 0,I,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,I,t,this.state.context)),I}finally{rn(this,si,is).call(this,{type:"error",error:I})}}finally{q(this,bn).runNext(this)}}},ii=new WeakMap,bn=new WeakMap,bo=new WeakMap,si=new WeakSet,is=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Sn.batch(()=>{q(this,ii).forEach(r=>{r.onMutationUpdate(t)}),q(this,bn).notify({mutation:this,type:"updated",action:t})})},lk);function xz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ai,Ar,Zu,ck,bz=(ck=class extends Lp{constructor(t={}){super();Me(this,Ai);Me(this,Ar);Me(this,Zu);this.config=t,xe(this,Ai,new Set),xe(this,Ar,new Map),xe(this,Zu,0)}build(t,n,r){const i=new yz({mutationCache:this,mutationId:++Ud(this,Zu)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){q(this,Ai).add(t);const n=cf(t);if(typeof n=="string"){const r=q(this,Ar).get(n);r?r.push(t):q(this,Ar).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Ai).delete(t)){const n=cf(t);if(typeof n=="string"){const r=q(this,Ar).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&q(this,Ar).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=cf(t);if(typeof n=="string"){const r=q(this,Ar).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=cf(t);if(typeof n=="string"){const i=(r=q(this,Ar).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Sn.batch(()=>{q(this,Ai).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Ai).clear(),q(this,Ar).clear()})}getAll(){return Array.from(q(this,Ai))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>w_(n,r))}findAll(t={}){return this.getAll().filter(n=>w_(t,n))}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Sn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Tr))))}},Ai=new WeakMap,Ar=new WeakMap,Zu=new WeakMap,ck);function cf(e){var t;return(t=e.options.scope)==null?void 0:t.id}function j_(e){return{onFetch:(t,n)=>{var d,f,p,h,m;const r=t.options,i=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=qP(t.options,t.fetchOptions),x=async(w,S,j)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return b(F),F})(),T=await v(C),{maxPages:I}=t.options,R=j?az:oz;return{pages:R(w.pages,T,I),pageParams:R(w.pageParams,S,I)}};if(i&&s.length){const w=i==="backward",S=w?wz:E_,j={pages:s,pageParams:o},_=S(r,j);a=await x(j,_,w)}else{const w=e??s.length;do{const S=l===0?o[0]??r.initialPageParam:E_(r,a);if(l>0&&S==null)break;a=await x(a,S),l++}while(l<w)}return a};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function E_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function wz(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var gt,vs,ys,el,tl,xs,nl,rl,uk,Sz=(uk=class{constructor(e={}){Me(this,gt);Me(this,vs);Me(this,ys);Me(this,el);Me(this,tl);Me(this,xs);Me(this,nl);Me(this,rl);xe(this,gt,e.queryCache||new vz),xe(this,vs,e.mutationCache||new bz),xe(this,ys,e.defaultOptions||{}),xe(this,el,new Map),xe(this,tl,new Map),xe(this,xs,0)}mount(){Ud(this,xs)._++,q(this,xs)===1&&(xe(this,nl,KP.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,gt).onFocus())})),xe(this,rl,Dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,gt).onOnline())})))}unmount(){var e,t;Ud(this,xs)._--,q(this,xs)===0&&((e=q(this,nl))==null||e.call(this),xe(this,nl,void 0),(t=q(this,rl))==null||t.call(this),xe(this,rl,void 0))}isFetching(e){return q(this,gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,vs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,gt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=q(this,gt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(xy(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return q(this,gt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=q(this,gt).get(r.queryHash),s=i==null?void 0:i.state.data,o=ez(t,s);if(o!==void 0)return q(this,gt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Sn.batch(()=>q(this,gt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,gt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=q(this,gt);Sn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=q(this,gt);return Sn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Sn.batch(()=>q(this,gt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Tr).catch(Tr)}invalidateQueries(e,t={}){return Sn.batch(()=>(q(this,gt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Sn.batch(()=>q(this,gt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Tr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Tr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=q(this,gt).build(this,t);return n.isStaleByTime(xy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tr).catch(Tr)}fetchInfiniteQuery(e){return e.behavior=j_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tr).catch(Tr)}ensureInfiniteQueryData(e){return e.behavior=j_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dh.isOnline()?q(this,vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,gt)}getMutationCache(){return q(this,vs)}getDefaultOptions(){return q(this,ys)}setDefaultOptions(e){xe(this,ys,e)}setQueryDefaults(e,t){q(this,el).set(hu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,el).values()],n={};return t.forEach(r=>{pu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){q(this,tl).set(hu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,tl).values()],n={};return t.forEach(r=>{pu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,ys).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Kb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,ys).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,gt).clear(),q(this,vs).clear()}},gt=new WeakMap,vs=new WeakMap,ys=new WeakMap,el=new WeakMap,tl=new WeakMap,xs=new WeakMap,nl=new WeakMap,rl=new WeakMap,uk),_z=y.createContext(void 0),jz=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(_z.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(this,arguments)}var Ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ss||(Ss={}));const k_="popstate";function Ez(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return wy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Lh(i)}return Cz(t,n,null,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kz(){return Math.random().toString(36).substr(2,8)}function C_(e,t){return{usr:e.state,key:e.key,idx:t}}function wy(e,t,n,r){return n===void 0&&(n=null),mu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tl(t):t,{state:n,key:t&&t.key||r||kz()})}function Lh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Cz(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ss.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(mu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ss.Pop;let b=d(),v=b==null?null:b-u;u=b,l&&l({action:a,location:g.location,delta:v})}function p(b,v){a=Ss.Push;let x=wy(g.location,b,v);u=d()+1;let w=C_(x,u),S=g.createHref(x);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}s&&l&&l({action:a,location:g.location,delta:1})}function h(b,v){a=Ss.Replace;let x=wy(g.location,b,v);u=d();let w=C_(x,u),S=g.createHref(x);o.replaceState(w,"",S),s&&l&&l({action:a,location:g.location,delta:0})}function m(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Lh(b);return x=x.replace(/ $/,"%20"),bt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return a},get location(){return e(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(k_,f),l=b,()=>{i.removeEventListener(k_,f),l=null}},createHref(b){return t(i,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(b){return o.go(b)}};return g}var R_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(R_||(R_={}));function Rz(e,t,n){return n===void 0&&(n="/"),Pz(e,t,n)}function Pz(e,t,n,r){let i=typeof t=="string"?Tl(t):t,s=Qb(i.pathname||"/",n);if(s==null)return null;let o=ZP(e);Tz(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Hz(s);a=Mz(o[l],u)}return a}function ZP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=As([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZP(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Lz(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of eT(s.path))i(s,o,l)}),t}function eT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Tz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$z(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nz=/^:[\w-]+$/,Az=3,Oz=2,Iz=1,Fz=10,Dz=-2,P_=e=>e==="*";function Lz(e,t){let n=e.split("/"),r=n.length;return n.some(P_)&&(r+=Dz),t&&(r+=Oz),n.filter(i=>!P_(i)).reduce((i,s)=>i+(Nz.test(s)?Az:s===""?Iz:Fz),r)}function $z(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Mz(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=Uz({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:As([s,f.pathname]),pathnameBase:qz(As([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=As([s,f.pathnameBase]))}return o}function Uz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[p]=void 0:u[p]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function zz(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),XP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Hz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return XP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Bz(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tl(e):e;return{pathname:n?n.startsWith("/")?n:Vz(n,t):t,search:Kz(r),hash:Qz(i)}}function Vz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gb(e,t){let n=Wz(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yb(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tl(e):(i=mu({},e),bt(!i.pathname||!i.pathname.includes("?"),lg("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),lg("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),lg("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=Bz(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const As=e=>e.join("/").replace(/\/\/+/g,"/"),qz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tT=["post","put","patch","delete"];new Set(tT);const Yz=["get",...tT];new Set(Yz);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gu.apply(this,arguments)}const Jb=y.createContext(null),Jz=y.createContext(null),Ks=y.createContext(null),Mp=y.createContext(null),qi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),nT=y.createContext(null);function Xz(e,t){let{relative:n}=t===void 0?{}:t;Nl()||bt(!1);let{basename:r,navigator:i}=y.useContext(Ks),{hash:s,pathname:o,search:a}=iT(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:As([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Nl(){return y.useContext(Mp)!=null}function vi(){return Nl()||bt(!1),y.useContext(Mp).location}function rT(e){y.useContext(Ks).static||y.useLayoutEffect(e)}function Al(){let{isDataRoute:e}=y.useContext(qi);return e?h5():Zz()}function Zz(){Nl()||bt(!1);let e=y.useContext(Jb),{basename:t,future:n,navigator:r}=y.useContext(Ks),{matches:i}=y.useContext(qi),{pathname:s}=vi(),o=JSON.stringify(Gb(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return rT(()=>{a.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Yb(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:As([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,s,e])}const e5=y.createContext(null);function t5(e){let t=y.useContext(qi).outlet;return t&&y.createElement(e5.Provider,{value:e},t)}function iT(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Ks),{matches:i}=y.useContext(qi),{pathname:s}=vi(),o=JSON.stringify(Gb(i,r.v7_relativeSplatPath));return y.useMemo(()=>Yb(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function n5(e,t){return r5(e,t)}function r5(e,t,n,r){Nl()||bt(!1);let{navigator:i}=y.useContext(Ks),{matches:s}=y.useContext(qi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=vi(),d;if(t){var f;let b=typeof t=="string"?Tl(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||bt(!1),d=b}else d=u;let p=d.pathname||"/",h=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=Rz(e,{pathname:h}),g=l5(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:As([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:As([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&g?y.createElement(Mp.Provider,{value:{location:gu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ss.Pop}},g):g}function i5(){let e=f5(),t=Gz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,null)}const s5=y.createElement(i5,null);class o5 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(qi.Provider,{value:this.props.routeContext},y.createElement(nT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a5(e){let{routeContext:t,match:n,children:r}=e,i=y.useContext(Jb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(qi.Provider,{value:t},r)}function l5(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||bt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:h}=n,m=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let h,m=!1,g=null,b=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||s5,l&&(u<0&&p===0?(p5("route-fallback"),m=!0,b=null):u===p&&(m=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,p+1)),x=()=>{let w;return h?w=g:m?w=b:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(a5,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(o5,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var sT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sT||{}),oT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oT||{});function c5(e){let t=y.useContext(Jb);return t||bt(!1),t}function u5(e){let t=y.useContext(Jz);return t||bt(!1),t}function d5(e){let t=y.useContext(qi);return t||bt(!1),t}function aT(e){let t=d5(),n=t.matches[t.matches.length-1];return n.route.id||bt(!1),n.route.id}function f5(){var e;let t=y.useContext(nT),n=u5(),r=aT();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function h5(){let{router:e}=c5(sT.UseNavigateStable),t=aT(oT.UseNavigateStable),n=y.useRef(!1);return rT(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gu({fromRouteId:t},s)))},[e,t])}const T_={};function p5(e,t,n){T_[e]||(T_[e]=!0)}function m5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lT(e){let{to:t,replace:n,state:r,relative:i}=e;Nl()||bt(!1);let{future:s,static:o}=y.useContext(Ks),{matches:a}=y.useContext(qi),{pathname:l}=vi(),u=Al(),d=Yb(t,Gb(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function g5(e){return t5(e.context)}function ut(e){bt(!1)}function v5(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ss.Pop,navigator:s,static:o=!1,future:a}=e;Nl()&&bt(!1);let l=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:s,static:o,future:gu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Tl(r));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:m="default"}=r,g=y.useMemo(()=>{let b=Qb(d,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:h,key:m},navigationType:i}},[l,d,f,p,h,m,i]);return g==null?null:y.createElement(Ks.Provider,{value:u},y.createElement(Mp.Provider,{children:n,value:g}))}function y5(e){let{children:t,location:n}=e;return n5(Sy(t),n)}new Promise(()=>{});function Sy(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,i)=>{if(!y.isValidElement(r))return;let s=[...t,i];if(r.type===y.Fragment){n.push.apply(n,Sy(r.props.children,s));return}r.type!==ut&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(this,arguments)}function x5(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function b5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function w5(e,t){return e.button===0&&(!t||t==="_self")&&!b5(e)}function jy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function S5(e,t){let n=jy(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const _5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j5="6";try{window.__reactRouterVersion=j5}catch{}const E5="startTransition",N_=lp[E5];function k5(e){let{basename:t,children:n,future:r,window:i}=e,s=y.useRef();s.current==null&&(s.current=Ez({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(f=>{u&&N_?N_(()=>l(f)):l(f)},[l,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>m5(r),[r]),y.createElement(v5,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const C5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,p=x5(t,_5),{basename:h}=y.useContext(Ks),m,g=!1;if(typeof u=="string"&&R5.test(u)&&(m=u,C5))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Qb(S.pathname,h);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:g=!0}catch{}let b=Xz(u,{relative:i}),v=P5(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(w){r&&r(w),w.defaultPrevented||v(w)}return y.createElement("a",_y({},p,{href:m||b,onClick:g||s?r:x,ref:n,target:l}))});var A_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A_||(A_={}));var O_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(O_||(O_={}));function P5(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,l=Al(),u=vi(),d=iT(e,{relative:o});return y.useCallback(f=>{if(w5(f,n)){f.preventDefault();let p=r!==void 0?r:Lh(u)===Lh(d);l(e,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,e,s,o,a])}function T5(e){let t=y.useRef(jy(e)),n=y.useRef(!1),r=vi(),i=y.useMemo(()=>S5(r.search,n.current?null:t.current),[r.search]),s=Al(),o=y.useCallback((a,l)=>{const u=jy(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}const N5="modulepreload",A5=function(e){return"/"+e},I_={},fd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=A5(l),l in I_)return;I_[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":N5,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},O5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ol);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Xb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class I5 extends Xb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class F_ extends Xb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class D_ extends Xb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ey;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ey||(Ey={}));var F5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class D5{constructor(t,{headers:n={},customFetch:r,region:i=Ey.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=O5(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return F5(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(g=>{throw new I5(g)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new F_(f);if(!f.ok)throw new D_(f);let h=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield f.json():h==="application/octet-stream"?m=yield f.blob():h==="text/event-stream"?m=f:h==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof D_||i instanceof F_?i.context:void 0}}})}}var Dn={},Zb={},Up={},hd={},zp={},Hp={},L5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hl=L5();const $5=hl.fetch,cT=hl.fetch.bind(hl),uT=hl.Headers,M5=hl.Request,U5=hl.Response,Ol=Object.freeze(Object.defineProperty({__proto__:null,Headers:uT,Request:M5,Response:U5,default:cT,fetch:$5},Symbol.toStringTag,{value:"Module"})),z5=vD(Ol);var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});let H5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Bp.default=H5;var dT=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hp,"__esModule",{value:!0});const B5=dT(z5),V5=dT(Bp);let W5=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=B5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,d=null,f=null,p=s.status,h=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await s.text();try{u=JSON.parse(g),Array.isArray(u)&&s.status===404&&(d=[],u=null,p=200,h="OK")}catch{s.status===404&&g===""?(p=204,h="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,h="OK"),u&&this.shouldThrowOnError)throw new V5.default(u)}return{error:u,data:d,count:f,status:p,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Hp.default=W5;var q5=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zp,"__esModule",{value:!0});const K5=q5(Hp);let Q5=class extends K5.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};zp.default=Q5;var G5=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hd,"__esModule",{value:!0});const Y5=G5(zp);let J5=class extends Y5.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};hd.default=J5;var X5=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Up,"__esModule",{value:!0});const nc=X5(hd);let Z5=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new nc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new nc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new nc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new nc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new nc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Up.default=Z5;var Vp={},Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.version=void 0;Wp.version="0.0.0-automated";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.DEFAULT_HEADERS=void 0;const eH=Wp;Vp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${eH.version}`};var fT=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zb,"__esModule",{value:!0});const tH=fT(Up),nH=fT(hd),rH=Vp;let iH=class hT{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},rH.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new tH.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new nH.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Zb.default=iH;var Il=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.PostgrestError=Dn.PostgrestBuilder=Dn.PostgrestTransformBuilder=Dn.PostgrestFilterBuilder=Dn.PostgrestQueryBuilder=Dn.PostgrestClient=void 0;const pT=Il(Zb);Dn.PostgrestClient=pT.default;const mT=Il(Up);Dn.PostgrestQueryBuilder=mT.default;const gT=Il(hd);Dn.PostgrestFilterBuilder=gT.default;const vT=Il(zp);Dn.PostgrestTransformBuilder=vT.default;const yT=Il(Hp);Dn.PostgrestBuilder=yT.default;const xT=Il(Bp);Dn.PostgrestError=xT.default;var sH=Dn.default={PostgrestClient:pT.default,PostgrestQueryBuilder:mT.default,PostgrestFilterBuilder:gT.default,PostgrestTransformBuilder:vT.default,PostgrestBuilder:yT.default,PostgrestError:xT.default};const{PostgrestClient:oH,PostgrestQueryBuilder:qae,PostgrestFilterBuilder:Kae,PostgrestTransformBuilder:Qae,PostgrestBuilder:Gae,PostgrestError:Yae}=sH;class aH{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lH="2.15.1",cH=`realtime-js/${lH}`,uH="1.0.0",ky=1e4,dH=1e3,fH=100;var Ic;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ic||(Ic={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var Ir;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ir||(Ir={}));var Cy;(function(e){e.websocket="websocket"})(Cy||(Cy={}));var lo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lo||(lo={}));class hH{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class bT{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const L_=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=pH(o,e,t,i),s),{})},pH=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?wT(s,o):Ry(o)},wT=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return yH(t,n)}switch(e){case Ze.bool:return mH(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return gH(t);case Ze.json:case Ze.jsonb:return vH(t);case Ze.timestamp:return xH(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Ry(t);default:return Ry(t)}},Ry=e=>e,mH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yH=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>wT(t,a))}return e},xH=e=>typeof e=="string"?e.replace(" ","T"):e,ST=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class cg{constructor(t,n,r={},i=ky){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($_||($_={}));class Fc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fc.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Fc.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fc.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const p=d.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),m=d.filter(b=>h.indexOf(b.presence_ref)<0),g=f.filter(b=>p.indexOf(b.presence_ref)<0);m.length>0&&(a[u]=m),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M_||(M_={}));var Dc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dc||(Dc={}));var Ti;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ti||(Ti={}));class ew{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cg(this,Ir.join,this.params,this.timeout),this.rejoinTimer=new bT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ir.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Fc(this),this.broadcastEndpointURL=ST(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Dc.PRESENCE]&&this.bindings[Dc.PRESENCE].length>0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ti.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ti.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var h;if(this.socket.setAuth(),p===void 0){t==null||t(Ti.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,b=[];for(let v=0;v<g;v++){const x=m[v],{filter:{event:w,schema:S,table:j,filter:_}}=x,C=p&&p[v];if(C&&C.event===w&&C.schema===S&&C.table===j&&C.filter===_)b.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),this.state=Pt.errored,t==null||t(Ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ti.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pt.errored,t==null||t(Ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Pt.joined&&t===Dc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ir.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new cg(this,Ir.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>fH){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ir;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,g,b;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=h.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(h=>h.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var m,g,b,v,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,j=(m=h.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(x=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:g,table:b,commit_timestamp:v,type:x,errors:w}=m;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(p,r)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&ew.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ir.close,{},t)}_onError(t){this._on(Ir.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=L_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=L_(t.columns,t.old_record)),n}}const U_=()=>{},uf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bH=[1e3,2e3,5e3,1e4],wH=1e4,SH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _H{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ky,this.transport=null,this.heartbeatIntervalMs=uf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=U_,this.ref=0,this.reconnectTimer=null,this.logger=U_,this.conn=null,this.sendBuffer=[],this.serializer=new hH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>fd(async()=>{const{default:a}=await Promise.resolve().then(()=>Ol);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Cy.websocket}`,this.httpEndpoint=ST(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uH}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ic.connecting:return lo.Connecting;case Ic.open:return lo.Open;case Ic.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new ew(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dH,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},uf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ir.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([SH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:cH};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ir.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ky,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:uf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:d=>bH[d-1]||wH,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class tw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jH extends tw{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Py extends tw{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var EH=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const _T=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ol);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},kH=()=>EH(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fd(()=>Promise.resolve().then(()=>Ol),void 0)).Response:Response}),Ty=e=>{if(Array.isArray(e))return e.map(n=>Ty(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ty(r)}),t},CH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Bo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ug=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RH=(e,t,n)=>Bo(void 0,void 0,void 0,function*(){const r=yield kH();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new jH(ug(i),s,o))}).catch(i=>{t(new Py(ug(i),i))}):t(new Py(ug(e),e))}),PH=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(CH(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function pd(e,t,n,r,i,s){return Bo(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,PH(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>RH(l,a,r))})})}function $h(e,t,n,r){return Bo(this,void 0,void 0,function*(){return pd(e,"GET",t,n,r)})}function ti(e,t,n,r,i){return Bo(this,void 0,void 0,function*(){return pd(e,"POST",t,r,i,n)})}function Ny(e,t,n,r,i){return Bo(this,void 0,void 0,function*(){return pd(e,"PUT",t,r,i,n)})}function TH(e,t,n,r){return Bo(this,void 0,void 0,function*(){return pd(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jT(e,t,n,r,i){return Bo(this,void 0,void 0,function*(){return pd(e,"DELETE",t,r,i,n)})}var yn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const NH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AH{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=_T(i)}uploadOrUpdate(t,n,r,i){return yn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},z_),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Ny:ti)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return yn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:z_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Ny(this.fetch,a.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return yn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ti(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new tw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}update(t,n,r){return yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return yn(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return yn(this,void 0,void 0,function*(){try{return{data:{path:(yield ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return yn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ti(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return yn(this,void 0,void 0,function*(){try{const i=yield ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}download(t,n){return yn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield $h(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}info(t){return yn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $h(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ty(r),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}exists(t){return yn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield TH(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Tt(r)&&r instanceof Py){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return yn(this,void 0,void 0,function*(){try{return{data:yield jT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}list(t,n,r){return yn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},NH),n),{prefix:t||""});return{data:yield ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}listV2(t,n){return yn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ti(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const OH="2.11.0",IH={"X-Client-Info":`storage-js/${OH}`};var sa=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class FH{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},IH),n),this.fetch=_T(r)}listBuckets(){return sa(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}getBucket(t){return sa(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return sa(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return sa(this,void 0,void 0,function*(){try{return{data:yield Ny(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return sa(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return sa(this,void 0,void 0,function*(){try{return{data:yield jT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}}class DH extends FH{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new AH(this.url,this.headers,t,this.fetch)}}const LH="2.55.0";let gc="";typeof Deno<"u"?gc="deno":typeof document<"u"?gc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gc="react-native":gc="node";const $H={"X-Client-Info":`supabase-js-${gc}/${LH}`},MH={headers:$H},UH={schema:"public"},zH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HH={};var BH=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const VH=e=>{let t;return e?t=e:typeof fetch>"u"?t=cT:t=fetch,(...n)=>t(...n)},WH=()=>typeof Headers>"u"?uT:Headers,qH=(e,t,n)=>{const r=VH(n),i=WH();return(s,o)=>BH(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var KH=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function QH(e){return e.endsWith("/")?e:e+"/"}function GH(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>KH(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const ET="2.71.1",ya=30*1e3,Ay=3,dg=Ay*ya,YH="http://localhost:9999",JH="supabase.auth.token",XH={"X-Client-Info":`gotrue-js/${ET}`},Oy="X-Supabase-Api-Version",kT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eB=10*60*1e3;class nw extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tB extends nw{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function nB(e){return be(e)&&e.name==="AuthApiError"}class CT extends nw{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qs extends nw{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ss extends Qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rB(e){return be(e)&&e.name==="AuthSessionMissingError"}class df extends Qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ff extends Qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hf extends Qs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iB(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class H_ extends Qs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iy extends Qs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fg(e){return be(e)&&e.name==="AuthRetryableFetchError"}class B_ extends Qs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fy extends Qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),V_=` 	
\r=`.split(""),sB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<V_.length;t+=1)e[V_[t].charCodeAt(0)]=-2;for(let t=0;t<Mh.length;t+=1)e[Mh[t].charCodeAt(0)]=t;return e})();function W_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mh[r]),t.queuedBits-=6}}function RT(e,t,n){const r=sB[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function q_(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{lB(o,r,n)};for(let o=0;o<e.length;o+=1)RT(e.charCodeAt(o),i,s);return t.join("")}function oB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aB(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}oB(r,t)}}function lB(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function cB(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)RT(e.charCodeAt(i),n,r);return new Uint8Array(t)}function uB(e){const t=[];return aB(e,n=>t.push(n)),new Uint8Array(t)}function dB(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>W_(i,n,r)),W_(null,n,r),t.join("")}function fB(e){return Math.round(Date.now()/1e3)+e}function hB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Cr=()=>typeof window<"u"&&typeof document<"u",eo={tested:!1,writable:!1},PT=()=>{if(!Cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eo.tested)return eo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eo.tested=!0,eo.writable=!0}catch{eo.tested=!0,eo.writable=!1}return eo.writable};function pB(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const TT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fd(async()=>{const{default:r}=await Promise.resolve().then(()=>Ol);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},mB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},to=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},es=async(e,t)=>{await e.removeItem(t)};class qp{constructor(){this.promise=new qp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}qp.promiseConstructor=Promise;function hg(e){const t=e.split(".");if(t.length!==3)throw new Fy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ZH.test(t[r]))throw new Fy("JWT not in base64url format");return{header:JSON.parse(q_(t[0])),payload:JSON.parse(q_(t[1])),signature:cB(t[2]),raw:{header:t[0],payload:t[1]}}}async function gB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vB(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function yB(e){return("0"+e.toString(16)).substr(-2)}function xB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,yB).join("")}async function bB(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function wB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bB(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oa(e,t,n=!1){const r=xB();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await xa(e,`${t}-code-verifier`,i);const s=await wB(r);return[s,r===s?"plain":"s256"]}const SB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _B(e){const t=e.headers.get(Oy);if(!t||!t.match(SB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function EB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function aa(e){if(!kB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K_(e){return JSON.parse(JSON.stringify(e))}var CB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RB=[502,503,504];async function Q_(e){var t;if(!mB(e))throw new Iy(oo(e),0);if(RB.includes(e.status))throw new Iy(oo(e),e.status);let n;try{n=await e.json()}catch(s){throw new CT(oo(s),s)}let r;const i=_B(e);if(i&&i.getTime()>=kT["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new B_(oo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ss}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new B_(oo(n),e.status,n.weak_password.reasons);throw new tB(oo(n),e.status||500,r)}const PB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ce(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Oy]||(s[Oy]=kT["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await TB(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function TB(e,t,n,r,i,s){const o=PB(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Iy(oo(l),0)}if(a.ok||await Q_(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Q_(l)}}function Ci(e){var t;let n=null;IB(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=fB(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function G_(e){const t=Ci(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NB(e){return{data:e,error:null}}function AB(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=CB(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function OB(e){return e}function IB(e){return e.access_token&&e.refresh_token&&e.expires_in}const mg=["global","local","others"];var FB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class DB{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=TT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=mg[0]){if(mg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mg.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hs})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=FB(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:AB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hs})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:OB});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){aa(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hs})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){aa(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hs})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){aa(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hs})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){aa(t.userId);try{const{data:n,error:r}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){aa(t.userId),aa(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}}function Y_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function LB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const la={debug:!!(globalThis&&PT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $B extends NT{}async function MB(e,t,n){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),la.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{la.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw la.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $B(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(la.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}LB();const UB={url:YH,storageKey:JH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function J_(e,t,n){return await n()}const ca={};class vu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vu.nextInstanceID,vu.nextInstanceID+=1,this.instanceID>0&&Cr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},UB),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new DB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=TT(i.fetch),this.lock=i.lock||J_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Cr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MB:this.lock=J_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:PT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Y_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Y_(this.memoryStorage)),Cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ca[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ca[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ET}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=pB(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Cr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),iB(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?{error:n}:{error:new CT("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ci}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await oa(this.storage,this.storageKey)),s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:m},xform:Ci})}else if("phone"in t){const{phone:d,password:f,options:p}=t;s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ci})}else throw new ff("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:G_})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:G_})}else throw new ff("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new df}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,u,d,f,p,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:x,options:w}=t;let S;if(Cr())if(typeof v=="object")S=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")C=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)C=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)m=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:b,error:v}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:dB(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ci});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new df}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(be(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await to(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ci});if(await es(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new df}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(be(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ci}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new df}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await oa(this.storage,this.storageKey));const{error:f}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ff("You must provide either an email or phone number.")}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ci});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await oa(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:NB})}catch(s){if(be(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ss;const{error:i}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ff("You must provide either an email or phone number and a type")}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<dg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await to(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pg()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hs}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ss}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:hs})})}catch(n){if(be(n))return rB(n)&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ss;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await oa(this.storage,this.storageKey));const{data:u,error:d}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:hs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ss;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=hg(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ss;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Cr())throw new hf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new H_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new H_("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new hf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=ya&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const m=p-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,d);const{data:g,error:b}=await this._getUser(s);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(nB(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=hB(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await oa(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(be(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,d;const{data:f,error:p}=s;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Cr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(be(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await vB(async i=>(i>0&&await gB(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ci})),(i,s)=>{const o=200*Math.pow(2,i);return s&&fg(s)&&Date.now()+o-r<ya})}catch(r){if(this._debug(n,"error",r),be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Cr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await to(this.storage,this.storageKey);if(i&&this.userStorage){let o=await to(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await xa(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pg()}else if(i&&!i.user&&!i.user){const o=await to(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await es(this.storage,this.storageKey+"-user"),await xa(this.storage,this.storageKey,i)):i.user=pg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<dg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${dg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ss;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new qp;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new ss;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),be(s)){const o={session:null,error:s};return fg(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=K_(i);await xa(this.storage,this.storageKey,s)}else{const i=K_(n);await xa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await es(this.storage,this.storageKey),await es(this.storage,this.storageKey+"-code-verifier"),await es(this.storage,this.storageKey+"-user"),this.userStorage&&await es(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ya);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ya);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ya}ms, refresh threshold is ${Ay} ticks`),i<=Ay&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof NT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await oa(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=hg(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+eB>i)return r;const{data:s,error:o}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};r=h.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=hg(r);n!=null&&n.allowExpired||jB(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:s,header:i,signature:o},error:null}}const d=EB(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,uB(`${a}.${l}`)))throw new Fy("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}vu.nextInstanceID=0;const zB=vu;class HB extends zB{constructor(t){super(t)}}var BB=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class VB{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=QH(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:UH,realtime:HH,auth:Object.assign(Object.assign({},zH),{storageKey:u}),global:MH},f=GH(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=qH(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new oH(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new DH(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new D5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return BB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HB({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new _H(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WB=(e,t,n)=>new VB(e,t,n);function qB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KB="https://wrodvaatdujbpfpvrzge.supabase.co",QB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",GB=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage}catch{}},re=WB(KB,QB,{auth:{storage:GB(),persistSession:!0,autoRefreshToken:!0}}),AT=y.createContext(void 0),jt=()=>{const e=y.useContext(AT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},YB=({children:e})=>{const[t,n]=y.useState(null),[r,i]=y.useState(null),[s,o]=y.useState(!0);y.useEffect(()=>{const{data:{subscription:f}}=re.auth.onAuthStateChange(async(p,h)=>{i(h),n((h==null?void 0:h.user)??null),h!=null&&h.user&&setTimeout(async()=>{try{const{data:m,error:g}=await re.from("users").select("workspace_id").eq("user_id",h.user.id).single();if(g){if(g.code!=="PGRST116"){const x=`auth_user_fetch_error_${g.code}_${h.user.id}`;sessionStorage.getItem(x)||(console.error("Error fetching user in auth:",g),sessionStorage.setItem(x,"logged"))}return}if(!m)return;const{data:b,error:v}=await re.rpc("workspace_has_access",{workspace_uuid:m.workspace_id});if(!v&&b===!1){try{sessionStorage.setItem("trial_expired","true")}catch{}await re.auth.signOut();try{new URL(window.location.href).pathname!=="/login"&&window.location.replace("/login?trial_expired=true")}catch{}}}catch(m){const g=`auth_trial_check_error_${h.user.id}`;sessionStorage.getItem(g)||(console.error("Error checking trial status:",m),sessionStorage.setItem(g,"logged"))}},0),o(!1)});return re.auth.getSession().then(({data:{session:p}})=>{i(p),n((p==null?void 0:p.user)??null),o(!1)}),()=>f.unsubscribe()},[]);const a=async()=>{const{error:f}=await re.auth.signOut();if(f)throw console.error("Error signing out:",f),f},l=async(f,p)=>{const{data:h,error:m}=await re.auth.signInWithPassword({email:f,password:p});if(h!=null&&h.user&&!m)try{const{data:g,error:b}=await re.from("users").select("workspace_id").eq("user_id",h.user.id).single();if(!b&&g){const{data:v,error:x}=await re.rpc("workspace_has_access",{workspace_uuid:g.workspace_id});if(!x&&v===!1){await re.auth.signOut();try{sessionStorage.setItem("trial_expired","true")}catch{}return{data:null,error:{message:"Votre priode d'essai de 7 jours est expire. Contactez notre quipe commerciale pour souscrire  un plan.",code:"TRIAL_EXPIRED"}}}}}catch(g){console.error("Error checking trial status during login:",g)}return{data:h,error:m}},u=async(f,p,h)=>{const{data:m,error:g}=await re.auth.signUp({email:f,password:p,options:{data:h}});return{data:m,error:g}},d=async()=>{const{data:f,error:p}=await re.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});return{data:f,error:p}};return c.jsx(AT.Provider,{value:{user:t,session:r,loading:s,signOut:a,signIn:l,signUp:u,signInWithGoogle:d},children:e})},OT=y.createContext(void 0),rw=()=>{const e=y.useContext(OT);if(!e)throw new Error("useUser must be used within a UserProvider");return e},JB=({children:e})=>{const{user:t}=jt(),[n,r]=y.useState(null),[i,s]=y.useState(!0),o=async()=>{if(!t){r(null),s(!1);return}try{const{data:l,error:u}=await re.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u)if(u.code==="PGRST116"){console.warn(`User ${t.id} exists in auth but not in public.users. This indicates data inconsistency.`),r(null),s(!1);return}else{const p=`user_fetch_error_${u.code}_${t.id}`;sessionStorage.getItem(p)||(console.error("Error fetching user profile:",u),sessionStorage.setItem(p,"logged")),r(null),s(!1);return}let d=null;try{const{data:p}=await re.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single();d=p}catch{}const f={user_id:t.id,workspace_id:(l==null?void 0:l.workspace_id)||(d==null?void 0:d.workspace_id)||"",first_name:l==null?void 0:l.first_name,last_name:l==null?void 0:l.last_name,company:l==null?void 0:l.company,position:l==null?void 0:l.position,phone:l==null?void 0:l.phone,email:(l==null?void 0:l.email)||t.email||"",plan_type:l==null?void 0:l.plan_type,subscribed:l==null?void 0:l.subscribed,role:d==null?void 0:d.role};r(f)}catch(l){const u=`profile_fetch_error_${t.id}`;sessionStorage.getItem(u)||(console.error("Error in fetchProfile:",l),sessionStorage.setItem(u,"logged")),r(null)}s(!1)};y.useEffect(()=>{o()},[t]);const a=async()=>{s(!0),await o()};return c.jsx(OT.Provider,{value:{userProfile:n,loading:i,refreshProfile:a},children:e})},IT=y.createContext(void 0),Gs=()=>{const e=y.useContext(IT);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},XB=({children:e})=>{const{user:t}=jt(),{userProfile:n,loading:r}=rw(),[i,s]=y.useState(null),[o,a]=y.useState(!0),l=async()=>{if(!t){s(null),a(!1);return}if(r){a(!0);return}if(!n||!n.workspace_id||n.workspace_id.trim()===""){s(null),a(!1);return}try{const{data:d,error:f}=await re.from("workspaces").select("*").eq("id",n.workspace_id).single();f?(console.error("Error fetching workspace:",f),s(null)):s(d)}catch(d){console.error("Error in fetchWorkspace:",d),s(null)}a(!1)};y.useEffect(()=>{l()},[t,n==null?void 0:n.workspace_id,r]);const u=async()=>{a(!0),await l()};return c.jsx(IT.Provider,{value:{currentWorkspace:i,loading:o,refreshWorkspace:u},children:e})},Fl=()=>{const{user:e}=jt(),{currentWorkspace:t}=Gs(),[n,r]=y.useState([]),[i,s]=y.useState([]),[o,a]=y.useState(new Map);y.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:m}=await re.from("fe_sources").select("source_name, access_level, is_global").eq("is_global",!0);if(m){const b=new Map,v=[];m.forEach(x=>{b.set(x.source_name,{access_level:x.access_level,is_global:x.is_global}),x.access_level==="free"&&v.push(x.source_name)}),a(b),s(v)}const{data:g}=await re.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);g&&r(g.map(b=>b.source_name))}catch(m){console.error("Error fetching source data:",m)}})()},[e,t]);const l=y.useCallback(h=>!!e,[e]),u=y.useCallback(h=>!n.includes(h),[n]),d=y.useCallback(()=>!e||!t?!1:t.plan_type==="pro",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),f=y.useCallback((h,m)=>h?{variant:"secondary",label:"Workspace"}:null,[]),p=y.useCallback(h=>{const m=o.get(h);if(!m)return!1;const g=m.access_level==="paid",b=n.includes(h);return g&&!b},[o,n]);return{hasAccess:l,shouldBlurPaidContent:u,getSourceLabel:f,canUseFavorites:d,isSourceLocked:p,user:e,currentWorkspace:t,freeSources:i,assignedSources:n,sourcesMetadata:o}},FT=y.createContext(void 0),Kp=()=>{const e=y.useContext(FT);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},ZB=({children:e})=>{const{user:t}=jt(),{canUseFavorites:n}=Fl(),[r,i]=y.useState([]),[s,o]=y.useState(!1),[a,l]=y.useState(0),u=3e4,d=y.useRef(0),f=y.useCallback((v,x)=>({id:x,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unit donne d'activit"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Primtre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",contributeur_en:v.Contributeur_en||v.contributeur_en||"",methodologie:v.Mthodologie||v.methodologie||"",methodologie_en:v.Mthodologie_en||v.methodologie_en||"",typeDonnees:v.Type_de_donnes||v.typeDonnees||"",typeDonnees_en:v.Type_de_donnes_en||v.typeDonnees_en||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),p=y.useCallback(async(v=!1)=>{if(!t||!n()){i([]),l(0),d.current=0;return}const x=Date.now();if(!(!v&&d.current&&x-d.current<u))try{o(!0);const{data:w,error:S}=await re.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!w||w.length===0){i([]),l(x),d.current=x;return}const j=w.map(_=>_.item_data?f(_.item_data,_.item_id):null).filter(Boolean);i(j),l(x),d.current=x}catch(w){console.error("Error fetching favorites:",w)}finally{o(!1)}},[t,n,f]),h=y.useCallback(async v=>{if(!(!t||!n()))try{const{error:x}=await re.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(x)throw x;i(w=>[...w,{...v,isFavorite:!0}]),l(0)}catch(x){throw console.error("Error adding to favorites:",x),x}},[t,n]),m=y.useCallback(async v=>{if(!(!t||!n()))try{i(w=>w.filter(S=>S.id!==v));const{error:x}=await re.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(x)throw await p(!0),x;l(0)}catch(x){throw console.error("Error removing from favorites:",x),x}},[t,n,p]),g=y.useMemo(()=>new Set(r.map(v=>v.id)),[r]),b=y.useCallback(v=>g.has(v),[g]);return y.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{p()},100):(i([]),l(0)),()=>{v&&clearTimeout(v)}},[t,n,p]),y.useEffect(()=>{if(!t||!n())return;const v=re.channel(`favorites-realtime-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"favorites",filter:`user_id=eq.${t.id}`},x=>{var w,S,j;try{if(x.eventType==="INSERT"&&((w=x.new)==null?void 0:w.item_type)==="emission_factor"){const _=f(x.new.item_data,x.new.item_id);i(C=>C.some(T=>T.id===_.id)?C:[...C,_])}if(x.eventType==="DELETE"){const _=(S=x.old)==null?void 0:S.item_id;_&&i(C=>C.filter(T=>T.id!==_))}if(x.eventType==="UPDATE"&&((j=x.new)==null?void 0:j.item_type)==="emission_factor"){const _=f(x.new.item_data,x.new.item_id);i(C=>C.map(T=>T.id===_.id?_:T))}}catch(_){console.error("favorites realtime handler error",_)}}).subscribe();return()=>{re.removeChannel(v)}},[t,n,f]),c.jsx(FT.Provider,{value:{favorites:r,loading:s,addToFavorites:h,removeFromFavorites:m,isFavorite:b,refreshFavorites:p},children:e})},e6=ad("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vr=y.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:oe(e6({variant:t}),e),...n}));Vr.displayName="Alert";const DT=y.forwardRef(({className:e,...t},n)=>c.jsx("h5",{ref:n,className:oe("mb-1 font-medium leading-none tracking-tight",e),...t}));DT.displayName="AlertTitle";const Wr=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:oe("text-sm [&_p]:leading-relaxed",e),...t}));Wr.displayName="AlertDescription";const iw=ad("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?Y$:"button";return c.jsx(o,{className:oe(iw({variant:t,size:n,className:e})),ref:s,...i})});te.displayName="Button";const LT=()=>{const{user:e}=jt(),[t,n]=y.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return y.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const o=JSON.parse(s);n(o)}catch(o){console.error("Error parsing impersonation data:",o),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,o,a,l)=>{if(!e)return!1;try{const{data:u,error:d}=await re.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(d)throw d;const f={isImpersonating:!0,impersonatedUser:{id:s,email:o,workspace_id:a,workspace_name:l},originalUser:e};return n(f),sessionStorage.setItem("impersonation_data",JSON.stringify(f)),u.access_token&&u.refresh_token&&await re.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:o}=await re.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(o)throw o;return s.access_token&&s.refresh_token&&await re.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}};var t6={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const n6=Bs(t6);var r6=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function X_(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(n6[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(r6),s=null;(s=i.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),a=[o,""];o.indexOf("=")>-1&&(a=o.split("=")),t.attrs[a[0]]=a[1],i.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var i6=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,s6=/^\s*$/,o6=Object.create(null);function $T(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce($T,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var a6={parse:function(e,t){t||(t={}),t.components||(t.components=o6);var n,r=[],i=[],s=-1,o=!1;if(e.indexOf("<")!==0){var a=e.indexOf("<");r.push({type:"text",content:a===-1?e:e.substring(0,a)})}return e.replace(i6,function(l,u){if(o){if(l!=="</"+n.name+">")return;o=!1}var d,f=l.charAt(1)!=="/",p=l.startsWith("<!--"),h=u+l.length,m=e.charAt(h);if(p){var g=X_(l);return s<0?(r.push(g),r):((d=i[s]).children.push(g),r)}if(f&&(s++,(n=X_(l)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!m||m==="<"||n.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),s===0&&r.push(n),(d=i[s-1])&&d.children.push(n),i[s]=n),(!f||n.voidElement)&&(s>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(s--,n=s===-1?r:i[s]),!o&&m!=="<"&&m)){d=s===-1?r:i[s].children;var b=e.indexOf("<",h),v=e.slice(h,b===-1?void 0:b);s6.test(v)&&(v=" "),(b>-1&&s+d.length>=0||v!==" ")&&d.push({type:"text",content:v})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+$T("",n)},"")}};const Gf=(e,t,n,r)=>{var s,o,a,l;const i=[n,{code:t,...r||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);yr(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&l.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Z_={},yu=(e,t,n,r)=>{yr(n)&&Z_[n]||(yr(n)&&(Z_[n]=new Date),Gf(e,t,n,r))},MT=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Dy=(e,t,n)=>{e.loadNamespaces(t,MT(e,n))},e1=(e,t,n,r)=>{if(yr(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Dy(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,MT(e,r))},l6=(e,t,n={})=>!t.languages||!t.languages.length?(yu(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),yr=e=>typeof e=="string",_s=e=>typeof e=="object"&&e!==null,c6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,u6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},d6=e=>u6[e],f6=e=>e.replace(c6,d6);let Ly={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:f6};const h6=(e={})=>{Ly={...Ly,...e}},UT=()=>Ly;let zT;const p6=e=>{zT=e},sw=()=>zT,gg=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},vg=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?Oa(t):t},m6=e=>Array.isArray(e)&&e.every(y.isValidElement),Oa=e=>Array.isArray(e)?e:[e],g6=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},HT=(e,t,n,r)=>{if(!e)return"";let i="";const s=Oa(e),o=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((a,l)=>{if(yr(a)){i+=`${a}`;return}if(y.isValidElement(a)){const{props:u,type:d}=a,f=Object.keys(u).length,p=o.indexOf(d)>-1,h=u.children;if(!h&&p&&!f){i+=`<${d}/>`;return}if(!h&&(!p||f)||u.i18nIsDynamicList){i+=`<${l}></${l}>`;return}if(p&&f===1&&yr(h)){i+=`<${d}>${h}</${d}>`;return}const m=HT(h,t,n,r);i+=`<${l}>${m}</${l}>`;return}if(a===null){Gf(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(_s(a)){const{format:u,...d}=a,f=Object.keys(d);if(f.length===1){const p=u?`${f[0]}, ${u}`:f[0];i+=`{{${p}}}`;return}Gf(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:a});return}Gf(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:a})}),i},v6=(e,t,n,r,i,s,o)=>{if(n==="")return[];const a=i.transKeepBasicHtmlNodesFor||[],l=n&&new RegExp(a.map(v=>`<${v}`).join("|")).test(n);if(!e&&!t&&!l&&!o)return[n];const u=t??{},d=v=>{Oa(v).forEach(w=>{yr(w)||(gg(w)?d(vg(w)):_s(w)&&!y.isValidElement(w)&&Object.assign(u,w))})};d(e);const f=a6.parse(`<0>${n}</0>`),p={...u,...s},h=(v,x,w)=>{var _;const S=vg(v),j=g(S,x.children,w);return m6(S)&&j.length===0||(_=v.props)!=null&&_.i18nIsDynamicList?S:j},m=(v,x,w,S,j)=>{v.dummy?(v.children=x,w.push(y.cloneElement(v,{key:S},j?void 0:x))):w.push(...y.Children.map([v],_=>{const C={..._.props};return delete C.i18nIsDynamicList,y.createElement(_.type,{...C,key:S,ref:_.props.ref??_.ref},j?null:x)}))},g=(v,x,w)=>{const S=Oa(v);return Oa(x).reduce((_,C,T)=>{var R,F;const I=((F=(R=C.children)==null?void 0:R[0])==null?void 0:F.content)&&r.services.interpolator.interpolate(C.children[0].content,p,r.language);if(C.type==="tag"){let O=S[parseInt(C.name,10)];!O&&t&&(O=t[C.name]),w.length===1&&!O&&(O=w[0][C.name]),O||(O={});const D=Object.keys(C.attrs).length!==0?g6({props:C.attrs},O):O,A=y.isValidElement(D),M=A&&gg(C,!0)&&!C.voidElement,H=l&&_s(D)&&D.dummy&&!A,B=_s(t)&&Object.hasOwnProperty.call(t,C.name);if(yr(D)){const P=r.services.interpolator.interpolate(D,p,r.language);_.push(P)}else if(gg(D)||M){const P=h(D,C,w);m(D,P,_,T)}else if(H){const P=g(S,C.children,w);m(D,P,_,T)}else if(Number.isNaN(parseFloat(C.name)))if(B){const P=h(D,C,w);m(D,P,_,T,C.voidElement)}else if(i.transSupportBasicHtmlNodes&&a.indexOf(C.name)>-1)if(C.voidElement)_.push(y.createElement(C.name,{key:`${C.name}-${T}`}));else{const P=g(S,C.children,w);_.push(y.createElement(C.name,{key:`${C.name}-${T}`},P))}else if(C.voidElement)_.push(`<${C.name} />`);else{const P=g(S,C.children,w);_.push(`<${C.name}>${P}</${C.name}>`)}else if(_s(D)&&!A){const P=C.children[0]?I:null;P&&_.push(P)}else m(D,I,_,T,C.children.length!==1||!I)}else if(C.type==="text"){const O=i.transWrapTextNodes,D=o?i.unescape(r.services.interpolator.interpolate(C.content,p,r.language)):r.services.interpolator.interpolate(C.content,p,r.language);O?_.push(y.createElement(O,{key:`${C.name}-${T}`},D)):_.push(D)}return _},[])},b=g([{dummy:!0,children:e||[]}],f,Oa(e||[]));return vg(b[0])},BT=(e,t,n)=>{const r=e.key||t,i=y.cloneElement(e,{key:r});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function s(){return y.createElement(y.Fragment,null,i)}return y.createElement(s,{key:r})},y6=(e,t)=>e.map((n,r)=>BT(n,r,t)),x6=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:BT(e[r],r,t)})}),n},b6=(e,t,n,r)=>e?Array.isArray(e)?y6(e,t):_s(e)?x6(e,t):(yu(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,w6=e=>!_s(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function S6({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:o,defaults:a,components:l,ns:u,i18n:d,t:f,shouldUnescape:p,...h}){var A,M,H,B,P,k;const m=d||sw();if(!m)return yu(m,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const g=f||m.t.bind(m)||(E=>E),b={...UT(),...(A=m.options)==null?void 0:A.react};let v=u||g.ns||((M=m.options)==null?void 0:M.defaultNS);v=yr(v)?[v]:v||["translation"];const x=HT(e,b,m,r),w=a||x||b.transEmptyNodeValue||r,{hashTransKey:S}=b,j=r||(S?S(x||w):x||w);(B=(H=m.options)==null?void 0:H.interpolation)!=null&&B.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const _=o||t!==void 0&&!((k=(P=m.options)==null?void 0:P.interpolation)!=null&&k.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},C={...s,context:i||s.context,count:t,...o,..._,defaultValue:w,ns:v},T=j?g(j,C):w,I=b6(l,T,m,r);let R=I||e,F=null;w6(I)&&(F=I,R=e);const O=v6(R,F,T,m,b,C,p),D=n??b.defaultTransParent;return D?y.createElement(D,h,O):O}const _6={type:"3rdParty",init(e){h6(e.options.react),p6(e)}},VT=y.createContext();class j6{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function E6({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:o,defaults:a,components:l,ns:u,i18n:d,t:f,shouldUnescape:p,...h}){var x;const{i18n:m,defaultNS:g}=y.useContext(VT)||{},b=d||m||sw(),v=f||(b==null?void 0:b.t.bind(b));return S6({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s,values:o,defaults:a,components:l,ns:u||(v==null?void 0:v.ns)||g||((x=b==null?void 0:b.options)==null?void 0:x.defaultNS),i18n:b,t:f,shouldUnescape:p,...h})}const k6=(e,t)=>{const n=y.useRef();return y.useEffect(()=>{n.current=e},[e,t]),n.current},WT=(e,t,n,r)=>e.getFixedT(t,n,r),C6=(e,t,n,r)=>y.useCallback(WT(e,t,n,r),[e,t,n,r]),nt=(e,t={})=>{var S,j,_,C;const{i18n:n}=t,{i18n:r,defaultNS:i}=y.useContext(VT)||{},s=n||r||sw();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new j6),!s){yu(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const T=(R,F)=>yr(F)?F:_s(F)&&yr(F.defaultValue)?F.defaultValue:Array.isArray(R)?R[R.length-1]:R,I=[T,{},!1];return I.t=T,I.i18n={},I.ready=!1,I}(S=s.options.react)!=null&&S.wait&&yu(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...UT(),...s.options.react,...t},{useSuspense:a,keyPrefix:l}=o;let u=e||i||((j=s.options)==null?void 0:j.defaultNS);u=yr(u)?[u]:u||["translation"],(C=(_=s.reportNamespaces).addUsedNamespaces)==null||C.call(_,u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every(T=>l6(T,s,o)),f=C6(s,t.lng||null,o.nsMode==="fallback"?u:u[0],l),p=()=>f,h=()=>WT(s,t.lng||null,o.nsMode==="fallback"?u:u[0],l),[m,g]=y.useState(p);let b=u.join();t.lng&&(b=`${t.lng}${b}`);const v=k6(b),x=y.useRef(!0);y.useEffect(()=>{const{bindI18n:T,bindI18nStore:I}=o;x.current=!0,!d&&!a&&(t.lng?e1(s,t.lng,u,()=>{x.current&&g(h)}):Dy(s,u,()=>{x.current&&g(h)})),d&&v&&v!==b&&x.current&&g(h);const R=()=>{x.current&&g(h)};return T&&(s==null||s.on(T,R)),I&&(s==null||s.store.on(I,R)),()=>{x.current=!1,s&&T&&(T==null||T.split(" ").forEach(F=>s.off(F,R))),I&&s&&I.split(" ").forEach(F=>s.store.off(F,R))}},[s,b]),y.useEffect(()=>{x.current&&d&&g(p)},[s,l,d]);const w=[m,s,d];if(w.t=m,w.i18n=s,w.ready=d,d||!d&&!a)return w;throw new Promise(T=>{t.lng?e1(s,t.lng,u,()=>T()):Dy(s,u,()=>T())})},R6=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=LT(),{toast:r}=Vt(),{t:i}=nt("common",{keyPrefix:"impersonation"});if(!e||!t)return null;const s=async()=>{await n()?(r({title:i("toast.success_title"),description:i("toast.success_description")}),window.location.href="/admin"):r({variant:"destructive",title:i("toast.error_title"),description:i("toast.error_description")})};return c.jsxs(Vr,{className:"bg-orange-50 border-orange-200 mb-4",children:[c.jsx(Io,{className:"h-4 w-4 text-orange-600"}),c.jsxs(Wr,{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-orange-800 space-y-1",children:[c.jsx("strong",{children:i("banner.title")}),c.jsx("p",{children:c.jsx(E6,{ns:"common",i18nKey:"impersonation.banner.description",components:{0:c.jsx("strong",{}),1:c.jsx("strong",{})},values:{email:t.email,workspace:t.workspace_name}})})]}),c.jsxs(te,{variant:"outline",size:"sm",onClick:s,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[c.jsx(rP,{className:"h-4 w-4 mr-2"}),i("banner.button")]})]})]})},ye=e=>typeof e=="string",rc=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},t1=e=>e==null?"":""+e,P6=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},T6=/###/g,n1=e=>e&&e.indexOf("###")>-1?e.replace(T6,"."):e,r1=e=>!e||ye(e),Lc=(e,t,n)=>{const r=ye(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(r1(e))return{};const s=n1(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return r1(e)?{}:{obj:e,k:n1(r[i])}},i1=(e,t,n)=>{const{obj:r,k:i}=Lc(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],o=t.slice(0,t.length-1),a=Lc(e,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Lc(e,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},N6=(e,t,n,r)=>{const{obj:i,k:s}=Lc(e,t,Object);i[s]=i[s]||[],i[s].push(n)},Uh=(e,t)=>{const{obj:n,k:r}=Lc(e,t);if(n)return n[r]},A6=(e,t,n)=>{const r=Uh(e,n);return r!==void 0?r:Uh(t,n)},qT=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?ye(e[r])||e[r]instanceof String||ye(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):qT(e[r],t[r],n):e[r]=t[r]);return e},ua=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var O6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const I6=e=>ye(e)?e.replace(/[&<>"'\/]/g,t=>O6[t]):e;class F6{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const D6=[" ",",","?","!",";"],L6=new F6(20),$6=(e,t,n)=>{t=t||"",n=n||"";const r=D6.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=L6.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(e);if(!s){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(s=!0)}return s},$y=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},zh=e=>e&&e.replace("_","-"),M6={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Hh{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||M6,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(ye(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Hh(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Hh(this.logger,t)}}var ui=new Hh;let Qp=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[t,...r])})}};class s1 extends Qp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):ye(r)&&s?a.push(...r.split(s)):a.push(r)));const l=Uh(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!ye(r)?l:$y(this.data&&this.data[t]&&this.data[t][n],r,s)}addResource(t,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),i1(this.data,a,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(ye(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Uh(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?qT(l,r,s):l={...l,...r},i1(this.data,a,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var KT={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{this.processors[s]&&(t=this.processors[s].process(t,n,r,i))}),t}};const o1={};class Bh extends Qp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),P6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ui.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!$6(t,r,i);if(o&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:ye(s)?[s]:s};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:ye(s)?[s]:s}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(t[t.length-1],n),l=a[a.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const S=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${S}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const f=this.resolve(t,n);let p=f&&f.res;const h=f&&f.usedKey||o,m=f&&f.exactUsedKey||o,g=Object.prototype.toString.apply(p),b=["[object Number]","[object Function]","[object RegExp]"],v=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!ye(p)&&typeof p!="boolean"&&typeof p!="number";if(x&&p&&w&&b.indexOf(g)<0&&!(ye(v)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,p,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(f.res=S,f.usedParams=this.getUsedParamsDetails(n),f):S}if(s){const S=Array.isArray(p),j=S?[]:{},_=S?m:h;for(const C in p)if(Object.prototype.hasOwnProperty.call(p,C)){const T=`${_}${s}${C}`;j[C]=this.translate(T,{...n,joinArrays:!1,ns:a}),j[C]===T&&(j[C]=p[C])}p=j}}else if(x&&ye(v)&&Array.isArray(p))p=p.join(v),p&&(p=this.extendTranslation(p,t,n,r));else{let S=!1,j=!1;const _=n.count!==void 0&&!ye(n.count),C=Bh.hasDefaultValue(n),T=_?this.pluralResolver.getSuffix(u,n.count,n):"",I=n.ordinal&&_?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",R=_&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),F=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${T}`]||n[`defaultValue${I}`]||n.defaultValue;!this.isValidLookup(p)&&C&&(S=!0,p=F),this.isValidLookup(p)||(j=!0,p=o);const D=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:p,A=C&&F!==p&&this.options.updateMissing;if(j||S||A){if(this.logger.log(A?"updateKey":"missingKey",u,l,o,A?F:p),s){const P=this.resolve(o,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&H&&H[0])for(let P=0;P<H.length;P++)M.push(H[P]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(n.lng||this.language):M.push(n.lng||this.language);const B=(P,k,E)=>{const $=C&&E!==p?E:D;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,k,$,A,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,k,$,A,n),this.emit("missingKey",P,l,k,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?M.forEach(P=>{const k=this.pluralResolver.getSuffixes(P,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&k.indexOf(`${this.options.pluralSeparator}zero`)<0&&k.push(`${this.options.pluralSeparator}zero`),k.forEach(E=>{B([P],o+E,n[`defaultValue${E}`]||F)})}):B(M,o,F))}p=this.extendTranslation(p,t,n,f,r),j&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(j||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,S?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(f.res=p,f.usedParams=this.getUsedParamsDetails(n),f):p}extendTranslation(t,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=ye(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&!ye(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||i.usedLng,r),u){const p=t.match(this.interpolator.nestingRegexp),h=p&&p.length;d<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,h=new Array(p),m=0;m<p;m++)h[m]=arguments[m];return s&&s[0]===h[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):o.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=ye(a)?[a]:a;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=KT.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return ye(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;i=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!ye(n.count),h=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(ye(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(a=b,!o1[`${g[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(o1[`${g[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(v=>{if(this.isValidLookup(r))return;o=v;const x=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,d,v,b,n);else{let S;p&&(S=this.pluralResolver.getSuffix(v,n.count,n));const j=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(x.push(d+S),n.ordinal&&S.indexOf(_)===0&&x.push(d+S.replace(_,this.options.pluralSeparator)),h&&x.push(d+j)),m){const C=`${d}${this.options.contextSeparator}${n.context}`;x.push(C),p&&(x.push(C+S),n.ordinal&&S.indexOf(_)===0&&x.push(C+S.replace(_,this.options.pluralSeparator)),h&&x.push(C+j))}}let w;for(;w=x.pop();)this.isValidLookup(r)||(s=w,r=this.getResource(v,b,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!ye(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const yg=e=>e.charAt(0).toUpperCase()+e.slice(1);class a1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ui.create("languageUtils")}getScriptPartFromCode(t){if(t=zh(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=zh(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ye(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=yg(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=yg(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=yg(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ye(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ye(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):ye(t)&&s(this.formatLanguageCode(t)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let U6=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],z6={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const H6=["v1","v2","v3"],B6=["v4"],l1={zero:0,one:1,two:2,few:3,many:4,other:5},V6=()=>{const e={};return U6.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:z6[t.fc]}})}),e};class W6{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=ui.create("pluralResolver"),(!this.options.compatibilityJSON||B6.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=V6(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=zh(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>l1[i]-l1[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!H6.includes(this.options.compatibilityJSON)}}const c1=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=A6(e,t,n);return!s&&i&&ye(n)&&(s=$y(e,n,r),s===void 0&&(s=$y(t,n,r))),s},xg=e=>e.replace(/\$/g,"$$$$");class q6{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ui.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:h,nestingSuffix:m,nestingSuffixEscaped:g,nestingOptionsSeparator:b,maxReplaces:v,alwaysFormat:x}=t.interpolation;this.escape=n!==void 0?n:I6,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?ua(s):o||"{{",this.suffix=a?ua(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?ua(p):h||ua("$t("),this.nestingSuffix=m?ua(m):g||ua(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=v||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const v=c1(n,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...i,...n,interpolationkey:h}):v}const m=h.split(this.formatSeparator),g=m.shift().trim(),b=m.join(this.formatSeparator).trim();return this.format(c1(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...n,interpolationkey:g})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>xg(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?xg(this.escape(h)):xg(h)}].forEach(h=>{for(a=0;s=h.regex.exec(t);){const m=s[1].trim();if(o=u(m),o===void 0)if(typeof d=="function"){const b=d(t,s,i);o=ye(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${t}`),o="";else!ye(o)&&!this.useRawValueToEscape&&(o=t1(o));const g=h.safeValue(o);if(t=t.replace(s[0],g),f?(h.regex.lastIndex+=o.length,h.regex.lastIndex-=s[0].length):h.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,o);const h=p.match(/'/g),m=p.match(/"/g);(h&&h.length%2===0&&!m||m.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&!ye(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),l=d,u=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===t&&!ye(s))return s;ye(s)||(s=t1(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),u&&(s=l.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const K6=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},da=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=t[o];return a||(a=e(zh(r),i),t[o]=a),a(n)}};class Q6{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ui.create("formatter"),this.options=t,this.formats={number:da((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:da((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:da((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:da((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:da((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=da(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:u,formatOptions:d}=K6(l);if(this.formats[u]){let f=a;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[u](a,h,{...d,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const G6=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Y6 extends Qp{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ui.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const s={},o={},a={},l={};return t.forEach(u=>{let d=!0;n.forEach(f=>{const p=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{N6(l.loaded,[s],o),G6(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const d=l.loaded[u];d.length&&d.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,o)},s);return}o(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ye(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ye(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,n,r,i,l):d=u(t,n,r,i),d&&typeof d.then=="function"?d.then(f=>a(null,f)).catch(a):a(null,d)}catch(d){a(d)}else u(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const u1=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ye(e[1])&&(t.defaultValue=e[1]),ye(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),d1=e=>(ye(e.ns)&&(e.ns=[e.ns]),ye(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ye(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),pf=()=>{},J6=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class xu extends Qp{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=d1(t),this.services={},this.logger=ui,this.modules={external:[]},J6(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(ye(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=u1();this.options={...i,...this.options,...d1(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ui.init(s(this.modules.logger),this.options):ui.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Q6);const f=new a1(this.options);this.store=new s1(this.options.resources,this.options);const p=this.services;p.logger=ui,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new W6(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=s(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new q6(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new Y6(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(h){for(var m=arguments.length,g=new Array(m>1?m-1:0),b=1;b<m;b++)g[b-1]=arguments[b];t.emit(h,...g)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Bh(this.services,this.options),this.translator.on("*",function(h){for(var m=arguments.length,g=new Array(m>1?m-1:0),b=1;b<m;b++)g[b-1]=arguments[b];t.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=pf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const l=rc(),u=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(f,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pf;const i=ye(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=rc();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=pf),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&KT.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=rc();this.emit("languageChanging",t);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=ye(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{o(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([o,a].concat(d))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const p=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(o)?h=o.map(m=>`${l.keyPrefix}${p}${m}`):h=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,i.t(h,l)};return ye(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}loadNamespaces(t,n){const r=rc();return this.options.ns?(ye(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=rc();ye(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new a1(u1());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new xu(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pf;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new xu(i);return(t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new s1(this.store.data,i),s.services.resourceStore=s.store),s.translator=new Bh(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];s.emit(a,...u)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zt=xu.createInstance();Zt.createInstance=xu.createInstance;Zt.createInstance;Zt.dir;Zt.init;Zt.loadResources;Zt.reloadResources;Zt.use;Zt.changeLanguage;Zt.getFixedT;const f1=Zt.t;Zt.exists;Zt.setDefaultNamespace;Zt.hasLoadedNamespace;Zt.loadNamespaces;Zt.loadLanguages;const Ae=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ae.displayName="Card";const He=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));He.displayName="CardHeader";const Be=y.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Be.displayName="CardTitle";const Ln=y.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Ln.displayName="CardDescription";const Oe=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));Oe.displayName="CardContent";const X6=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));X6.displayName="CardFooter";var Z6=y.createContext(void 0);function Gp(e){const t=y.useContext(Z6);return e||t||"ltr"}var bg="rovingFocusGroup.onEntryFocus",e8={bubbles:!1,cancelable:!0},md="RovingFocusGroup",[My,QT,t8]=Ep(md),[n8,Yp]=ar(md,[t8]),[r8,i8]=n8(md),GT=y.forwardRef((e,t)=>c.jsx(My.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(My.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(s8,{...e,ref:t})})}));GT.displayName=md;var s8=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=y.useRef(null),h=Ie(t,p),m=Gp(s),[g,b]=Ui({prop:o,defaultProp:a??null,onChange:l,caller:md}),[v,x]=y.useState(!1),w=Bn(u),S=QT(n),j=y.useRef(!1),[_,C]=y.useState(0);return y.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(bg,w),()=>T.removeEventListener(bg,w)},[w]),c.jsx(r8,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:y.useCallback(T=>b(T),[b]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>C(T=>T-1),[]),children:c.jsx(pe.div,{tabIndex:v||_===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{j.current=!0}),onFocus:ne(e.onFocus,T=>{const I=!j.current;if(T.target===T.currentTarget&&I&&!v){const R=new CustomEvent(bg,e8);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const F=S().filter(H=>H.focusable),O=F.find(H=>H.active),D=F.find(H=>H.id===g),M=[O,D,...F].filter(Boolean).map(H=>H.ref.current);XT(M,d)}}j.current=!1}),onBlur:ne(e.onBlur,()=>x(!1))})})}),YT="RovingFocusGroupItem",JT=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=e,l=$r(),u=s||l,d=i8(YT,n),f=d.currentTabStopId===u,p=QT(n),{onFocusableItemAdd:h,onFocusableItemRemove:m,currentTabStopId:g}=d;return y.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),c.jsx(My.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:c.jsx(pe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ne(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=l8(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=p().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const S=w.indexOf(b.currentTarget);w=d.loop?c8(w,S+1):w.slice(S+1)}setTimeout(()=>XT(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});JT.displayName=YT;var o8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function l8(e,t,n){const r=a8(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return o8[r]}function XT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function c8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ZT=GT,eN=JT,Jp="Tabs",[u8,Xae]=ar(Jp,[Yp]),tN=Yp(),[d8,ow]=u8(Jp),nN=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=Gp(a),[f,p]=Ui({prop:r,onChange:i,defaultProp:s??"",caller:Jp});return c.jsx(d8,{scope:n,baseId:$r(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:c.jsx(pe.div,{dir:d,"data-orientation":o,...u,ref:t})})});nN.displayName=Jp;var rN="TabsList",iN=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=ow(rN,n),o=tN(n);return c.jsx(ZT,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:c.jsx(pe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});iN.displayName=rN;var sN="TabsTrigger",oN=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=ow(sN,n),a=tN(n),l=cN(o.baseId,r),u=uN(o.baseId,r),d=r===o.value;return c.jsx(eN,{asChild:!0,...a,focusable:!i,active:d,children:c.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:ne(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});oN.displayName=sN;var aN="TabsContent",lN=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,a=ow(aN,n),l=cN(a.baseId,r),u=uN(a.baseId,r),d=r===a.value,f=y.useRef(d);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Sr,{present:i||d,children:({present:p})=>c.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});lN.displayName=aN;function cN(e,t){return`${e}-trigger-${t}`}function uN(e,t){return`${e}-content-${t}`}var f8=nN,dN=iN,fN=oN,hN=lN;const Uy=f8,Vh=y.forwardRef(({className:e,...t},n)=>c.jsx(dN,{ref:n,className:oe("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));Vh.displayName=dN.displayName;const bu=y.forwardRef(({className:e,...t},n)=>c.jsx(fN,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));bu.displayName=fN.displayName;const Wa=y.forwardRef(({className:e,...t},n)=>c.jsx(hN,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wa.displayName=hN.displayName;const wg=({src:e,alt:t,className:n})=>c.jsx("span",{role:"img","aria-label":t,className:oe("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),h8={fr:"Franais",en:"Anglais",switch:"Changer de langue",toggle:{fr:"FR",en:"EN"}},p8={back_home:"Retour  l'accueil",log_in:"Se connecter",sign_up:"S'inscrire"},m8={banner:{title:"Mode Impersonation :",description:"Vous tes connect en tant que <0>{{email}}</0> dans le workspace <1>{{workspace}}</1>",button:"Retour admin"},toast:{success_title:"Impersonation termine",success_description:"Vous tes de nouveau connect avec votre compte admin",error_title:"Erreur",error_description:"Impossible de terminer l'impersonation"}},g8={success:{title:"Succs",default:"Action ralise avec succs"},error:{title:"Erreur",default:"Une erreur inattendue est survenue"},import:{launch_title:"Import lanc",launch_description:"Job : {{job}}",error_title:"Erreur import",error_description:"{{message}}",missing_file:"Fichier manquant",missing_file_description:"Veuillez uploader un fichier.",analysis_required:"Analyse requise",analysis_required_description:"Cliquez d'abord sur Analyser puis Importer.",analysis_success_title:"Analyse termine",analysis_success_description:"{{processed}} lignes valides ; {{sources}} sources dtectes"}},v8={language:h8,actions:p8,impersonation:m8,toasts:g8},y8={fr:"French",en:"English",switch:"Change language",toggle:{fr:"FR",en:"EN"}},x8={back_home:"Back to homepage",log_in:"Log in",sign_up:"Sign up"},b8={banner:{title:"Impersonation mode:",description:"You are signed in as <0>{{email}}</0> in workspace <1>{{workspace}}</1>",button:"Back to admin"},toast:{success_title:"Impersonation ended",success_description:"You are now signed back in with your admin account",error_title:"Error",error_description:"Unable to end impersonation"}},w8={success:{title:"Success",default:"Action completed successfully"},error:{title:"Error",default:"An unexpected error occurred"},import:{launch_title:"Import started",launch_description:"Job: {{job}}",error_title:"Import error",error_description:"{{message}}",missing_file:"Missing file",missing_file_description:"Please upload a file.",analysis_required:"Analysis required",analysis_required_description:"Click Analyze first, then Import.",analysis_success_title:"Analysis completed",analysis_success_description:"{{processed}} valid rows; {{sources}} sources detected"}},S8={language:y8,actions:x8,impersonation:b8,toasts:w8},_8="Recherche",j8="Favoris",E8="Fonctionnalit disponible uniquement avec le plan Pro",k8="Rserv aux workspaces Pro",C8="Paramtres",R8="Se dconnecter",P8={search:_8,favorites:j8,favorites_locked:E8,import:"Import",import_locked:k8,settings:C8,logout:R8},T8="Search",N8="Favorites",A8="Feature available with the Pro plan only",O8="Reserved for Pro workspaces",I8="Settings",F8="Log out",D8={search:T8,favorites:N8,favorites_locked:A8,import:"Import",import_locked:O8,settings:I8,logout:F8},L8={hero:{lines:["Le moteur de recherche","de FE le plus puissant","du march"],subtitle:"Accdez  plus de 255 000 facteurs d'missions franais et internationaux agrgs et enrichis par nos experts.",primaryCta:"Tester le moteur de recherche",secondaryCta:"Se connecter",imageAlt:"Interface de recherche de facteurs d'mission"},navbar:{partners:"Retrouvez les plus grandes bases franaises et internationales"},demo:{title:"Dcouvrez la puissance du moteur de recherche",subtitle:"Explorez l'interface via une dmonstration interactive."},tabsSection:{title:"Un moteur de recherche puissant et personnalisable",items:[{id:"data",label:"Donnes",title:"Le guichet unique de vos donnes carbone",imageAlt:"Interface base de donnes",highlights:[{title:"Une donne structure",description:"Une structuration unique et homogne de plus de 20 bases de donnes de rfrences internationales."},{title:"Une donne  jour",description:"Une mise  jour en continu des bases pour une garantie de qualit des facteurs d'mission."},{title:"+ 250K FE  disposition",description:"Plus de 250k FE gnriques et spcifiques disponibles dans une structure commune."}]},{id:"search",label:"Recherche",title:"Un moteur fluide et simple d'utilisation",imageAlt:"Interface de recherche",highlights:[{title:"Recherche intelligente",description:"Recherchez par mots-cls, codes, catgories ou filtres avancs pour trouver rapidement vos FE."},{title:"Interface intuitive",description:"Navigation simple et rapide avec suggestions automatiques et tri personnalisable."},{title:"Rsultats prcis",description:"Algorithme optimis pour proposer les facteurs d'mission les plus pertinents selon vos critres."}]},{id:"custom",label:"Personnalisation",title:"Personnalisez le moteur selon vos besoins",imageAlt:"Interface de personnalisation",highlights:[{title:"Favoris et collections",description:"Sauvegardez vos FE prfrs et crez des collections thmatiques pour un accs rapide."},{title:"Filtres personnaliss",description:"Configurez des filtres selon vos secteurs d'activit et vos besoins mtier spcifiques."},{title:"Donnes sur-mesure",description:"Intgrez vos propres FE spcifiques et construisez votre base personnalise."}]}]},datasetsSection:{title:"Toutes les bases de donnes sur une seule plateforme",tabs:[{id:"free",label:"Datasets gratuits"},{id:"paid",label:"Datasets payants"}]},expertSection:{title:"Une base de donnes structure et enrichie par nos experts",imageAlt:"Expert en analyse de donnes",blocks:[{title:"Des bases de donnes nettoyes et structures",description:"Nos experts harmonisent l'ensemble des bases intgres afin de disposer d'un format de donnes unique."},{title:"Enrichissement des bases de donnes",description:"Vrification des facteurs par poste d'mission, correction de l'inflation, traduction des mtadonnes..."},{title:"Versionnage continu",description:"Profitez d'un maintien en temps rel au rythme des mises  jour des diffrentes sources."}]},pricing:{title:"Un prix qui s'adapte  vos besoins",plans:{freemium:{name:"Freemium",startingFrom:" partir de",price:"0",priceUnit:"/an",description:"Profitez des datasets gratuits et du moteur de recherche",features:["Accs au moteur de recherche","Datasets gratuits (165k FE)","Mises  jour hebdomadaires"],cta:"En savoir plus"},pro:{name:"Pro",startingFrom:" partir de",price:"3000",priceUnit:"/an",description:"Accdez aux bases gratuites et payantes et aux exports de donnes",features:["Accs au moteur de recherche","Datasets gratuits (165k FE)","Datasets payants (90k FE)","Mises  jour hebdomadaires","Gestion des favoris","Export des donnes","Assistance de nos experts"],cta:"En savoir plus"}}},finalCta:{title:"Prt  explorer nos facteurs d'mission ?",subtitle:"Accdez ds maintenant au moteur de recherche le plus puissant du march",primary:"Tester le moteur de recherche",secondary:"Se connecter"},footer:{tagline:"Le moteur de recherche de facteurs d'mission le plus puissant du march.",legal:{privacy:"Politique de confidentialit",terms:"Conditions d'utilisation",cookies:"Cookies"},copyright:" 2025 Ecodex. Tous droits rservs."}},$8={back:"Retour  l'accueil",title:"Se connecter",subtitle:"Connectez-vous  votre compte Ecodex",placeholders:{email:"votre@email.com",password:"Votre mot de passe"},trial:{title:"Votre plan freemium est termin.",description:"Merci de contacter notre quipe commerciale afin de souscrire  un plan payant."},email:"Email",password:"Mot de passe",submit:"Se connecter",loading:"Connexion...",or:"ou",google:"Se connecter avec Google",noAccount:"Pas encore de compte ?",signUp:"S'inscrire",errors:{login:"Erreur lors de la connexion",google:"Erreur lors de la connexion avec Google",unexpected:"Une erreur inattendue s'est produite"},toasts:{error:{title:"Erreur lors de la connexion",googleTitle:"Erreur Google",unexpected:"Une erreur inattendue s'est produite"}}},M8={back:"Retour  l'accueil",title:"Crer un compte",subtitle:"Rejoignez la plateforme Ecodex",placeholders:{firstName:"Votre prnom",lastName:"Votre nom",company:"Nom de votre entreprise",email:"votre@email.com",password:"Au moins 6 caractres",confirmPassword:"Confirmez votre mot de passe"},errors:{title:"Erreur",passwordMismatch:"Les mots de passe ne correspondent pas",passwordLength:"Le mot de passe doit contenir au moins 6 caractres",signup:"Erreur lors de l'inscription",signupGoogle:"Erreur lors de l'inscription avec Google",unexpected:"Une erreur inattendue s'est produite"},success:{title:"Inscription russie",description:"Un email de confirmation a t envoy. Vrifiez votre bote mail."},toasts:{success:{title:"Inscription russie",description:"Un email de confirmation a t envoy. Vrifiez votre bote mail."},error:{title:"Erreur lors de l'inscription",googleTitle:"Erreur lors de l'inscription Google",unexpected:"Une erreur inattendue s'est produite"}},firstName:"Prnom",lastName:"Nom",email:"Email professionnel",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",company:"Entreprise",position:"Poste",submit:"Crer mon compte",loading:"Cration...",or:"ou",alreadyAccount:"Dj un compte ?",login:"Se connecter",google:"S'inscrire avec Google"},U8={loading:{title:"Chargement de vos favoris...",subtitle:"Rcupration des donnes depuis la base..."},header:{title:"Mes Favoris",subtitle:"Recherchez et grez vos facteurs d'mission favoris avec les filtres avancs"},stats:{favorites:"favoris au total",sources:"sources",locations:"localisations"},empty:{title:"Aucun favori pour le moment",description:"Ajoutez des facteurs d'missions  vos favoris depuis la page de recherche",cta:"Commencer une recherche"},actions:{remove:"Retirer des favoris",removeCount:"Retirer des favoris ({{count}})",export:"Exporter la slection",exportCount:"Exporter la slection ({{count}})",copy:"Copier la slection",copyCount:"Copier la slection ({{count}})"},toasts:{removed:{title:"Favori supprim",description:"L'lment a t retir de vos favoris"},removeError:{title:"Erreur",description:"Erreur lors de la suppression du favori"},bulkRemoved:{title:"Favoris mis  jour",description:"{{count}} lment retir des favoris.",description_plural:"{{count}} lments retirs des favoris."},bulkError:{title:"Erreur",description:"Erreur lors de la suppression des favoris slectionns"}}},z8={toasts:{emailRequired:{title:"Email requis",description:"Veuillez saisir votre adresse email"},emailSent:{title:"Email envoy !",description:"Vrifiez votre bote mail pour rinitialiser votre mot de passe"},error:{title:"Erreur",description:"Impossible d'envoyer l'email de rinitialisation"}},sent:{title:"Email envoy",description:"Un email de rinitialisation a t envoy  <strong>{{email}}</strong>. Cliquez sur le lien dans l'email pour crer un nouveau mot de passe.",back:"Retour  la connexion",resend:"Renvoyer l'email"},form:{title:"Mot de passe oubli ?",subtitle:"Saisissez votre email pour recevoir un lien de rinitialisation",email:"Email",placeholder:"votre@email.com",sending:"Envoi...",submit:"Envoyer le lien",back:"Retour  la connexion"}},H8={pageTitle:"Paramtres",pageSubtitle:"Personnalisez votre exprience Ecodex",account:{title:"Informations du compte",description:"Informations gnrales sur votre compte",email:"Email",fullName:"Nom complet",missing:"Non renseign",role:"Rle",roleMissing:"Non assign",workspacePlan:"Plan du workspace",planDefault:"Freemium"},workspace:{title:"Workspace",description:"Informations sur votre espace de travail",name:"Nom du workspace",plan:"Plan",none:"Aucun workspace",freemium:"Freemium"},notificationsCard:{title:"Notifications",description:"Grez vos prfrences de notification",items:{email:{label:"Notifications par email",description:"Recevoir les notifications importantes par email"},favoriteUpdates:{label:"Mises  jour des favoris",description:"tre notifi quand les facteurs en favoris sont mis  jour"},newFeatures:{label:"Nouvelles fonctionnalits",description:"tre inform des nouvelles fonctionnalits"},weeklyReport:{label:"Rapport hebdomadaire",description:"Recevoir un rsum de votre activit chaque semaine"}}},preferencesCard:{title:"Prfrences",description:"Personnalisez l'interface et le comportement de l'application",language:"Langue",timezone:"Fuseau horaire",defaultUnits:"Units par dfaut",resultsPerPage:"Rsultats par page",languageOptions:{fr:"Franais",en:"Anglais"},timezoneOptions:{paris:"Paris (UTC+1)",london:"Londres (UTC+0)",newYork:"New York (UTC-5)"},unitsOptions:{metric:"Mtrique",imperial:"Imprial"},resultsOptions:{10:"10",20:"20",50:"50",100:"100"}},securityCard:{title:"Scurit",twoFactor:{label:"Authentification  deux facteurs",description:"Scurisez votre compte avec 2FA",action:"Configurer"},sessions:{label:"Sessions actives",description:"Grer les appareils connects",action:"Voir les sessions"}},billingCard:{title:"Facturation",currentPlan:"Plan actuel",plans:{pro:"Plan Pro - Illimit",freemium:"Plan Freemium - 10 recherches/mois"},upgrade:"Passer sur un plan payant",upgradeSubject:"demande de plan payant",history:"Historique de facturation",download:"Tlcharger vos factures",downloadAction:"Tlcharger"},dataCard:{title:"Donnes et confidentialit",export:"Exporter mes donnes",deleteSearches:"Supprimer mes recherches",deleteAccount:"Supprimer mon compte"},team:{title:"quipe du workspace",description:"Grez les utilisateurs de votre workspace",empty:"Aucun utilisateur dans ce workspace pour le moment.",invite:{button:"Inviter un utilisateur",dialogTitle:"Inviter un utilisateur",dialogDescription:"Invitez un nouvel utilisateur  rejoindre ce workspace",emailPlaceholder:"utilisateur@email.com",roleLabel:"Rle",cancel:"Annuler",submit:"Envoyer l'invitation",sending:"Envoi..."},table:{user:"Utilisateur",role:"Rle",addedAt:"Ajout le",fallbackName:"Utilisateur",downgrade:"Rtrograder",promote:"Promouvoir admin",remove:"Retirer du workspace"},roles:{supra_admin:"Supra administrateur",admin:"Administrateur",manager:"Gestionnaire",user:"Utilisateur",gestionnaire:"Gestionnaire"},toasts:{loadError:{title:"Erreur",description:"Impossible de charger les utilisateurs du workspace"},inviteSuccess:{title:"Invitation envoye",description:"Une invitation a t envoye  {{email}}"},inviteExisting:{title:"Utilisateur ajout",description:"{{email}} faisait dj partie de Supabase. Nous l'avons associ au workspace."},inviteError:{title:"Erreur",description:"Impossible d'envoyer l'invitation"},updateRoleSuccess:{title:"Rle mis  jour",description:"Le rle de l'utilisateur a t modifi"},updateRoleError:{title:"Erreur",description:"Impossible de modifier le rle"},removeUserSuccess:{title:"Utilisateur retir",description:"L'utilisateur a t retir du workspace"},removeUserError:{title:"Erreur",description:"Impossible de retirer l'utilisateur"}}},admin:{title:"Administration",description:"Outils d'administration (Supra Admin uniquement)",openPanel:"Ouvrir le panneau d'administration"},actions:{title:"Actions du compte",description:"Grez votre session et vos donnes",logout:{button:"Se dconnecter",confirmTitle:"Confirmer la dconnexion",confirmDescription:"tes-vous sr de vouloir vous dconnecter ? Vous devrez vous reconnecter pour accder  votre compte.",cancel:"Annuler",confirm:"Se dconnecter"}},adminNotice:{title:"Statut Supra Administrateur",description:"Vous avez accs  toutes les fonctionnalits d'administration. Utilisez ces privilges de manire responsable."},roles:{supra_admin:"Supra administrateur",admin:"Administrateur",manager:"Gestionnaire",user:"Utilisateur"},toasts:{notificationUpdated:{title:"Paramtre mis  jour",description:"Vos prfrences de notification ont t sauvegardes"},preferenceUpdated:{title:"Paramtre mis  jour",description:"Vos prfrences ont t sauvegardes"},signOutSuccess:{title:"Dconnexion russie",description:"Vous avez t dconnect de votre compte."},signOutError:{title:"Erreur de dconnexion",description:"Une erreur est survenue lors de la dconnexion."}}},B8={loadingTitle:"Authentification en cours...",successTitle:"Authentification russie",redirectMessage:"Redirection en cours...",errorTitle:"Erreur d'authentification",errors:{auth:"Erreur d'authentification: {{message}}",noSession:"Aucune session utilisateur trouve",generic:"Une erreur est survenue lors de l'authentification"}},V8={title:"Page introuvable",description:"La page que vous recherchez n'existe pas ou a t dplace.",backHome:"Retour  l'accueil"},W8={index:L8,login:$8,signup:M8,favorites:U8,passwordReset:z8,settings:H8,authCallback:B8,import:{pageTitle:"Import de donnes",pageSubtitle:"Importez vos propres facteurs d'mission",cards:{noPermission:"Vous n'avez pas les permissions ncessaires pour importer des donnes.",upload:{title:"Importer votre dataset",description:"Slectionnez un fichier CSV format selon notre template. Compression automatique incluse.",datasetName:"Nom du dataset",datasetPlaceholder:"Mon dataset personnalis",fileLabel:"Fichier CSV/GZ",clickToSelect:"Cliquez pour slectionner un fichier",acceptedFormats:"Formats accepts : CSV, CSV.GZ (compress automatiquement)",changeFile:"Changer de fichier",selectFile:"Slectionner un fichier",processingMessage:"Merci, votre jeu de donnes sera disponible dans quelques minutes.",addToFavorites:"Ajouter automatiquement tous les lments de ce dataset  mes favoris",uploadButton:"Importer le dataset",uploading:"Import en cours...",processing:"Traitement..."},template:{title:"Tlcharger le template",description:"Utilisez notre template CSV pour formater correctement vos donnes",downloadButton:"Tlcharger",requiredColumns:"Colonnes requises",columnsList:`Nom, Description, FE, "Unit donne d'activit", Source, Secteur, Sous-secteur, Localisation, Date, Incertitude, Primtre`}},status:{success:"Import russi",error:"Erreur d'import",indexing:"Indexation en cours...",indexingComplete:"Indexation termine"},toasts:{noFile:"Veuillez slectionner un fichier",noDataset:"Veuillez saisir un nom de dataset",uploadSuccess:"Import termin avec succs",uploadError:"Erreur lors de l'import",indexingSuccess:"Donnes indexes avec succs",indexingError:"Erreur lors de l'indexation",invalidFormat:{title:"Format invalide",description:"Veuillez slectionner un fichier CSV ou CSV.GZ valide"},missingInfo:{title:"Informations manquantes",description:"Veuillez slectionner un fichier et donner un nom  votre dataset"},general:{statusFetched:{title:"Statut rcupr",description:"Queue : {{queue}}  Processing : {{processing}}"},statusError:{title:"Erreur statut",description:"{{message}}"},missingFile:{title:"Aucun fichier",description:"Slectionnez un fichier CSV."},uploadDone:{title:"Upload termin",description:"{{details}}",alreadyCompressed:"dj compress",compression:"de compression"},uploadErrorDetailed:{title:"Erreur upload",description:"{{message}}"},chunkedRemoved:{title:"Pipeline chunk retir",description:"Utilisez Dataiku  staging_emission_factors  SELECT public.run_import_from_staging();"},analysisSuccess:{title:"Analyse termine",description:"{{details}}",rows:{one:"ligne valide",other:"lignes valides"},sources:{one:"source dtecte",other:"sources dtectes"}},importLaunched:{title:"Import lanc",description:"Job : {{job}}",queue:"en file"},importError:{title:"Erreur import",description:"{{message}}"},analysisRequired:{title:"Analyse requise",description:"Cliquez d'abord sur Analyser puis Importer."}}},info:{sizeLimit:{label:"Limite de taille",value:"10 MB maximum par fichier (avant compression)"},format:{label:"Format",value:"CSV avec sparateur virgule (,)"},encoding:{label:"Encodage",value:"UTF-8 recommand"},compression:{label:"Compression",value:"Automatique pour optimiser les transferts"},validation:{label:"Validation",value:"Parser robuste avec validation des sources"},workspace:{label:"Workspace",value:"Les donnes seront importes dans votre workspace actuel"}}},notFound:V8},q8={hero:{lines:["The most powerful","emission factors search engine","on the market"],subtitle:"Access over 255,000 French and international emission factors curated and enriched by our experts.",primaryCta:"Try the search engine",secondaryCta:"Log in",imageAlt:"Emission factors search interface"},navbar:{partners:"Access leading French and international databases"},demo:{title:"Discover the power of our search engine",subtitle:"Explore the interface through an interactive demonstration."},tabsSection:{title:"A powerful and customizable search engine",items:[{id:"data",label:"Data",title:"Your single gateway to carbon data",imageAlt:"Database interface",highlights:[{title:"Structured data",description:"A unique and homogeneous structuring of more than 20 leading international databases."},{title:"Always up to date",description:"Continuous updates to guarantee high-quality emission factors."},{title:"+250K EF available",description:"Over 250k generic and specific emission factors available within a unified structure."}]},{id:"search",label:"Search",title:"Smooth and easy to use",imageAlt:"Search interface",highlights:[{title:"Intelligent search",description:"Search by keywords, codes, categories, or advanced filters to quickly find the right EF."},{title:"Intuitive interface",description:"Simple navigation with automatic suggestions and customizable sorting."},{title:"Accurate results",description:"An optimized algorithm delivering the most relevant emission factors for your criteria."}]},{id:"custom",label:"Customization",title:"Tailor the engine to your needs",imageAlt:"Customization interface",highlights:[{title:"Favorites and collections",description:"Save your favorite EF and create themed collections for quick access."},{title:"Custom filters",description:"Set up filters based on your industry and specific business requirements."},{title:"Bespoke data",description:"Integrate your own specific EF and build your personalized database."}]}]},datasetsSection:{title:"All databases on a single platform",tabs:[{id:"free",label:"Free datasets"},{id:"paid",label:"Paid datasets"}]},expertSection:{title:"A structured and enriched database built by our experts",imageAlt:"Data analysis expert",blocks:[{title:"Curated and structured databases",description:"Our experts harmonize every integrated dataset to deliver a unified data format."},{title:"Enriched metadata",description:"Factor verification by emission scope, inflation adjustments, metadata translation, and more."},{title:"Continuous versioning",description:"Enjoy real-time maintenance aligned with updates from source databases."}]},pricing:{title:"Pricing that scales with your needs",plans:{freemium:{name:"Freemium",startingFrom:"Starting from",price:"0",priceUnit:"/year",description:"Access the free datasets and search engine",features:["Access to the search engine","Free datasets (165k EF)","Weekly updates"],cta:"Learn more"},pro:{name:"Pro",startingFrom:"Starting from",price:"3000",priceUnit:"/year",description:"Unlock both free and paid datasets plus data exports",features:["Access to the search engine","Free datasets (165k EF)","Paid datasets (90k EF)","Weekly updates","Favorites management","Data exports","Support from our experts"],cta:"Learn more"}}},finalCta:{title:"Ready to explore our emission factors?",subtitle:"Unlock the most powerful search engine on the market",primary:"Try the search engine",secondary:"Log in"},footer:{tagline:"The most powerful emission factors search engine on the market.",legal:{privacy:"Privacy policy",terms:"Terms of use",cookies:"Cookies"},copyright:" 2025 Ecodex. All rights reserved."}},K8={back:"Back to homepage",title:"Log in",subtitle:"Access your Ecodex account",placeholders:{email:"you@example.com",password:"Your password"},trial:{title:"Your freemium plan has ended.",description:"Please contact our sales team to upgrade to a paid plan."},email:"Email",password:"Password",submit:"Log in",loading:"Logging in...",or:"or",google:"Log in with Google",noAccount:"Don't have an account yet?",signUp:"Sign up",errors:{login:"Login error",google:"Google login error",unexpected:"An unexpected error occurred"},toasts:{error:{title:"Login error",googleTitle:"Google error",unexpected:"An unexpected error occurred"}}},Q8={back:"Back to homepage",title:"Create an account",subtitle:"Join the Ecodex platform",placeholders:{firstName:"Your first name",lastName:"Your last name",company:"Your company name",email:"you@example.com",password:"At least 6 characters",confirmPassword:"Confirm your password"},errors:{title:"Error",passwordMismatch:"Passwords do not match",passwordLength:"Password must contain at least 6 characters",signup:"Signup error",signupGoogle:"Google signup error",unexpected:"An unexpected error occurred"},success:{title:"Signup successful",description:"A confirmation email has been sent. Please check your inbox."},toasts:{success:{title:"Signup successful",description:"A confirmation email has been sent. Please check your inbox."},error:{title:"Signup error",googleTitle:"Google signup error",unexpected:"An unexpected error occurred"}},firstName:"First name",lastName:"Last name",email:"Work email",password:"Password",confirmPassword:"Confirm password",company:"Company",position:"Job title",submit:"Create my account",loading:"Creating...",or:"or",alreadyAccount:"Already have an account?",login:"Log in",google:"Sign up with Google"},G8={loading:{title:"Loading your favorites...",subtitle:"Fetching data from the database..."},header:{title:"My Favorites",subtitle:"Search and manage your favorite emission factors with advanced filters"},stats:{favorites:"favorites in total",sources:"sources",locations:"locations"},empty:{title:"No favorites yet",description:"Add emission factors to your favorites from the search page",cta:"Start searching"},actions:{remove:"Remove from favorites",removeCount:"Remove from favorites ({{count}})",export:"Export selection",exportCount:"Export selection ({{count}})",copy:"Copy selection",copyCount:"Copy selection ({{count}})"},toasts:{removed:{title:"Favorite removed",description:"The item has been removed from your favorites"},removeError:{title:"Error",description:"Error while removing the favorite"},bulkRemoved:{title:"Favorites updated",description:"{{count}} item removed from favorites.",description_plural:"{{count}} items removed from favorites."},bulkError:{title:"Error",description:"Error while removing the selected favorites"}}},Y8={toasts:{emailRequired:{title:"Email required",description:"Please enter your email address"},emailSent:{title:"Email sent!",description:"Check your inbox to reset your password"},error:{title:"Error",description:"Unable to send the reset email"}},sent:{title:"Email sent",description:"A password reset email has been sent to <strong>{{email}}</strong>. Click the link in the email to create a new password.",back:"Back to login",resend:"Resend email"},form:{title:"Forgot your password?",subtitle:"Enter your email to receive a reset link",email:"Email",placeholder:"your@email.com",sending:"Sending...",submit:"Send reset link",back:"Back to login"}},J8={pageTitle:"Settings",pageSubtitle:"Personalize your Ecodex experience",account:{title:"Account information",description:"General information about your account",email:"Email",fullName:"Full name",missing:"Not provided",role:"Role",roleMissing:"Not assigned",workspacePlan:"Workspace plan",planDefault:"Freemium"},workspace:{title:"Workspace",description:"Information about your workspace",name:"Workspace name",plan:"Plan",none:"No workspace",freemium:"Freemium"},notificationsCard:{title:"Notifications",description:"Manage your notification preferences",items:{email:{label:"Email notifications",description:"Receive important notifications by email"},favoriteUpdates:{label:"Favorite updates",description:"Get notified when favorite factors are updated"},newFeatures:{label:"New features",description:"Stay informed about new features"},weeklyReport:{label:"Weekly report",description:"Receive a weekly summary of your activity"}}},preferencesCard:{title:"Preferences",description:"Customize the interface and app behavior",language:"Language",timezone:"Time zone",defaultUnits:"Default units",resultsPerPage:"Results per page",languageOptions:{fr:"French",en:"English"},timezoneOptions:{paris:"Paris (UTC+1)",london:"London (UTC+0)",newYork:"New York (UTC-5)"},unitsOptions:{metric:"Metric",imperial:"Imperial"},resultsOptions:{10:"10",20:"20",50:"50",100:"100"}},securityCard:{title:"Security",twoFactor:{label:"Two-factor authentication",description:"Secure your account with 2FA",action:"Configure"},sessions:{label:"Active sessions",description:"Manage connected devices",action:"View sessions"}},billingCard:{title:"Billing",currentPlan:"Current plan",plans:{pro:"Pro plan  Unlimited",freemium:"Freemium plan  10 searches/month"},upgrade:"Upgrade to a paid plan",upgradeSubject:"paid plan request",history:"Billing history",download:"Download your invoices",downloadAction:"Download"},dataCard:{title:"Data & privacy",export:"Export my data",deleteSearches:"Delete my searches",deleteAccount:"Delete my account"},team:{title:"Workspace team",description:"Manage your workspace users",empty:"No users in this workspace yet.",invite:{button:"Invite a user",dialogTitle:"Invite a user",dialogDescription:"Invite a new member to join this workspace",emailPlaceholder:"user@email.com",roleLabel:"Role",cancel:"Cancel",submit:"Send invitation",sending:"Sending..."},table:{user:"User",role:"Role",addedAt:"Added on",fallbackName:"User",downgrade:"Demote",promote:"Promote to admin",remove:"Remove from workspace"},roles:{supra_admin:"Supra administrator",admin:"Administrator",manager:"Manager",user:"User",gestionnaire:"Manager"},toasts:{loadError:{title:"Error",description:"Unable to load workspace users"},inviteSuccess:{title:"Invitation sent",description:"An invitation was sent to {{email}}"},inviteExisting:{title:"User added",description:"{{email}} already had an account. They were linked to the workspace."},inviteError:{title:"Error",description:"Unable to send the invitation"},updateRoleSuccess:{title:"Role updated",description:"The user's role has been updated"},updateRoleError:{title:"Error",description:"Unable to update the role"},removeUserSuccess:{title:"User removed",description:"The user has been removed from the workspace"},removeUserError:{title:"Error",description:"Unable to remove the user"}}},admin:{title:"Administration",description:"Administration tools (Supra Admin only)",openPanel:"Open admin panel"},actions:{title:"Account actions",description:"Manage your session and data",logout:{button:"Log out",confirmTitle:"Confirm logout",confirmDescription:"Are you sure you want to log out? You will need to log in again to access your account.",cancel:"Cancel",confirm:"Log out"}},adminNotice:{title:"Supra Administrator status",description:"You have access to all administration features. Use these privileges responsibly."},roles:{supra_admin:"Supra administrator",admin:"Administrator",manager:"Manager",user:"User"},toasts:{notificationUpdated:{title:"Setting updated",description:"Your notification preferences have been saved"},preferenceUpdated:{title:"Setting updated",description:"Your preferences have been saved"},signOutSuccess:{title:"Signed out successfully",description:"You have been signed out."},signOutError:{title:"Sign-out error",description:"An error occurred during sign-out."}}},X8={loadingTitle:"Authenticating...",successTitle:"Authentication successful",redirectMessage:"Redirecting...",errorTitle:"Authentication error",errors:{auth:"Authentication error: {{message}}",noSession:"No user session found",generic:"An error occurred during authentication"}},Z8={title:"Page not found",description:"The page you're looking for doesn't exist or has moved.",backHome:"Back to homepage"},eV={index:q8,login:K8,signup:Q8,favorites:G8,passwordReset:Y8,settings:J8,authCallback:X8,import:{pageTitle:"Data import",pageSubtitle:"Import your own emission factors",cards:{noPermission:"You don't have the necessary permissions to import data.",upload:{title:"Import your dataset",description:"Select a CSV file formatted according to our template. Automatic compression included.",datasetName:"Dataset name",datasetPlaceholder:"My custom dataset",fileLabel:"CSV/GZ file",clickToSelect:"Click to select a file",acceptedFormats:"Accepted formats: CSV, CSV.GZ (automatically compressed)",changeFile:"Change file",selectFile:"Select a file",processingMessage:"Thank you, your dataset will be available in a few minutes.",addToFavorites:"Automatically add all elements from this dataset to my favorites",uploadButton:"Import dataset",uploading:"Importing...",processing:"Processing..."},template:{title:"Download template",description:"Use our CSV template to properly format your data",downloadButton:"Download",requiredColumns:"Required columns",columnsList:`Nom, Description, FE, "Unit donne d'activit", Source, Secteur, Sous-secteur, Localisation, Date, Incertitude, Primtre`}},status:{success:"Import successful",error:"Import error",indexing:"Indexing in progress...",indexingComplete:"Indexing complete"},toasts:{noFile:"Please select a file",noDataset:"Please enter a dataset name",uploadSuccess:"Import completed successfully",uploadError:"Error during import",indexingSuccess:"Data indexed successfully",indexingError:"Error during indexing",invalidFormat:{title:"Invalid format",description:"Please select a valid CSV or CSV.GZ file"},missingInfo:{title:"Missing information",description:"Please select a file and provide a dataset name"},general:{statusFetched:{title:"Status retrieved",description:"Queue: {{queue}}  Processing: {{processing}}"},statusError:{title:"Status error",description:"{{message}}"},missingFile:{title:"Missing file",description:"Please select a CSV file."},uploadDone:{title:"Upload completed",description:"{{details}}",alreadyCompressed:"already compressed",compression:"compression"},uploadErrorDetailed:{title:"Upload error",description:"{{message}}"},chunkedRemoved:{title:"Chunked pipeline removed",description:"Use Dataiku  staging_emission_factors  SELECT public.run_import_from_staging();"},analysisSuccess:{title:"Analysis completed",description:"{{details}}",rows:{one:"valid row",other:"valid rows"},sources:{one:"source detected",other:"sources detected"}},importLaunched:{title:"Import started",description:"Job: {{job}}",queue:"queued"},importError:{title:"Import error",description:"{{message}}"},analysisRequired:{title:"Analysis required",description:"Click Analyze first, then Import."}}},info:{sizeLimit:{label:"Size limit",value:"10 MB maximum per file (before compression)"},format:{label:"Format",value:"CSV with comma separator (,)"},encoding:{label:"Encoding",value:"UTF-8 recommended"},compression:{label:"Compression",value:"Automatic to optimize transfers"},validation:{label:"Validation",value:"Robust parser with source validation"},workspace:{label:"Workspace",value:"Data will be imported into your current workspace"}}},notFound:Z8},tV={title:"Filtres",reset:"Rinitialiser",origin:"Origine",origin_public:"Base commune",origin_private:"Base personnelle",source_locked:"Source payante",source_locked_tooltip:"Base payante  activer"},nV={searchPlaceholder:"Rechercher dans vos {{count}} favoris...",title:"Mes Favoris",subtitle:"Recherchez et grez vos facteurs d'mission favoris",stats:{totalFavorites:"favoris au total",sources:"sources",locations:"localisations",relevantFavorites:"{{sorted}} rsultats pertinents sur {{total}} favoris",noFavorites:"0 favori trouv",oneFavoriteFound:"{{formattedCount}} favori trouv",multipleFavoritesFound:"{{formattedCount}} favoris trouvs",favoritesDisplayed:"{{formattedCount}} favori affich",favoritesDisplayed_plural:"{{formattedCount}} favoris affichs"},empty:{title:"Vous n'avez pas encore de favoris.",description:"Recherchez des facteurs d'mission et ajoutez-les  vos favoris en cliquant sur ",no_match:"Aucun favori ne correspond  votre recherche."}},rV={placeholder:"Rechercher des facteurs d'mission...",min_chars_warning:"Minimum 3 caractres pour lancer la recherche.",button:"Rechercher"},iV={no_results_short_query_title:"Commencez votre recherche",no_results_short_query_description:"Commencez votre recherche en tapant au moins 3 caractres",no_results_empty_query_title:"Commencez votre recherche",no_results_empty_query_description:"Utilisez la barre de recherche ou les filtres pour explorer notre base de donnes",no_results_found_title:"Aucun rsultat trouv",no_results_found_description:`Nous n'avons trouv aucun facteur d'mission pour "{{query}}"`,suggestions_title:"Suggestions :",suggestion_1:"Vrifiez l'orthographe de votre recherche",suggestion_2:"Essayez des termes plus gnraux",suggestion_3:"Utilisez moins de filtres",displayed_results:"{{count}} rsultat(s) affich(s)",select_all:"Tout slectionner",deselect_all:"Tout dslectionner",selected_items:"{{count}} slectionn(s)",copy:"Copier",add_to_favorites:"Ajouter aux favoris",export:"Exporter",locked_content_not_selectable:"Contenu verrouill: non slectionnable",feature_pro_favorites:"Fonctionnalit disponible uniquement avec le plan Pro",blurred_content_not_addable_to_favorites:"Contenu flout: non ajoutable aux favoris",locked_content_not_addable_to_favorites:"Contenu verrouill: non ajoutable aux favoris",no_selection:"Aucune slection",select_at_least_one:"Veuillez slectionner au moins un facteur d'mission.",locked_content_not_copyable:"Contenu verrouill: non copiable.",locked_content_not_exportable:"Contenu verrouill: non exportable.",already_in_favorites:"Tous les lments slectionns sont dj dans vos favoris.",favorites_updated:"Favoris mis  jour",favorites_added:"{{count}} lment(s) ajout(s) aux favoris",favorites_removed:"Retir des favoris",imported_ef:"FE import",emission_factor:"Facteur d'mission",unit:"Unit",perimeter:"Primtre",source:"Source",imported_dataset:"Dataset import",location:"Localisation",date:"Date",sector:"Secteur",sub_sector:"Sous-secteur",description:"Description",uncertainty:"Incertitude",contributor:"Contributeur",methodology:"Mthodologie",data_type:"Type de donnes",commentary:"Commentaire",show_details:"Afficher les dtails",hide_details:"Masquer les dtails",remove:"Retirer",error_removing_favorite:"Erreur lors de la suppression du favori"},sV={relevantResults:"{{sorted}} rsultats pertinents sur {{total}}",noResults:"0 rsultat trouv",oneResultFound:"{{formattedCount}} rsultat trouv",multipleResultsFound:"{{formattedCount}} rsultats trouvs",timeMs:"en {{time}} ms"},oV={filters:tV,favoris:nV,search_box:rV,results:iV,stats:sV},aV={title:"Filters",reset:"Reset",origin:"Origin",origin_public:"Shared base",origin_private:"Private base",source_locked:"Paid source",source_locked_tooltip:"Paid database to activate"},lV={searchPlaceholder:"Search your {{count}} favorites...",title:"My Favorites",subtitle:"Search and manage your favorite emission factors",stats:{totalFavorites:"favorites in total",sources:"sources",locations:"locations",relevantFavorites:"{{sorted}} relevant results out of {{total}} favorites",noFavorites:"0 favorite found",oneFavoriteFound:"{{formattedCount}} favorite found",multipleFavoritesFound:"{{formattedCount}} favorites found",favoritesDisplayed:"{{formattedCount}} favorite displayed",favoritesDisplayed_plural:"{{formattedCount}} favorites displayed"},empty:{title:"You don't have any favorites yet.",description:"Search for emission factors and add them to your favorites by clicking ",no_match:"No favorites match your search."}},cV={placeholder:"Search emission factors...",min_chars_warning:"Minimum 3 characters to start the search.",button:"Search"},uV={no_results_short_query_title:"Start your search",no_results_short_query_description:"Start your search by typing at least 3 characters",no_results_empty_query_title:"Start your search",no_results_empty_query_description:"Use the search bar or filters to explore our database",no_results_found_title:"No results found",no_results_found_description:'We found no emission factors for "{{query}}"',suggestions_title:"Suggestions:",suggestion_1:"Check your spelling",suggestion_2:"Try more general terms",suggestion_3:"Use fewer filters",displayed_results:"{{count}} result(s) displayed",select_all:"Select All",deselect_all:"Deselect All",selected_items:"{{count}} selected",copy:"Copy",add_to_favorites:"Add to Favorites",export:"Export",locked_content_not_selectable:"Locked content: not selectable",feature_pro_favorites:"Feature available only with Pro plan",blurred_content_not_addable_to_favorites:"Blurred content: not addable to favorites",locked_content_not_addable_to_favorites:"Locked content: not addable to favorites",no_selection:"No selection",select_at_least_one:"Please select at least one emission factor.",locked_content_not_copyable:"Locked content: not copyable.",locked_content_not_exportable:"Locked content: not exportable.",already_in_favorites:"All selected items are already in your favorites.",favorites_updated:"Favorites updated",favorites_added:"{{count}} item(s) added to favorites",favorites_removed:"Removed from favorites",imported_ef:"Imported EF",emission_factor:"Emission Factor",unit:"Unit",perimeter:"Perimeter",source:"Source",imported_dataset:"Imported Dataset",location:"Location",date:"Date",sector:"Sector",sub_sector:"Sub-Sector",description:"Description",uncertainty:"Uncertainty",contributor:"Contributor",methodology:"Methodology",data_type:"Data Type",commentary:"Commentary",show_details:"Show details",hide_details:"Hide details"},dV={relevantResults:"{{sorted}} relevant results out of {{total}}",noResults:"0 result found",oneResultFound:"{{formattedCount}} result found",multipleResultsFound:"{{formattedCount}} results found",timeMs:"in {{time}} ms"},fV={filters:aV,favoris:lV,search_box:cV,results:uV,stats:dV},hV="Chargement des quotas",pV={generic:"Impossible de rcuprer les informations de quota"},mV={title:"Plan {{plan}}",pro:"Pro",freemium:"Freemium",supra:"Supra Admin"},gV={unlimited:"Illimit ",not_available:"Non disponible",used_over_total:"{{used}} / {{total}}",reached:"Limite atteinte",messages:{reached:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan.",contact_admin:"Contactez votre administrateur pour augmenter vos limites.",freemium_note:"Non disponible en Freemium"}},vV={label:"Recherches"},yV={label:"Exports Excel"},xV={label:"Copies presse-papiers"},bV={label:"Favoris",pro_only:"Pro"},wV={title:"Priode d'essai",expired:"Priode d'essai expire",days_remaining:"{{count}} jour{{count, plural, one {} other {s}}} restant{{count, plural, one {} other {s}}}"},SV={loading:{title:"Statut du quota",subtitle:"Chargement en cours"},error:{badge:"Erreur",description:"Impossible de charger les informations de quota."},pro:{badge_pro:"Pro",description_unlimited:"Illimit",description_paid:"Plan payant"},freemium:{badge_freemium:"Freemium",note_unavailable:"Non disponible en Freemium"},actions:{view_plans:"Voir les plans"},summary:{locked:"Plan non disponible",available:"Plan disponible"}},_V={loading:hV,errors:pV,plan:mV,limits:gV,searches:vV,exports:yV,clipboard:xV,favorites:bV,trial:wV,widget:SV},jV="Loading quotas",EV={generic:"Unable to retrieve quota information"},kV={title:"{{plan}} plan",pro:"Pro",freemium:"Freemium",supra:"Supra Admin"},CV={unlimited:"Unlimited ",not_available:"Not available",used_over_total:"{{used}} / {{total}}",reached:"Limit reached",messages:{reached:"You have reached your monthly limits. Contact your administrator to upgrade your plan.",contact_admin:"Contact your administrator to increase your limits.",freemium_note:"Not available on Freemium"}},RV={label:"Searches"},PV={label:"Excel exports"},TV={label:"Clipboard copies"},NV={label:"Favorites",pro_only:"Pro"},AV={title:"Trial period",expired:"Trial period expired",days_remaining:"{{count}} day{{count, plural, one {} other {s}}} remaining"},OV={loading:{title:"Quota status",subtitle:"Loading"},error:{badge:"Error",description:"Unable to load quota information."},pro:{badge_pro:"Pro",description_unlimited:"Unlimited",description_paid:"Paid plan"},freemium:{badge_freemium:"Freemium",note_unavailable:"Not available on Freemium"},actions:{view_plans:"View plans"},summary:{locked:"Plan unavailable",available:"Plan available"}},IV={loading:jV,errors:EV,plan:kV,limits:CV,searches:RV,exports:PV,clipboard:TV,favorites:NV,trial:AV,widget:OV},h1="fr";Zt.use(_6).init({resources:{fr:{common:v8,navbar:P8,pages:W8,search:oV,quota:_V},en:{common:S8,navbar:D8,pages:eV,search:fV,quota:IV}},lng:h1,fallbackLng:h1,ns:["common","navbar","pages","search","quota"],interpolation:{escapeValue:!1},defaultNS:"common"});const FV=e=>e.startsWith("/en")?e.replace(/^\/en/,"")||"/":e,Le=(e,t)=>{e.startsWith("/")||(e=`/${e}`);const n=FV(e).replace(/\/+/g,"/");return t==="en"?n==="/"||n===""?"/en":`/en${n}`:n===""?"/":n},pN="ecodex-lang",mN="ecodex_lang",p1="fr",gN=y.createContext(null),DV=e=>{if(!e||e==="/en"||e==="/en/")return"/";if(e.startsWith("/en")){const t=e.slice(3);return t?t.startsWith("/")?t:`/${t}`:"/"}return e},LV=e=>{const t=DV(e);return t.startsWith("/search")||t.startsWith("/favoris")},$V=()=>{if(typeof window>"u")return p1;if(window.location.pathname.split("/")[1]==="en")return"en";const t=window.localStorage.getItem(pN);if(t==="en"||t==="fr")return t;const n=document.cookie.split(";").map(r=>r.trim()).find(r=>r.startsWith(`${mN}=`));if(n){const r=n.split("=")[1];if(r==="en"||r==="fr")return r}return p1},MV=({children:e})=>{const[t,n]=y.useState($V);y.useEffect(()=>{Zt.changeLanguage(t)},[t]);const r=y.useCallback((s,o)=>{if(n(s),typeof window>"u")return;const{pathname:a,search:l,hash:u}=window.location,d=Le(a,s),f=`${d}${l}${u}`;if(o!=null&&o.skipStorage){a!==d&&window.history.replaceState({},"",f);return}const p=()=>{window.localStorage.setItem(pN,s),document.cookie=`${mN}=${s}; path=/; max-age=${60*60*24*365}; SameSite=Lax`};if(LV(a)){p(),a!==d?window.location.assign(f):window.location.reload();return}a!==d&&window.history.replaceState({},"",f),p()},[]),i=y.useMemo(()=>({language:t,setLanguage:r}),[t,r]);return c.jsx(gN.Provider,{value:i,children:e})},en=()=>{const e=y.useContext(gN);if(!e)throw new Error("useLanguage must be used within LanguageProvider");return e};var Sg=0;function aw(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??m1()),document.body.insertAdjacentElement("beforeend",e[1]??m1()),Sg++,()=>{Sg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sg--}},[])}function m1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _g="focusScope.autoFocusOnMount",jg="focusScope.autoFocusOnUnmount",g1={bubbles:!1,cancelable:!0},UV="FocusScope",Xp=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=y.useState(null),u=Bn(i),d=Bn(s),f=y.useRef(null),p=Ie(t,g=>l(g)),h=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(w){if(h.paused||!a)return;const S=w.target;a.contains(S)?f.current=S:os(f.current,{select:!0})},b=function(w){if(h.paused||!a)return;const S=w.relatedTarget;S!==null&&(a.contains(S)||os(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&os(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,h.paused]),y.useEffect(()=>{if(a){y1.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(_g,g1);a.addEventListener(_g,u),a.dispatchEvent(v),v.defaultPrevented||(zV(qV(vN(a)),{select:!0}),document.activeElement===g&&os(a))}return()=>{a.removeEventListener(_g,u),setTimeout(()=>{const v=new CustomEvent(jg,g1);a.addEventListener(jg,d),a.dispatchEvent(v),v.defaultPrevented||os(g??document.body,{select:!0}),a.removeEventListener(jg,d),y1.remove(h)},0)}}},[a,u,d,h]);const m=y.useCallback(g=>{if(!n&&!r||h.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const x=g.currentTarget,[w,S]=HV(x);w&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&os(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&os(S,{select:!0})):v===x&&g.preventDefault()}},[n,r,h.paused]);return c.jsx(pe.div,{tabIndex:-1,...o,ref:p,onKeyDown:m})});Xp.displayName=UV;function zV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(os(r,{select:t}),document.activeElement!==n)return}function HV(e){const t=vN(e),n=v1(t,e),r=v1(t.reverse(),e);return[n,r]}function vN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function v1(e,t){for(const n of e)if(!BV(n,{upTo:t}))return n}function BV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function VV(e){return e instanceof HTMLInputElement&&"select"in e}function os(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&VV(e)&&t&&e.select()}}var y1=WV();function WV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=x1(e,t),e.unshift(t)},remove(t){var n;e=x1(e,t),(n=e[0])==null||n.resume()}}}function x1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qV(e){return e.filter(t=>t.tagName!=="A")}var KV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fa=new WeakMap,mf=new WeakMap,gf={},Eg=0,yN=function(e){return e&&(e.host||yN(e.parentNode))},QV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},GV=function(e,t,n,r){var i=QV(t,Array.isArray(e)?e:[e]);gf[n]||(gf[n]=new WeakMap);var s=gf[n],o=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var h=p.getAttribute(r),m=h!==null&&h!=="false",g=(fa.get(p)||0)+1,b=(s.get(p)||0)+1;fa.set(p,g),s.set(p,b),o.push(p),g===1&&m&&mf.set(p,!0),b===1&&p.setAttribute(n,"true"),m||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(t),a.clear(),Eg++,function(){o.forEach(function(f){var p=fa.get(f)-1,h=s.get(f)-1;fa.set(f,p),s.set(f,h),p||(mf.has(f)||f.removeAttribute(r),mf.delete(f)),h||f.removeAttribute(n)}),Eg--,Eg||(fa=new WeakMap,fa=new WeakMap,mf=new WeakMap,gf={})}},lw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=KV(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),GV(r,i,n,"aria-hidden")):function(){return null}},li=function(){return li=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},li.apply(this,arguments)};function xN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function YV(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Yf="right-scroll-bar-position",Jf="width-before-scroll-bar",JV="with-scroll-bars-hidden",XV="--removed-body-scroll-bar-size";function kg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZV(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var eW=typeof window<"u"?y.useLayoutEffect:y.useEffect,b1=new WeakMap;function tW(e,t){var n=ZV(null,function(r){return e.forEach(function(i){return kg(i,r)})});return eW(function(){var r=b1.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||kg(a,null)}),s.forEach(function(a){i.has(a)||kg(a,o)})}b1.set(n,e)},[e]),n}function nW(e){return e}function rW(e,t){t===void 0&&(t=nW);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function iW(e){e===void 0&&(e={});var t=rW(null);return t.options=li({async:!0,ssr:!1},e),t}var bN=function(e){var t=e.sideCar,n=xN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,li({},n))};bN.isSideCarExport=!0;function sW(e,t){return e.useMedium(t),bN}var wN=iW(),Cg=function(){},Zp=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:Cg,onWheelCapture:Cg,onTouchMoveCapture:Cg}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,m=e.noIsolation,g=e.inert,b=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,S=xN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,_=tW([n,t]),C=li(li({},S),i);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:wN,removeScrollBar:u,shards:f,noRelative:h,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?y.cloneElement(y.Children.only(a),li(li({},C),{ref:_})):y.createElement(x,li({},C,{className:l,ref:_}),a))});Zp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zp.classNames={fullWidth:Jf,zeroRight:Yf};var oW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aW(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oW();return t&&e.setAttribute("nonce",t),e}function lW(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cW(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uW=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aW())&&(lW(t,n),cW(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dW=function(){var e=uW();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},SN=function(){var e=dW(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},fW={left:0,top:0,right:0,gap:0},Rg=function(e){return parseInt(e||"",10)||0},hW=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Rg(n),Rg(r),Rg(i)]},pW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fW;var t=hW(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},mW=SN(),qa="data-scroll-locked",gW=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(JV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(qa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yf," .").concat(Yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jf," .").concat(Jf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qa,`] {
    `).concat(XV,": ").concat(a,`px;
  }
`)},w1=function(){var e=parseInt(document.body.getAttribute(qa)||"0",10);return isFinite(e)?e:0},vW=function(){y.useEffect(function(){return document.body.setAttribute(qa,(w1()+1).toString()),function(){var e=w1()-1;e<=0?document.body.removeAttribute(qa):document.body.setAttribute(qa,e.toString())}},[])},yW=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;vW();var s=y.useMemo(function(){return pW(i)},[i]);return y.createElement(mW,{styles:gW(s,!t,i,n?"":"!important")})},zy=!1;if(typeof window<"u")try{var vf=Object.defineProperty({},"passive",{get:function(){return zy=!0,!0}});window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{zy=!1}var ha=zy?{passive:!1}:!1,xW=function(e){return e.tagName==="TEXTAREA"},_N=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xW(e)&&n[t]==="visible")},bW=function(e){return _N(e,"overflowY")},wW=function(e){return _N(e,"overflowX")},S1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=jN(e,r);if(i){var s=EN(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SW=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_W=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},jN=function(e,t){return e==="v"?bW(t):wW(t)},EN=function(e,t){return e==="v"?SW(t):_W(t)},jW=function(e,t){return e==="h"&&t==="rtl"?-1:1},EW=function(e,t,n,r,i){var s=jW(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),u=!1,d=o>0,f=0,p=0;do{if(!a)break;var h=EN(e,a),m=h[0],g=h[1],b=h[2],v=g-b-s*m;(m||v)&&jN(e,a)&&(f+=v,p+=m);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},yf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_1=function(e){return[e.deltaX,e.deltaY]},j1=function(e){return e&&"current"in e?e.current:e},kW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RW=0,pa=[];function PW(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(RW++)[0],s=y.useState(SN)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=YV([e.lockRef.current],(e.shards||[]).map(j1),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=y.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=yf(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-v[0],S="deltaY"in g?g.deltaY:x[1]-v[1],j,_=g.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&_.type==="range")return!1;var T=S1(C,_);if(!T)return!0;if(T?j=C:(j=C==="v"?"h":"v",T=S1(C,_)),!T)return!1;if(!r.current&&"changedTouches"in g&&(w||S)&&(r.current=j),!j)return!0;var I=r.current||j;return EW(I,b,g,I==="h"?w:S)},[]),l=y.useCallback(function(g){var b=g;if(!(!pa.length||pa[pa.length-1]!==s)){var v="deltaY"in b?_1(b):yf(b),x=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&kW(j.delta,v)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(j1).filter(Boolean).filter(function(j){return j.contains(b.target)}),S=w.length>0?a(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=y.useCallback(function(g,b,v,x){var w={name:g,delta:b,target:v,should:x,shadowParent:TW(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=y.useCallback(function(g){n.current=yf(g),r.current=void 0},[]),f=y.useCallback(function(g){u(g.type,_1(g),g.target,a(g,e.lockRef.current))},[]),p=y.useCallback(function(g){u(g.type,yf(g),g.target,a(g,e.lockRef.current))},[]);y.useEffect(function(){return pa.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ha),document.addEventListener("touchmove",l,ha),document.addEventListener("touchstart",d,ha),function(){pa=pa.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,ha),document.removeEventListener("touchmove",l,ha),document.removeEventListener("touchstart",d,ha)}},[]);var h=e.removeScrollBar,m=e.inert;return y.createElement(y.Fragment,null,m?y.createElement(s,{styles:CW(i)}):null,h?y.createElement(yW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function TW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NW=sW(wN,PW);var em=y.forwardRef(function(e,t){return y.createElement(Zp,li({},e,{ref:t,sideCar:NW}))});em.classNames=Zp.classNames;var Hy=["Enter"," "],AW=["ArrowDown","PageUp","Home"],kN=["ArrowUp","PageDown","End"],OW=[...AW,...kN],IW={ltr:[...Hy,"ArrowRight"],rtl:[...Hy,"ArrowLeft"]},FW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gd="Menu",[wu,DW,LW]=Ep(gd),[Vo,CN]=ar(gd,[LW,Pl,Yp]),tm=Pl(),RN=Yp(),[$W,Wo]=Vo(gd),[MW,vd]=Vo(gd),PN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,a=tm(t),[l,u]=y.useState(null),d=y.useRef(!1),f=Bn(s),p=Gp(i);return y.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),c.jsx(zb,{...a,children:c.jsx($W,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(MW,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};PN.displayName=gd;var UW="MenuAnchor",cw=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=tm(n);return c.jsx(Hb,{...i,...r,ref:t})});cw.displayName=UW;var uw="MenuPortal",[zW,TN]=Vo(uw,{forceMount:void 0}),NN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=Wo(uw,t);return c.jsx(zW,{scope:t,forceMount:n,children:c.jsx(Sr,{present:n||s.open,children:c.jsx(sd,{asChild:!0,container:i,children:r})})})};NN.displayName=uw;var xr="MenuContent",[HW,dw]=Vo(xr),AN=y.forwardRef((e,t)=>{const n=TN(xr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Wo(xr,e.__scopeMenu),o=vd(xr,e.__scopeMenu);return c.jsx(wu.Provider,{scope:e.__scopeMenu,children:c.jsx(Sr,{present:r||s.open,children:c.jsx(wu.Slot,{scope:e.__scopeMenu,children:o.modal?c.jsx(BW,{...i,ref:t}):c.jsx(VW,{...i,ref:t})})})})}),BW=y.forwardRef((e,t)=>{const n=Wo(xr,e.__scopeMenu),r=y.useRef(null),i=Ie(t,r);return y.useEffect(()=>{const s=r.current;if(s)return lw(s)},[]),c.jsx(fw,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),VW=y.forwardRef((e,t)=>{const n=Wo(xr,e.__scopeMenu);return c.jsx(fw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),WW=No("MenuContent.ScrollLock"),fw=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:m,...g}=e,b=Wo(xr,n),v=vd(xr,n),x=tm(n),w=RN(n),S=DW(n),[j,_]=y.useState(null),C=y.useRef(null),T=Ie(t,C,b.onContentChange),I=y.useRef(0),R=y.useRef(""),F=y.useRef(0),O=y.useRef(null),D=y.useRef("right"),A=y.useRef(0),M=m?em:y.Fragment,H=m?{as:WW,allowPinchZoom:!0}:void 0,B=k=>{var W,ie;const E=R.current+k,$=S().filter(ue=>!ue.disabled),U=document.activeElement,N=(W=$.find(ue=>ue.ref.current===U))==null?void 0:W.textValue,K=$.map(ue=>ue.textValue),Q=rq(K,E,N),Y=(ie=$.find(ue=>ue.textValue===Q))==null?void 0:ie.ref.current;(function ue(le){R.current=le,window.clearTimeout(I.current),le!==""&&(I.current=window.setTimeout(()=>ue(""),1e3))})(E),Y&&setTimeout(()=>Y.focus())};y.useEffect(()=>()=>window.clearTimeout(I.current),[]),aw();const P=y.useCallback(k=>{var $,U;return D.current===(($=O.current)==null?void 0:$.side)&&sq(k,(U=O.current)==null?void 0:U.area)},[]);return c.jsx(HW,{scope:n,searchRef:R,onItemEnter:y.useCallback(k=>{P(k)&&k.preventDefault()},[P]),onItemLeave:y.useCallback(k=>{var E;P(k)||((E=C.current)==null||E.focus(),_(null))},[P]),onTriggerLeave:y.useCallback(k=>{P(k)&&k.preventDefault()},[P]),pointerGraceTimerRef:F,onPointerGraceIntentChange:y.useCallback(k=>{O.current=k},[]),children:c.jsx(M,{...H,children:c.jsx(Xp,{asChild:!0,trapped:i,onMountAutoFocus:ne(s,k=>{var E;k.preventDefault(),(E=C.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(El,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:c.jsx(ZT,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:ne(l,k=>{v.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Bb,{role:"menu","aria-orientation":"vertical","data-state":QN(b.open),"data-radix-menu-content":"",dir:v.dir,...x,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,k=>{const $=k.target.closest("[data-radix-menu-content]")===k.currentTarget,U=k.ctrlKey||k.altKey||k.metaKey,N=k.key.length===1;$&&(k.key==="Tab"&&k.preventDefault(),!U&&N&&B(k.key));const K=C.current;if(k.target!==K||!OW.includes(k.key))return;k.preventDefault();const Y=S().filter(W=>!W.disabled).map(W=>W.ref.current);kN.includes(k.key)&&Y.reverse(),tq(Y)}),onBlur:ne(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:ne(e.onPointerMove,Su(k=>{const E=k.target,$=A.current!==k.clientX;if(k.currentTarget.contains(E)&&$){const U=k.clientX>A.current?"right":"left";D.current=U,A.current=k.clientX}}))})})})})})})});AN.displayName=xr;var qW="MenuGroup",hw=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(pe.div,{role:"group",...r,ref:t})});hw.displayName=qW;var KW="MenuLabel",ON=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(pe.div,{...r,ref:t})});ON.displayName=KW;var Wh="MenuItem",E1="menu.itemSelect",nm=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=y.useRef(null),o=vd(Wh,e.__scopeMenu),a=dw(Wh,e.__scopeMenu),l=Ie(t,s),u=y.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(E1,{bubbles:!0,cancelable:!0});f.addEventListener(E1,h=>r==null?void 0:r(h),{once:!0}),_b(f,p),p.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(IN,{...i,ref:l,disabled:n,onClick:ne(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:ne(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ne(e.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Hy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});nm.displayName=Wh;var IN=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=dw(Wh,n),a=RN(n),l=y.useRef(null),u=Ie(t,l),[d,f]=y.useState(!1),[p,h]=y.useState("");return y.useEffect(()=>{const m=l.current;m&&h((m.textContent??"").trim())},[s.children]),c.jsx(wu.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:c.jsx(eN,{asChild:!0,...a,focusable:!r,children:c.jsx(pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ne(e.onPointerMove,Su(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(e.onPointerLeave,Su(m=>o.onItemLeave(m))),onFocus:ne(e.onFocus,()=>f(!0)),onBlur:ne(e.onBlur,()=>f(!1))})})})}),QW="MenuCheckboxItem",FN=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return c.jsx(UN,{scope:e.__scopeMenu,checked:n,children:c.jsx(nm,{role:"menuitemcheckbox","aria-checked":qh(n)?"mixed":n,...i,ref:t,"data-state":mw(n),onSelect:ne(i.onSelect,()=>r==null?void 0:r(qh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});FN.displayName=QW;var DN="MenuRadioGroup",[GW,YW]=Vo(DN,{value:void 0,onValueChange:()=>{}}),LN=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Bn(r);return c.jsx(GW,{scope:e.__scopeMenu,value:n,onValueChange:s,children:c.jsx(hw,{...i,ref:t})})});LN.displayName=DN;var $N="MenuRadioItem",MN=y.forwardRef((e,t)=>{const{value:n,...r}=e,i=YW($N,e.__scopeMenu),s=n===i.value;return c.jsx(UN,{scope:e.__scopeMenu,checked:s,children:c.jsx(nm,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":mw(s),onSelect:ne(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});MN.displayName=$N;var pw="MenuItemIndicator",[UN,JW]=Vo(pw,{checked:!1}),zN=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=JW(pw,n);return c.jsx(Sr,{present:r||qh(s.checked)||s.checked===!0,children:c.jsx(pe.span,{...i,ref:t,"data-state":mw(s.checked)})})});zN.displayName=pw;var XW="MenuSeparator",HN=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});HN.displayName=XW;var ZW="MenuArrow",BN=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=tm(n);return c.jsx(Vb,{...i,...r,ref:t})});BN.displayName=ZW;var eq="MenuSub",[Zae,VN]=Vo(eq),vc="MenuSubTrigger",WN=y.forwardRef((e,t)=>{const n=Wo(vc,e.__scopeMenu),r=vd(vc,e.__scopeMenu),i=VN(vc,e.__scopeMenu),s=dw(vc,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),c.jsx(cw,{asChild:!0,...u,children:c.jsx(IN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":QN(n.open),...e,ref:jp(t,i.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,Su(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ne(e.onPointerLeave,Su(f=>{var h,m;d();const p=(h=n.content)==null?void 0:h.getBoundingClientRect();if(p){const g=(m=n.content)==null?void 0:m.dataset.side,b=g==="right",v=b?-5:5,x=p[b?"left":"right"],w=p[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,f=>{var h;const p=s.searchRef.current!=="";e.disabled||p&&f.key===" "||IW[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});WN.displayName=vc;var qN="MenuSubContent",KN=y.forwardRef((e,t)=>{const n=TN(xr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Wo(xr,e.__scopeMenu),o=vd(xr,e.__scopeMenu),a=VN(qN,e.__scopeMenu),l=y.useRef(null),u=Ie(t,l);return c.jsx(wu.Provider,{scope:e.__scopeMenu,children:c.jsx(Sr,{present:r||s.open,children:c.jsx(wu.Slot,{scope:e.__scopeMenu,children:c.jsx(fw,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ne(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),p=FW[o.dir].includes(d.key);f&&p&&(s.onOpenChange(!1),(h=a.trigger)==null||h.focus(),d.preventDefault())})})})})})});KN.displayName=qN;function QN(e){return e?"open":"closed"}function qh(e){return e==="indeterminate"}function mw(e){return qh(e)?"indeterminate":e?"checked":"unchecked"}function tq(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function nq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function rq(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=nq(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function iq(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s],l=t[o],u=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(i=!i)}return i}function sq(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return iq(n,t)}function Su(e){return t=>t.pointerType==="mouse"?e(t):void 0}var oq=PN,aq=cw,lq=NN,cq=AN,uq=hw,dq=ON,fq=nm,hq=FN,pq=LN,mq=MN,gq=zN,vq=HN,yq=BN,xq=WN,bq=KN,rm="DropdownMenu",[wq,ele]=ar(rm,[CN]),Cn=CN(),[Sq,GN]=wq(rm),YN=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=Cn(t),u=y.useRef(null),[d,f]=Ui({prop:i,defaultProp:s??!1,onChange:o,caller:rm});return c.jsx(Sq,{scope:t,triggerId:$r(),triggerRef:u,contentId:$r(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(p=>!p),[f]),modal:a,children:c.jsx(oq,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};YN.displayName=rm;var JN="DropdownMenuTrigger",XN=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=GN(JN,n),o=Cn(n);return c.jsx(aq,{asChild:!0,...o,children:c.jsx(pe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:jp(t,s.triggerRef),onPointerDown:ne(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ne(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});XN.displayName=JN;var _q="DropdownMenuPortal",ZN=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Cn(t);return c.jsx(lq,{...r,...n})};ZN.displayName=_q;var eA="DropdownMenuContent",tA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=GN(eA,n),s=Cn(n),o=y.useRef(!1);return c.jsx(cq,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tA.displayName=eA;var jq="DropdownMenuGroup",Eq=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(uq,{...i,...r,ref:t})});Eq.displayName=jq;var kq="DropdownMenuLabel",nA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(dq,{...i,...r,ref:t})});nA.displayName=kq;var Cq="DropdownMenuItem",rA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(fq,{...i,...r,ref:t})});rA.displayName=Cq;var Rq="DropdownMenuCheckboxItem",iA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(hq,{...i,...r,ref:t})});iA.displayName=Rq;var Pq="DropdownMenuRadioGroup",Tq=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(pq,{...i,...r,ref:t})});Tq.displayName=Pq;var Nq="DropdownMenuRadioItem",sA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(mq,{...i,...r,ref:t})});sA.displayName=Nq;var Aq="DropdownMenuItemIndicator",oA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(gq,{...i,...r,ref:t})});oA.displayName=Aq;var Oq="DropdownMenuSeparator",aA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(vq,{...i,...r,ref:t})});aA.displayName=Oq;var Iq="DropdownMenuArrow",Fq=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(yq,{...i,...r,ref:t})});Fq.displayName=Iq;var Dq="DropdownMenuSubTrigger",lA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(xq,{...i,...r,ref:t})});lA.displayName=Dq;var Lq="DropdownMenuSubContent",cA=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Cn(n);return c.jsx(bq,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cA.displayName=Lq;var $q=YN,Mq=XN,Uq=ZN,uA=tA,dA=nA,fA=rA,hA=iA,pA=sA,mA=oA,gA=aA,vA=lA,yA=cA;const xA=$q,bA=Mq,zq=y.forwardRef(({className:e,inset:t,children:n,...r},i)=>c.jsxs(vA,{ref:i,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,c.jsx(Cb,{className:"ml-auto h-4 w-4"})]}));zq.displayName=vA.displayName;const Hq=y.forwardRef(({className:e,...t},n)=>c.jsx(yA,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Hq.displayName=yA.displayName;const gw=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(Uq,{children:c.jsx(uA,{ref:r,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));gw.displayName=uA.displayName;const _u=y.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(fA,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));_u.displayName=fA.displayName;const Bq=y.forwardRef(({className:e,children:t,checked:n,...r},i)=>c.jsxs(hA,{ref:i,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(mA,{children:c.jsx(Rp,{className:"h-4 w-4"})})}),t]}));Bq.displayName=hA.displayName;const Vq=y.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(pA,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(mA,{children:c.jsx(VM,{className:"h-2 w-2 fill-current"})})}),t]}));Vq.displayName=pA.displayName;const Wq=y.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(dA,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Wq.displayName=dA.displayName;const qq=y.forwardRef(({className:e,...t},n)=>c.jsx(gA,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));qq.displayName=gA.displayName;const wA=({align:e})=>{const{language:t,setLanguage:n}=en(),{t:r}=nt("common"),i=s=>{console.log(`Switching language from ${t} to ${s}`),n(s)};return c.jsxs(xA,{children:[c.jsx(bA,{asChild:!0,children:c.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c.jsx(ay,{className:"h-4 w-4"}),r(t==="fr"?"language.toggle.fr":"language.toggle.en")]})}),c.jsxs(gw,{align:e??"end",className:"w-28",children:[c.jsxs(_u,{onClick:()=>i("fr"),className:t==="fr"?"font-semibold":void 0,children:[" ",r("language.fr")]}),c.jsxs(_u,{onClick:()=>i("en"),className:t==="en"?"font-semibold":void 0,children:[" ",r("language.en")]})]})]})},Kq={data:"/assets/onglet-donnees.png",search:"/assets/onglet-recherche.png",custom:"/assets/onglet-personnalisation.png"},k1=[{name:"AIB",src:"/assets/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png"},{name:"Agribalyse",src:"/assets/fda086b7-f932-4837-beff-453157e04098.png"},{name:"BEIS",src:"/assets/6a36c45c-748d-4f7b-83c3-06ab2651649f.png"},{name:"Base Carbone",src:"/assets/e9be0482-b48d-476b-8536-b92ea3b88ea5.png"},{name:"Base Impacts",src:"/assets/8351c94f-afcc-498e-b8fa-73f47451686a.png"},{name:"CCF",src:"/assets/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png"},{name:"Climate Trace",src:"/assets/47300cd4-f205-4264-a5b0-6f1406b312f8.png"},{name:"EEA",src:"/assets/d2dffb4b-f32d-43ed-82bf-b071db714f91.png"},{name:"EPA",src:"/assets/75c9eac2-554f-4bb0-9719-08a698c80e1d.png"},{name:"Exiobase",src:"/assets/373cff1a-5089-4167-b40a-38ff4d50cc36.png"},{name:"EcoInvent",src:"/assets/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png"},{name:"Ecobalyse",src:"/assets/f775ed4f-912f-41cf-9ade-08338aadf665.png"},{name:"Electricity Maps",src:"/assets/0cc5974c-e436-42f5-9776-ad4cd768b072.png"},{name:"Ember",src:"/assets/88e14343-4589-4e34-b420-395130de1641.png"},{name:"GESPoint5",src:"/assets/8de84824-fb1b-441b-a7c2-50b92b4072e2.png"},{name:"GLEC",src:"/assets/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png"},{name:"Kering",src:"/assets/faa38581-8c17-443c-b8de-77a4ffc6c72e.png"},{name:"OMEGA TP",src:"/assets/4cce460f-a743-4cdf-9fdf-215ba86522d8.png"},{name:"Open CEDA",src:"/assets/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png"},{name:"PCAF",src:"/assets/b5978785-2cff-49c0-996a-225457820050.png"}],Qq=[{name:"Inies",src:"/assets/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png"},{name:"Eco-platform",src:"/assets/7d492fef-d5aa-4fa5-9732-938c9b53680d.png"},{name:"EcoInvent",src:"/assets/95586b3d-873f-4be8-a627-63fce61a19fd.png"}],C1=()=>{var f,p;const e=Al(),{user:t}=jt();vi();const{language:n,setLanguage:r}=en(),{t:i}=nt("pages",{keyPrefix:"index"}),s=y.useMemo(()=>i("hero.lines",void 0,{returnObjects:!0})??[],[i]),o=y.useMemo(()=>{const h=i("tabsSection.items",void 0,{returnObjects:!0});return Array.isArray(h)?h:[]},[i]),a=y.useMemo(()=>{const h=i("datasetsSection.tabs",void 0,{returnObjects:!0});return Array.isArray(h)?h:[]},[i]),l=y.useMemo(()=>{const h=i("expertSection.blocks",void 0,{returnObjects:!0});return Array.isArray(h)?h:[]},[i]),u=y.useMemo(()=>i("pricing.plans",void 0,{returnObjects:!0})??{},[i]);y.useEffect(()=>{var v,x;const h=new URLSearchParams(window.location.search),m=new URLSearchParams(window.location.hash.substring(1)),g=h.get("access_token")||m.get("access_token"),b=h.get("type")||m.get("type");if(g&&(b==="signup"||b==="invite")){e(Le("/auth/callback",n)+window.location.search+window.location.hash);return}(v=t==null?void 0:t.user_metadata)!=null&&v.workspace_id&&((x=t==null?void 0:t.user_metadata)==null?void 0:x.invitation_type)==="workspace"&&e(Le("/auth/callback",n))},[e,t,n]);const d=y.useMemo(()=>k1.slice(0,14),[]);return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50 overflow-x-clip",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[c.jsx("div",{className:"shrink sm:shrink-0",children:c.jsx("img",{src:"/assets/logo-ecodex-navbar.png",alt:"Ecodex",className:"h-10 sm:h-12 md:h-16 w-auto"})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[c.jsx(St,{to:Le("/signup",n),children:c.jsx(te,{variant:"outline",size:"sm",className:"text-xs sm:text-sm tracking-normal px-3",children:f1("common:actions.sign_up")})}),c.jsx(St,{to:Le("/login",n),children:c.jsx(te,{size:"sm",className:"text-xs sm:text-sm tracking-normal px-3",children:f1("common:actions.log_in")})}),c.jsx("div",{className:"ml-2",children:c.jsx(wA,{})})]})]})})}),c.jsx("section",{className:"py-14 sm:py-20 px-4 bg-primary text-primary-foreground",children:c.jsx("div",{className:"container mx-auto",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[c.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold leading-tight md:leading-[1.1] text-primary-foreground",children:s.map((h,m)=>c.jsxs("span",{className:"block",children:[h,m!==s.length-1&&c.jsx("br",{})]},h))}),c.jsx("p",{className:"text-primary-foreground/90 text-base sm:text-lg max-w-prose",children:i("hero.subtitle")}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx(St,{to:Le("/signup",n),children:c.jsx(te,{variant:"hero",size:"sm",className:"w-full sm:w-auto text-xs sm:text-sm md:text-base normal-case tracking-normal whitespace-normal text-center px-4 sm:px-6 min-h-[44px]",children:i("hero.primaryCta")})}),c.jsx(St,{to:Le("/login",n),children:c.jsx(te,{variant:"outline",size:"sm",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10 text-xs sm:text-sm md:text-base normal-case tracking-normal whitespace-normal text-center px-4 sm:px-6 min-h-[44px]",children:i("hero.secondaryCta")})})]})]}),c.jsx("div",{className:"order-1 lg:order-2",children:c.jsx("img",{src:"/assets/header-homepage.png",alt:i("hero.imageAlt"),className:"w-full h-auto rounded-lg",loading:"eager",decoding:"async"})})]})})}),c.jsx("section",{className:"py-14 sm:py-20 bg-background",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h4",{className:"font-bold mb-8 sm:mb-12",children:i("navbar.partners")}),c.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-6 sm:gap-8 items-center",children:d.map(h=>c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(wg,{src:h.src,alt:h.name,className:"max-h-[50px] w-full h-[50px]"})},h.name))})]})}),c.jsx("section",{className:"py-14 sm:py-20 px-4",children:c.jsxs("div",{className:"container mx-auto text-center",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight md:leading-[1.1] mb-6 sm:mb-8",children:i("demo.title")}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-10",children:i("demo.subtitle")}),c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:c.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:i("demo.title"),frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),c.jsx("section",{className:"py-14 sm:py-20 px-4 bg-background",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold leading-tight md:leading-[1.1] text-center mb-10 sm:mb-12",children:i("tabsSection.title")}),c.jsxs(Uy,{defaultValue:((f=o[0])==null?void 0:f.id)??"data",className:"max-w-6xl mx-auto",children:[c.jsx(Vh,{className:"grid w-full grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 mb-12 rounded-full items-center h-auto py-2",children:o.map(h=>c.jsx(bu,{value:h.id,className:"rounded-full w-full text-sm sm:text-base",children:h.label},h.id))}),o.map(h=>c.jsxs(Wa,{value:h.id,className:"mt-6 sm:mt-8 grid lg:grid-cols-2 gap-12 items-start",children:[c.jsxs("div",{className:"space-y-8 py-4",children:[c.jsx("h3",{className:"text-3xl font-bold leading-tight",children:h.title}),c.jsx("div",{className:"space-y-8",children:h.highlights.map(m=>c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:m.title}),c.jsx("p",{className:"text-base font-light leading-relaxed",children:m.description})]},m.title))})]}),c.jsx("div",{children:c.jsx("img",{src:Kq[h.id],alt:h.imageAlt,className:"w-full h-auto"})})]},h.id))]})]})}),c.jsx("section",{className:"py-14 sm:py-20 px-4",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight md:leading-[1.1] text-center mb-8 sm:mb-12",children:i("datasetsSection.title")}),c.jsxs(Uy,{defaultValue:((p=a[0])==null?void 0:p.id)??"free",className:"max-w-6xl mx-auto",children:[c.jsx(Vh,{className:"grid w-full grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-12 rounded-full items-center h-auto py-2",children:a.map(h=>c.jsx(bu,{value:h.id,className:"rounded-full w-full text-sm sm:text-base",children:h.label},h.id))}),c.jsx(Wa,{value:"free",className:"mt-6 sm:mt-8",children:c.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-7 gap-6 sm:gap-8",children:k1.map(h=>c.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[c.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:c.jsx(wg,{src:h.src,alt:`${h.name} Logo`,className:"w-full h-full"})}),c.jsx("span",{className:"text-sm text-center",children:h.name})]},h.name))})}),c.jsx(Wa,{value:"paid",className:"mt-6 sm:mt-8",children:c.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-7 gap-6 sm:gap-8",children:Qq.map(h=>c.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[c.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:c.jsx(wg,{src:h.src,alt:`${h.name} Logo`,className:"w-full h-full"})}),c.jsx("span",{className:"text-sm text-center",children:h.name})]},h.name))})})]})]})}),c.jsx("section",{className:"py-14 sm:py-20 px-4 bg-background",children:c.jsx("div",{className:"container mx-auto",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("img",{src:"/assets/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:i("expertSection.imageAlt"),className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),c.jsxs("div",{className:"space-y-8 py-4",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:i("expertSection.title")}),c.jsx("div",{className:"space-y-8",children:l.map(h=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:h.title}),c.jsx("p",{className:"text-base font-light leading-relaxed",children:h.description})]},h.title))})]})]})})}),c.jsx("section",{className:"py-14 sm:py-20 px-4",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight md:leading-[1.1] text-center mb-8 sm:mb-12",children:i("pricing.title")}),c.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:["freemium","pro"].map(h=>{const m=u[h];return c.jsxs(Ae,{className:"p-8 border border-border",children:[c.jsxs(He,{className:"pb-4",children:[c.jsx(Be,{className:"text-xl font-semibold",children:m.name.toUpperCase()}),c.jsx("div",{className:"text-sm text-muted-foreground",children:m.startingFrom}),c.jsxs("div",{className:"text-4xl font-bold text-foreground",children:[m.price,c.jsx("span",{className:"text-lg font-normal",children:m.priceUnit})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:m.description})]}),c.jsxs(Oe,{className:"space-y-3",children:[m.features.map(g=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(cd,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:g})]},g)),c.jsx(te,{className:"w-full mt-6",children:m.cta})]})]},h)})})]})}),c.jsx("section",{className:"py-14 sm:py-20 px-4 bg-primary",children:c.jsx("div",{className:"container mx-auto text-center",children:c.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[c.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold leading-tight md:leading-[1.1] text-primary-foreground",children:i("finalCta.title")}),c.jsx("p",{className:"text-primary-foreground text-base sm:text-lg",children:i("finalCta.subtitle")}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(St,{to:Le("/signup",n),children:c.jsx(te,{variant:"hero",size:"sm",className:"w-full sm:w-auto text-xs sm:text-sm md:text-base tracking-normal whitespace-normal text-center px-4 sm:px-6 min-h-[44px]",children:i("finalCta.primary")})}),c.jsx(St,{to:Le("/login",n),children:c.jsx(te,{variant:"outline",size:"sm",className:"border-primary-foreground rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground text-xs sm:text-sm md:text-base tracking-normal whitespace-normal text-center px-4 sm:px-6 min-h-[44px]",children:i("finalCta.secondary")})})]})]})})}),c.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[c.jsx("img",{src:"/assets/logo-ecodex-footer.png",alt:"Ecodex",className:"h-12"}),c.jsx("p",{className:"text-white max-w-md",children:i("footer.tagline")}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(te,{variant:"ghost",size:"sm",className:"p-2 text-white hover:text-white hover:bg-white/10",children:c.jsx(YM,{className:"h-4 w-4"})}),c.jsx(te,{variant:"ghost",size:"sm",className:"p-2 text-white hover:text-white hover:bg-white/10",children:c.jsx(Tb,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-white/20",children:[c.jsx("div",{className:"text-white text-sm",children:i("footer.copyright")}),c.jsxs("div",{className:"flex space-x-6 text-sm text-white",children:[c.jsx(St,{to:Le("/privacy",n),className:"hover:text-white transition-colors",children:i("footer.legal.privacy")}),c.jsx(St,{to:Le("/terms",n),className:"hover:text-white transition-colors",children:i("footer.legal.terms")}),c.jsx(St,{to:Le("/cookies",n),className:"hover:text-white transition-colors",children:i("footer.legal.cookies")})]})]})]})})})]})},Gt=y.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Gt.displayName="Input";var Gq="Label",SA=y.forwardRef((e,t)=>c.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SA.displayName=Gq;var _A=SA;const Yq=ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=y.forwardRef(({className:e,...t},n)=>c.jsx(_A,{ref:n,className:oe(Yq(),e),...t}));Ve.displayName=_A.displayName;const jA=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:o=""})=>{const a={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return c.jsxs(te,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${a[e]} ${o}`,children:[n?c.jsx(Ao,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx("span",{className:"mr-2",children:s}),i]})},EA=y.createContext(void 0),kA=()=>{const e=y.useContext(EA);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},CA=({children:e})=>{const[t,n]=y.useState({loading:{google:!1},lastError:null}),r=(o,a)=>{n(l=>({...l,loading:{...l.loading,[o]:a}}))},i=o=>{n(a=>({...a,lastError:o}))},s=()=>{i(null)};return c.jsx(EA.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},Jq=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[o,a]=y.useState(!1),{toast:l}=Vt(),{signIn:u,signInWithGoogle:d}=jt(),{ssoState:f,setProviderLoading:p,setLastError:h}=kA(),m=vi(),{language:g}=en(),{t:b}=nt("pages",{keyPrefix:"login"});y.useEffect(()=>{try{const S=new URLSearchParams(m.search).get("trial_expired")==="true",j=sessionStorage.getItem("trial_expired")==="true";(S||j)&&(a(!0),sessionStorage.removeItem("trial_expired"))}catch(w){console.error("Failed to parse trial_expired flags",w)}},[m]);const v=async w=>{w.preventDefault(),s(!0),h(null);try{const S=await u(e,n);S.error&&(S.error.code==="TRIAL_EXPIRED"&&a(!0),l({variant:"destructive",title:b("toasts.error.title"),description:S.error.message}),h(S.error.message))}catch{l({variant:"destructive",title:b("toasts.error.title"),description:b("toasts.error.unexpected")}),h(b("errors.unexpected"))}finally{s(!1)}},x=async w=>{p(w,!0),h(null);try{const S=await d();S.error&&(l({variant:"destructive",title:b("toasts.error.googleTitle"),description:S.error.message}),h(S.error.message))}catch{l({variant:"destructive",title:b("toasts.error.googleTitle"),description:b("toasts.error.unexpected")}),h(b("errors.unexpected"))}finally{p(w,!1)}};return c.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"mb-6",children:c.jsxs(St,{to:Le("/",g),className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[c.jsx(ZR,{className:"w-4 h-4 mr-2"}),b("back")]})}),c.jsxs(Ae,{children:[c.jsxs(He,{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:c.jsx("img",{src:"/assets/logo-ecodex-auth.png",alt:"Ecodex",className:"w-full h-full object-contain"})}),c.jsx(Be,{className:"text-2xl",children:b("title")}),c.jsx(Ln,{children:b("subtitle")})]}),c.jsxs(Oe,{children:[o&&c.jsxs(Vr,{variant:"destructive",className:"mb-6",children:[c.jsx(Ms,{className:"h-4 w-4"}),c.jsx(Wr,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium",children:b("trial.title")}),c.jsx("p",{children:b("trial.description")})]})})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"email",children:b("email")}),c.jsx(Gt,{id:"email",type:"email",value:e,onChange:w=>t(w.target.value),required:!0,placeholder:b("placeholders.email")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"password",children:b("password")}),c.jsx(Gt,{id:"password",type:"password",value:n,onChange:w=>r(w.target.value),required:!0,placeholder:b("placeholders.password")})]}),c.jsx(te,{type:"submit",className:"w-full",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(Ao,{className:"w-4 h-4 mr-2 animate-spin"}),b("loading")]}):b("submit")})]}),c.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:c.jsx("span",{children:b("or")})}),c.jsx(jA,{provider:"google",onClick:()=>x("google"),loading:f.loading.google,disabled:i||f.loading.google,icon:c.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:b("google")}),f.lastError&&c.jsxs(Vr,{variant:"destructive",className:"mt-4",children:[c.jsx(Ms,{className:"h-4 w-4"}),c.jsx(Wr,{children:f.lastError})]}),c.jsx("div",{className:"text-center mt-6",children:c.jsxs("p",{className:"text-sm text-gray-600",children:[b("noAccount")," "," ",c.jsx(St,{to:Le("/signup",g),className:"text-blue-600 hover:underline",children:b("signUp")})]})})]})]})]})})},R1=()=>c.jsx(CA,{children:c.jsx(Jq,{})}),Xq=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(""),[o,a]=y.useState(""),[l,u]=y.useState(""),[d,f]=y.useState(""),[p,h]=y.useState(!1),{toast:m}=Vt(),{signUp:g,signInWithGoogle:b}=jt(),{ssoState:v,setProviderLoading:x,setLastError:w}=kA(),{language:S}=en(),{t:j}=nt("pages",{keyPrefix:"signup"}),_=async T=>{if(T.preventDefault(),n!==i){m({variant:"destructive",title:j("errors.title"),description:j("errors.passwordMismatch")});return}if(n.length<6){m({variant:"destructive",title:j("errors.title"),description:j("errors.passwordLength")});return}h(!0),w(null);try{const I=await g(e,n,{firstName:o,lastName:l,company:d||"Mon Entreprise"});I.error?(m({variant:"destructive",title:j("toasts.error.title"),description:I.error.message}),w(I.error.message)):(m({title:j("toasts.success.title"),description:j("toasts.success.description")}),setTimeout(()=>{window.location.href=Le("/login",S)},2e3))}catch{m({variant:"destructive",title:j("toasts.error.title"),description:j("toasts.error.unexpected")}),w(j("errors.unexpected"))}finally{h(!1)}},C=async T=>{x(T,!0),w(null);try{const I=await b();I.error&&(m({variant:"destructive",title:j("toasts.error.googleTitle"),description:I.error.message}),w(I.error.message))}catch{m({variant:"destructive",title:j("toasts.error.googleTitle"),description:j("toasts.error.unexpected")}),w(j("errors.unexpected"))}finally{x(T,!1)}};return c.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"mb-6",children:c.jsxs(St,{to:Le("/",S),className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[c.jsx(ZR,{className:"w-4 h-4 mr-2"}),j("back")]})}),c.jsxs(Ae,{children:[c.jsxs(He,{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:c.jsx("img",{src:"/assets/logo-ecodex-auth.png",alt:"Ecodex",className:"w-full h-full object-contain"})}),c.jsx(Be,{className:"text-2xl",children:j("title")}),c.jsx(Ln,{children:j("subtitle")})]}),c.jsxs(Oe,{children:[c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"firstName",children:j("firstName")}),c.jsx(Gt,{id:"firstName",type:"text",value:o,onChange:T=>a(T.target.value),required:!0,placeholder:j("placeholders.firstName")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"lastName",children:j("lastName")}),c.jsx(Gt,{id:"lastName",type:"text",value:l,onChange:T=>u(T.target.value),required:!0,placeholder:j("placeholders.lastName")})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"company",children:j("company")}),c.jsx(Gt,{id:"company",type:"text",value:d,onChange:T=>f(T.target.value),required:!0,placeholder:j("placeholders.company")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"email",children:j("email")}),c.jsx(Gt,{id:"email",type:"email",value:e,onChange:T=>t(T.target.value),required:!0,placeholder:j("placeholders.email")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"password",children:j("password")}),c.jsx(Gt,{id:"password",type:"password",value:n,onChange:T=>r(T.target.value),required:!0,placeholder:j("placeholders.password")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"confirmPassword",children:j("confirmPassword")}),c.jsx(Gt,{id:"confirmPassword",type:"password",value:i,onChange:T=>s(T.target.value),required:!0,placeholder:j("placeholders.confirmPassword")})]}),c.jsx(te,{type:"submit",className:"w-full",disabled:p,children:p?c.jsxs(c.Fragment,{children:[c.jsx(Ao,{className:"w-4 h-4 mr-2 animate-spin"}),j("loading")]}):j("submit")})]}),c.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:c.jsx("span",{children:j("or")})}),c.jsx(jA,{provider:"google",onClick:()=>C("google"),loading:v.loading.google,disabled:p||v.loading.google,icon:c.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:j("google")}),v.lastError&&c.jsxs(Vr,{variant:"destructive",className:"mt-4",children:[c.jsx(Ms,{className:"h-4 w-4"}),c.jsx(Wr,{children:v.lastError})]}),c.jsx("div",{className:"text-center mt-6",children:c.jsxs("p",{className:"text-sm text-gray-600",children:[j("alreadyAccount")," "," ",c.jsx(St,{to:Le("/login",S),className:"text-blue-600 hover:underline",children:j("login")})]})})]})]})]})})},P1=()=>c.jsx(CA,{children:c.jsx(Xq,{})});function Ht({className:e,...t}){return c.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",e),...t})}const T1=()=>{const[e]=T5(),t=Al(),{toast:n}=Vt(),[r,i]=y.useState(!0),[s,o]=y.useState(null),{language:a}=en(),{t:l}=nt("pages",{keyPrefix:"authCallback"});y.useEffect(()=>{(async()=>{var f;try{const{data:p,error:h}=await re.auth.getSession();if(h)throw new Error(l("errors.auth",{message:h.message??""}));const m=e.get("type"),g=e.get("workspaceId"),b=e.get("role");if((f=p.session)!=null&&f.user){console.log("Utilisateur authentifi:",p.session.user.email);try{const{data:v,error:x}=await re.from("users").select("workspace_id").eq("user_id",p.session.user.id).single();if(!x&&(v!=null&&v.workspace_id)){const{data:w,error:S}=await re.rpc("workspace_has_access",{workspace_uuid:v.workspace_id});if(!S&&w===!1){try{sessionStorage.setItem("trial_expired","true")}catch(j){console.warn("Impossible de persister le flag trial_expired",j)}await re.auth.signOut(),t(`${Le("/login",a)}?trial_expired=true`);return}}}catch(v){console.warn("Vrification essai expir (OAuth) choue:",v)}m==="invite"&&g&&b?await u(p.session.user,g,b):t(Le("/search",a))}else throw new Error(l("errors.noSession"))}catch(p){console.error("Erreur lors du callback auth:",p);const h=p instanceof Error?p.message:String(p);o(h||l("errors.generic"))}finally{i(!1)}})()},[e,t,a,l]);const u=async(d,f,p)=>{var h,m;try{const{data:g}=await re.from("users").select("*").eq("user_id",d.id).eq("workspace_id",f).single();if(g){n({title:l("toasts.alreadyMember.title"),description:l("toasts.alreadyMember.description")}),t(Le("/search",a));return}const{data:b}=await re.from("workspaces").select("name").eq("id",f).single(),v=(b==null?void 0:b.name)||"Workspace",{error:x}=await re.from("users").insert({workspace_id:f,first_name:((h=d.user_metadata)==null?void 0:h.first_name)||"",last_name:((m=d.user_metadata)==null?void 0:m.last_name)||"",company:v,email:d.email,plan_type:"freemium",subscribed:!1,assigned_by:d.id});if(x)throw x;const{error:w}=await re.from("user_roles").insert({user_id:d.id,workspace_id:f,role:p,assigned_by:d.id,is_supra_admin:!1});if(w)throw w;const{error:S}=await re.from("search_quotas").insert({user_id:d.id,exports_limit:10,clipboard_copies_limit:10,favorites_limit:10});S&&console.warn("Erreur quotas (non critique):",S),n({title:l("toasts.welcome.title"),description:l("toasts.welcome.description",{workspace:v})}),t(Le("/search",a))}catch(g){console.error("Erreur lors de l'ajout au workspace:",g),n({variant:"destructive",title:l("toasts.joinError.title"),description:l("toasts.joinError.description")}),t(Le("/search",a))}};return r?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs(He,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx(ud,{className:"h-6 w-6 text-primary animate-spin"})}),c.jsx(Be,{children:l("loadingTitle")})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsx(Ht,{className:"h-4 w-full"}),c.jsx(Ht,{className:"h-4 w-3/4"})]})]})}):s?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs(He,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center",children:c.jsx(BM,{className:"h-6 w-6 text-destructive"})}),c.jsx(Be,{className:"text-destructive",children:l("errorTitle")})]}),c.jsx(Oe,{children:c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s??l("errors.generic")})})]})}):c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs(He,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:c.jsx(cd,{className:"h-6 w-6 text-green-600"})}),c.jsx(Be,{children:l("successTitle")})]}),c.jsx(Oe,{children:c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:l("redirectMessage")})})]})})},By="7.16.2";function hn(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var vw=hn;hn.prototype._events=void 0;hn.prototype._maxListeners=void 0;hn.defaultMaxListeners=10;hn.prototype.setMaxListeners=function(e){if(!Zq(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};hn.prototype.emit=function(e){var t,n,r,i,s,o;if(this._events||(this._events={}),e==="error"&&(!this._events.error||ju(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(n=this._events[e],RA(n))return!1;if(Bi(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(ju(n))for(i=Array.prototype.slice.call(arguments,1),o=n.slice(),r=o.length,s=0;s<r;s++)o[s].apply(this,i);return!0};hn.prototype.addListener=function(e,t){var n;if(!Bi(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Bi(t.listener)?t.listener:t),this._events[e]?ju(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,ju(this._events[e])&&!this._events[e].warned&&(RA(this._maxListeners)?n=hn.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};hn.prototype.on=hn.prototype.addListener;hn.prototype.once=function(e,t){if(!Bi(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};hn.prototype.removeListener=function(e,t){var n,r,i,s;if(!Bi(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||Bi(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(ju(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};hn.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Bi(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};hn.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Bi(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};hn.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Bi(t))return 1;if(t)return t.length}return 0};hn.listenerCount=function(e,t){return e.listenerCount(t)};function Bi(e){return typeof e=="function"}function Zq(e){return typeof e=="number"}function ju(e){return typeof e=="object"&&e!==null}function RA(e){return e===void 0}const e9=Bs(vw);function t9(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var PA=t9,n9=vw,r9=PA;function yd(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}r9(yd,n9);yd.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};yd.prototype.getModifiedState=function(e){return this.fn(e)};yd.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var i9=yd;function s9(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function o9(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var yw={escapeFacetValue:s9,unescapeFacetValue:o9};function a9(e){return typeof e=="object"&&e!==null?xw(Array.isArray(e)?[]:{},e):e}function Kh(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function xw(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(Kh(i)&&Kh(r)?e[n]=xw(i,r):e[n]=a9(r))}return e}function l9(e){Kh(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];Kh(r)&&xw(e,r)}return e}var bw=l9;function c9(e){return e&&Object.keys(e).length>0}var ww=c9;function u9(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Sw=u9;function yc(e){e=e||{},this.params=e.params||[]}yc.prototype={constructor:yc,addParams:function(e){var t=this.params.slice();return t.push(e),new yc({params:t})},removeParams:function(e){return new yc({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var TA=yc;function Vy(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}Vy.prototype={constructor:Vy};var NA=Vy,xf=bw;function bf(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var Lt={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:Lt._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:Lt._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),o=n.getHierarchicalRefinement(i),a=n._getHierarchicalFacetSeparator(s);if(o.length>0&&o[0].split(a).length>1){var l=o[0].split(a).slice(0,-1).reduce(function(d,f,p){return d.concat({attribute:s.attributes[p],value:p===0?f:[d[d.length-1].value,f].join(a)})},[]);l.forEach(function(u,d){var f=Lt._getDisjunctiveFacetSearchParams(n,u.attribute,d===0);function p(g){return s.attributes.some(function(b){return b===g.split(":")[0]})}var h=(f.facetFilters||[]).reduce(function(g,b){if(Array.isArray(b)){var v=b.filter(function(x){return!p(x)});v.length>0&&g.push(v)}return typeof b=="string"&&!p(b)&&g.push(b),g},[]),m=l[d-1];d>0?f.facetFilters=h.concat(m.attribute+":"+m.value):h.length>0?f.facetFilters=h:delete f.facetFilters,r.push({indexName:t,params:f})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:Lt._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Lt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Lt._getFacetFilters(e),r=Lt._getNumericFilters(e),i=Lt._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),bf(xf({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(a){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[a]&&e.disjunctiveFacetsRefinements[a].length>0?"disjunctive("+a+")":a})).concat(Lt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Lt._getFacetFilters(e),r=Lt._getNumericFilters(e),i=Lt._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var o=e.getQueryParams();return delete o.highlightPreTag,delete o.highlightPostTag,delete o.index,bf(xf({},o,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Lt._getFacetFilters(e,t,n),i=Lt._getNumericFilters(e,t),s=Lt._getTagFilters(e),o={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(o.tagFilters=s);var a=e.getHierarchicalFacetByName(t);return a?o.facets=Lt._getDisjunctiveHierarchicalFacetAttribute(e,a,n):o.facets=t,i.length>0&&(o.numericFilters=i),r.length>0&&(o.facetFilters=r),bf(xf({},e.getQueryParams(),o))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var o=i[s]||[];t!==r&&o.forEach(function(a){if(Array.isArray(a)){var l=a.map(function(u){return r+s+u});n.push(l)}else n.push(r+s+a)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(l){var u=i[l]||[];u.slice().sort().forEach(function(d){r.push(l+":"+d)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(l){var u=s[l]||[];u.sort().forEach(function(d){r.push(l+":-"+d)})});var o=e.disjunctiveFacetsRefinements||{};Object.keys(o).sort().forEach(function(l){var u=o[l]||[];if(!(l===t||!u||u.length===0)){var d=[];u.slice().sort().forEach(function(f){d.push(l+":"+f)}),r.push(d)}});var a=e.hierarchicalFacetsRefinements||{};return Object.keys(a).sort().forEach(function(l){var u=a[l]||[],d=u[0];if(d!==void 0){var f=e.getHierarchicalFacetByName(l),p=e._getHierarchicalFacetSeparator(f),h=e._getHierarchicalRootPath(f),m,g;if(t===l){if(d.indexOf(p)===-1||!h&&n===!0||h&&h.split(p).length===d.split(p).length)return;h?(g=h.split(p).length-1,d=h):(g=d.split(p).length-2,d=d.slice(0,d.lastIndexOf(p))),m=f.attributes[g]}else g=d.split(p).length-1,m=f.attributes[g];m&&r.push([m+":"+d])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var o=e._getHierarchicalFacetSeparator(i),a=s.split(o).length,l=i.attributes.slice(0,a+1);return r.concat(l)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var o=e.getHierarchicalRefinement(t.name)[0]||"",a=o.split(r).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),bf(xf({},Lt._getHitsSearchParams(i),s))}},d9=Lt,_w=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},xd=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function f9(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var h9=f9;function AA(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(AA);throw new Error("The value should be a number, a parsable string or an array of those.")}var p9=AA,m9=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},g9=_w,v9=ww,y9=Sw,ao={addRefinement:function(t,n,r){if(ao.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],o={};return o[n]=s,g9(o,t)},removeRefinement:function(t,n,r){if(r===void 0)return ao.clearRefinement(t,function(s,o){return n===o});var i=""+r;return ao.clearRefinement(t,function(s,o){return n===o&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return ao.isRefined(t,n,r)?ao.removeRefinement(t,n,r):ao.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return v9(t)?{}:t;if(typeof n=="string")return y9(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(o,a){var l=t[a]||[],u=l.filter(function(d){return!n(d,a,r)});return u.length!==l.length&&(i=!0),o[a]=u,o},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},x9=ao,Pg=_w,OA=xd,N1=h9,Wy=bw,qy=ww,A1=Sw,Tg=p9,b9=m9,mt=x9;function jw(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return jw(t[r],n)}):e===t}function w9(e,t){return OA(e,function(n){return jw(n,t)})}function Mn(e){var t=e?Mn._parseNumbers(e):{};t.userToken!==void 0&&!b9(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=Mn.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}Mn.PARAMETERS=Object.keys(new Mn);Mn._parseNumbers=function(e){if(e instanceof Mn)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var o=parseFloat(s);t[i]=isNaN(o)?s:o}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(o){var a=s[o],l=a.map(function(u){return Array.isArray(u)?u.map(function(d){return typeof d=="string"?parseFloat(d):d}):typeof u=="string"?parseFloat(u):u});r[i][o]=l})}),t.numericRefinements=r}return Wy(e,t)};Mn.make=function(t){var n=new Mn(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Mn.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&qy(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):qy(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Mn.prototype={constructor:Mn,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:mt.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:mt.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:mt.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:mt.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=Tg(n);if(this.isNumericRefined(e,t,r))return this;var i=Wy({},this.numericRefinements);return i[e]=Wy({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&jw(i.val,Tg(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return qy(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return A1(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,o){var a=r[o],l={};return a=a||{},Object.keys(a).forEach(function(u){var d=a[u]||[],f=[];d.forEach(function(p){var h=t({val:p,op:u},o,"numeric");h||f.push(p)}),f.length!==d.length&&(n=!0),l[u]=f}),s[o]=l,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:mt.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:mt.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return mt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:mt.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:mt.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:mt.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return mt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:mt.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:mt.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:mt.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:mt.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:Pg(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Pg(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Pg(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?mt.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?mt.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?mt.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=Tg(r),o=w9(this.numericRefinements[t][n],s)!==void 0;return i&&o},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=N1(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return N1(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=Mn.validate(this,t);if(n)throw n;var r=this,i=Mn._parseNumbers(t),s=Object.keys(this).reduce(function(a,l){return a[l]=r[l],a},{}),o=Object.keys(i).reduce(function(a,l){var u=a[l]!==void 0,d=i[l]!==void 0;return u&&!d?A1(a,[l]):(d&&(a[l]=i[l]),a)},s);return new this.constructor(o)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return OA(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var IA=Mn,S9=function(t){return Array.isArray(t)?t.filter(Boolean):[]},_9=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},j9=xd,FA=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,o){var a=o.split(":"),l=j9(r,function(u){return u[0]===a[0]});return a.length>1||!l?(s[0].push(a[0]),s[1].push(a[1]),s):(s[0].push(l[0]),s[1].push(l[1]),s)},[[],[]])};function E9(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var k9=E9;function C9(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function R9(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(o){return i[o]}),index:s,value:i}});return r.sort(function(s,o){for(var a=-1;++a<s.criteria.length;){var l=C9(s.criteria[a],o.criteria[a]);if(l)return a>=n.length?l:n[a]==="desc"?-l:l}return s.index-o.index}),r.map(function(i){return i.value})}var DA=R9,P9=F9,LA=yw,T9=xd,N9=FA,A9=DA,O9=LA.escapeFacetValue,I9=LA.unescapeFacetValue;function F9(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",o=e._getHierarchicalFacetSeparator(i),a=e._getHierarchicalRootPath(i),l=e._getHierarchicalShowParentLevel(i),u=N9(e._getHierarchicalFacetSortBy(i)),d=n.every(function(h){return h.exhaustive}),f=D9(u,o,a,l,s),p=n;return a&&(p=n.slice(a.split(o).length)),p.reduce(f,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}}function D9(e,t,n,r,i){return function(o,a,l){var u=o;if(l>0){var d=0;for(u=o;d<l;){var f=u&&Array.isArray(u.data)?u.data:[];u=T9(f,function(h){return h.isRefined}),d++}}if(u){var p=Object.keys(a.data).map(function(h){return[h,a.data[h]]}).filter(function(h){var m=h[0];return L9(m,u.path||n,i,t,n,r)});u.data=A9(p.map(function(h){var m=h[0],g=h[1];return $9(g,m,t,I9(i),a.exhaustive)}),e[0],e[1])}return o}}function L9(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function $9(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:O9(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var Ng=S9,$c=_w,$A=yw,Mr=xd,ic=_9,M9=FA,O1=k9,MA=DA,I1=$A.escapeFacetValue,UA=$A.unescapeFacetValue,U9=P9;function F1(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function Ag(e,t,n){t&&t[n]&&(e.stats=t[n])}function z9(e,t){return Mr(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function Os(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=$c(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=t.reduce(function(f,p){return p.processingTimeMS===void 0?f:f+p.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var o=e.getRefinedDisjunctiveFacets(),a=F1(e.facets),l=F1(e.disjunctiveFacets),u=1,d=r.facets||{};Object.keys(d).forEach(function(f){var p=d[f],h=z9(e.hierarchicalFacets,f);if(h){var m=h.attributes.indexOf(f),g=ic(e.hierarchicalFacets,function(w){return w.name===h.name});i.hierarchicalFacets[g][m]={attribute:f,data:p,exhaustive:r.exhaustiveFacetsCount}}else{var b=e.disjunctiveFacets.indexOf(f)!==-1,v=e.facets.indexOf(f)!==-1,x;b&&(x=l[f],i.disjunctiveFacets[x]={name:f,data:p,exhaustive:r.exhaustiveFacetsCount},Ag(i.disjunctiveFacets[x],r.facets_stats,f)),v&&(x=a[f],i.facets[x]={name:f,data:p,exhaustive:r.exhaustiveFacetsCount},Ag(i.facets[x],r.facets_stats,f))}}),this.hierarchicalFacets=Ng(this.hierarchicalFacets),o.forEach(function(f){var p=t[u],h=p&&p.facets?p.facets:{},m=e.getHierarchicalFacetByName(f);Object.keys(h).forEach(function(g){var b=h[g],v;if(m){v=ic(e.hierarchicalFacets,function(S){return S.name===m.name});var x=ic(i.hierarchicalFacets[v],function(S){return S.attribute===g});if(x===-1)return;i.hierarchicalFacets[v][x].data=i.persistHierarchicalRootCount?O1(i.hierarchicalFacets[v][x].data,b):$c(b,i.hierarchicalFacets[v][x].data)}else{v=l[g];var w=r.facets&&r.facets[g]||{};i.disjunctiveFacets[v]={name:g,data:O1(w,b),exhaustive:p.exhaustiveFacetsCount},Ag(i.disjunctiveFacets[v],p.facets_stats,g),e.disjunctiveFacetsRefinements[g]&&e.disjunctiveFacetsRefinements[g].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[g].indexOf(UA(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(f){var p=e.getHierarchicalFacetByName(f),h=e._getHierarchicalFacetSeparator(p),m=e.getHierarchicalRefinement(f);m.length===0||m[0].split(h).length<2||t.slice(u).forEach(function(g){var b=g&&g.facets?g.facets:{};Object.keys(b).forEach(function(v){var x=b[v],w=ic(e.hierarchicalFacets,function(C){return C.name===p.name}),S=ic(i.hierarchicalFacets[w],function(C){return C.attribute===v});if(S!==-1){var j={};if(m.length>0&&!i.persistHierarchicalRootCount){var _=m[0].split(h)[0];j[_]=i.hierarchicalFacets[w][S].data[_]}i.hierarchicalFacets[w][S].data=$c(j,x,i.hierarchicalFacets[w][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(f){var p=e.facetsExcludes[f],h=a[f];i.facets[h]={name:f,data:d[f],exhaustive:r.exhaustiveFacetsCount},p.forEach(function(m){i.facets[h]=i.facets[h]||{name:f},i.facets[h].data=i.facets[h].data||{},i.facets[h].data[m]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(U9(e)),this.facets=Ng(this.facets),this.disjunctiveFacets=Ng(this.disjunctiveFacets),this._state=e}Os.prototype.getFacetByName=function(e){function t(n){return n.name===e}return Mr(this.facets,t)||Mr(this.disjunctiveFacets,t)||Mr(this.hierarchicalFacets,t)};function H9(e,t){function n(d){return d.name===t}if(e._state.isConjunctiveFacet(t)){var r=Mr(e.facets,n);return r?Object.keys(r.data).map(function(d){var f=I1(d);return{name:d,escapedValue:f,count:r.data[d],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,d)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Mr(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(d){var f=I1(d);return{name:d,escapedValue:f,count:i.data[d],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=Mr(e.hierarchicalFacets,n);if(!s)return s;var o=e._state.getHierarchicalFacetByName(t),a=e._state._getHierarchicalFacetSeparator(o),l=UA(e._state.getHierarchicalRefinement(t)[0]||"");l.indexOf(o.rootPath)===0&&(l=l.replace(o.rootPath+a,""));var u=l.split(a);return u.unshift(t),zA(s,u,0),s}}function zA(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){zA(r,t,n+1)})}function HA(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(a){return HA(e,a,n,r+1)}),s=e(i,n[r]),o=$c({data:s},t);return o}Os.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function B9(e,t){return t.sort(e)}function V9(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],o=s.reduce(function(u,d,f){return u[d]=f,u},{});e.forEach(function(u){var d=u.path||u.name,f=i.indexOf(d)>-1;!f&&o[d]!==void 0?n[o[d]]=u:f||r.push(u)}),n=n.filter(function(u){return u});var a=t.sortRemainingBy,l;return a==="hidden"?n:(a==="alpha"?l=[["path","name"],["asc","asc"]]:l=[["count"],["desc"]],n.concat(MA(r,l[0],l[1])))}function W9(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Os.prototype.getFacetValues=function(e,t){var n=H9(this,e);if(n){var r=$c(t,{sortBy:Os.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var o=i._state.getHierarchicalFacetByName(n.name);s=o.attributes}return HA(function(a,l){if(r.facetOrdering){var u=W9(i,l);if(u)return V9(a,u)}if(Array.isArray(r.sortBy)){var d=M9(r.sortBy,Os.DEFAULT_SORT);return MA(a,d[0],d[1])}else if(typeof r.sortBy=="function")return B9(r.sortBy,a);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};Os.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return D1(this.facets,e);if(this._state.isDisjunctiveFacet(e))return D1(this.disjunctiveFacets,e)};function D1(e,t){var n=Mr(e,function(r){return r.name===t});return n&&n.stats}Os.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(Og(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(Og(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(Og(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(q9(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(o){n.push({type:"numeric",attributeName:r,name:o,numericValue:o,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function Og(e,t,n,r,i){var s=Mr(i,function(l){return l.name===n}),o=s&&s.data&&s.data[r]?s.data[r]:0,a=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:o,exhaustive:a}}function q9(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),o=n.split(s),a=Mr(r,function(p){return p.name===t}),l=o.reduce(function(p,h){var m=p&&Mr(p.data,function(g){return g.name===h});return m!==void 0?m:p},a),u=l&&l.count||0,d=l&&l.exhaustive||!1,f=l&&l.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:d}}var BA=Os,K9=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},Q9=xd,G9=K9;function Y9(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function J9(e,t){var n={};t.forEach(function(s){s.forEach(function(o,a){e.includes(o.objectID)||(n[o.objectID]?n[o.objectID]={indexSum:n[o.objectID].indexSum+a,count:n[o.objectID].count+1}:n[o.objectID]={indexSum:a,count:1})})});var r=Y9(n,t.length),i=r.reduce(function(s,o){var a=Q9(G9(t),function(l){return l.objectID===o.objectID});return a?s.concat(a):s},[]);return i}var X9=J9,VA="3.26.0",Z9=vw,e7=i9,WA=yw.escapeFacetValue,t7=PA,n7=bw,r7=ww,i7=Sw,qA=TA,s7=NA,Hs=d9,Ew=IA,Ky=BA,o7=X9,KA=VA;function ee(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+KA+")"),this.setClient(e);var i=n||{};i.index=t,this.state=Ew.make(i),this.recommendState=new qA({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}t7(ee,Z9);ee.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};ee.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};ee.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};ee.prototype.recommend=function(){return this._recommend(),this};ee.prototype.getQuery=function(){var e=this.state;return Hs._getHitsSearchParams(e)};ee.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Hs._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new Ky(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Ky(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};ee.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=n7({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:i7(Hs._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var o=this.client.initIndex(r.index);if(typeof o.findAnswers!="function")throw new Error(s);return o.findAnswers(r.query,e.queryLanguages,i)};ee.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var o=this.state.setQueryParameters(r||{}),a=o.isDisjunctiveFacet(e),l=Hs.getSearchForFacetQuery(e,t,n,o);this._currentNbQueries++;var u=this,d;i?d=this.client.searchForFacetValues([{indexName:o.index,params:l}]):s?d=this.client.initIndex(o.index).searchForFacetValues(l):(delete l.facetName,d=this.client.search([{type:"facet",facet:e,indexName:o.index,params:l}]).then(function(h){return h.results[0]})),this.emit("searchForFacetValues",{state:o,facet:e,query:t});var f=this.lastResults&&this.lastResults.index===o.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return d.then(function(h){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h=Array.isArray(h)?h[0]:h,h.facetHits.forEach(function(m,g){if(f.indexOf(m.value)>-1){h.facetHits.splice(g,1);return}m.escapedValue=WA(m.value),m.isRefined=a?o.isDisjunctiveFacetRefined(e,m.escapedValue):o.isFacetRefined(e,m.escapedValue)}),h},function(p){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p})};ee.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var o=this,a;return a=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:Hs._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),a.then(function(u){return o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(d){d.escapedValue=WA(d.value),d.isRefined=s?i.isDisjunctiveFacetRefined(e,d.escapedValue):i.isFacetRefined(e,d.escapedValue)}),u},function(l){throw o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),l})};ee.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};ee.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};ee.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};ee.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};ee.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};ee.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};ee.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};ee.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};ee.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};ee.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};ee.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};ee.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};ee.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};ee.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};ee.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};ee.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};ee.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};ee.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};ee.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};ee.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};ee.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};ee.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};ee.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};ee.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};ee.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};ee.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function QA(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}ee.prototype.setCurrentPage=QA;ee.prototype.setPage=QA;ee.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};ee.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};ee.prototype.setState=function(e){return this._change({state:Ew.make(e),isPageReset:!1}),this};ee.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Ew(e),this};ee.prototype.hasRefinements=function(e){return r7(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};ee.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};ee.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};ee.prototype.hasTag=function(e){return this.state.isTagRefined(e)};ee.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};ee.prototype.getIndex=function(){return this.state.index};function GA(){return this.state.page}ee.prototype.getCurrentPage=GA;ee.prototype.getPage=GA;ee.prototype.getTags=function(){return this.state.tagRefinements};ee.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(o){t.push({value:o,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(o){t.push({value:o,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(o){t.push({value:o,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(o){var a=s[o];t.push({value:a,operator:o,type:"numeric"})}),t};ee.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};ee.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};ee.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Hs._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(a){var l=a.getModifiedState(t),u=l.index?Hs._getQueries(l.index,l):[];return n.push({state:l,queriesCount:u.length,helper:a}),a.emit("search",{state:l,results:a.lastResults}),u}),s=Array.prototype.concat.apply(r,i),o=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,o));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(a){this.emit("error",{error:a})}};ee.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(a){var l=a.getModifiedState(e),u=Hs._getCompositionQueries(l);return t.push({state:l,queriesCount:u.length,helper:a}),a.emit("search",{state:l,results:a.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var o=i[0];try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(a){this.emit("error",{error:a})}};ee.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,o=this.derivedHelpers.map(function(u){var d=u.getModifiedState(e).index;if(!d)return[];var f=u.getModifiedRecommendState(new qA);return r.push({state:f,index:d,helper:u}),i=Array.prototype.concat.apply(i,f.params.map(function(p){return p.$$id})),u.emit("fetch",{recommend:{state:f,results:u.lastRecommendResults}}),f._buildQueries(d,s)}),a=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),o);if(a.length!==0){if(a.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var l=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(a).then(this._dispatchRecommendResponse.bind(this,l,r,i)).catch(this._dispatchRecommendError.bind(this,l))}catch(u){this.emit("error",{error:u})}}};ee.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(o,a){return a!=="results"&&(o[a]=n[a]),o},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(o){var a=o.state,l=o.queriesCount,u=o.helper,d=i.splice(0,l);if(!a.index){u.emit("result",{results:null,state:a});return}u.lastResults=new Ky(a,d,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:a})})}};ee.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(a){return i[a]===void 0}).forEach(function(a,l){s[a]||(s[a]=[]),s[a].push(l)}),Object.keys(s).forEach(function(a){var l=s[a],u=r.results[l[0]];if(l.length===1){i[a]=u;return}i[a]=Object.assign({},u,{hits:o7(n,l.map(function(d){return r.results[d].hits}))})});var o={};n.forEach(function(a){o[a]=i[a]}),t.forEach(function(a){var l=a.state,u=a.helper;if(!a.index){u.emit("recommend:result",{results:null,state:l});return}u.lastRecommendResults=new s7(l,o),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:l}})})}};ee.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};ee.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};ee.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};ee.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};ee.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};ee.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};ee.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};ee.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+KA+")"),this.client=e,this)};ee.prototype.getClient=function(){return this.client};ee.prototype.derive=function(e,t){var n=new e7(this,e,t);return this.derivedHelpers.push(n),n};ee.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};ee.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var a7=ee,YA=a7,l7=TA,c7=NA,u7=IA,d7=BA;function qo(e,t,n,r){return new YA(e,t,n,r)}qo.version=VA;qo.AlgoliaSearchHelper=YA;qo.SearchParameters=u7;qo.RecommendParameters=l7;qo.SearchResults=d7;qo.RecommendResults=c7;var f7=qo;const an=Bs(f7);var h7=0;function p7(e){e.dependsOn==="recommend"&&(e.$$id=h7++)}function zt(){}function m7(e){return Object.prototype.toString.call(e).slice(8,-1)}function Dl(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(m7(e),`).

`).concat(t))}function L1(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,o){return i.isNumericRefined(o)?s.removeNumericRefinement(o):i.isHierarchicalFacet(o)?s.removeHierarchicalFacetRefinement(o):i.isDisjunctiveFacet(o)?s.removeDisjunctiveFacetRefinement(o):i.isConjunctiveFacet(o)?s.removeFacetRefinement(o):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var g7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JA=/[&<>"']/g,v7=RegExp(JA.source);function y7(e){return e&&v7.test(e)?e.replace(JA,function(t){return g7[t]}):e}var x7={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},XA=/&(amp|quot|lt|gt|#39);/g,b7=RegExp(XA.source);function ZA(e){return e&&b7.test(e)?e.replace(XA,function(t){return x7[t]}):e}function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function w7(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function S7(e){return Qy(e)==="object"&&e!==null}function eO(e){if(!S7(e)||w7(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function _7(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(this,arguments)}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){tO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tO(e,t,n){return t=j7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=E7(e,"string");return Eu(t)=="symbol"?t:String(t)}function E7(e,t){if(Eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},pn={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function nO(e){return y7(e).replace(new RegExp(pl.highlightPreTag,"g"),pn.highlightPreTag).replace(new RegExp(pl.highlightPostTag,"g"),pn.highlightPostTag)}function Qh(e){return eO(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return Ia(Ia({},t),{},tO({},n,Qh(e[n])))},{}):Array.isArray(e)?e.map(Qh):Ia(Ia({},e),{},{value:nO(e.value)})}function k7(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=Gy({},(_7(t),t));return n._highlightResult&&(n._highlightResult=Qh(n._highlightResult)),n._snippetResult&&(n._snippetResult=Qh(n._snippetResult)),n}),e.__escaped=!0),e}function C7(e){return e.map(function(t){return Ia(Ia({},t),{},{highlighted:nO(t.highlighted)})})}function rO(e){var t=pn.highlightPreTag,n=pn.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function R7(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function M1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(n),!0).forEach(function(r){T7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T7(e,t,n){return t=N7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N7(e){var t=A7(e,"string");return ml(t)=="symbol"?t:String(t)}function A7(e,t){if(ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function O7(e,t){return L7(e)||D7(e,t)||F7(e,t)||I7()}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F7(e,t){if(e){if(typeof e=="string")return U1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U1(e,t)}}function U1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function L7(e){if(Array.isArray(e))return e}function $7(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=l[1],f=l[2],p=f===void 0?"Filter Applied":f,h=l[3],m=h===void 0?{}:h,g=l[0].split(":"),b=O7(g,2),v=b[0],x=b[1],w=typeof r=="string"?r:r(d);if(l.length===1&&ml(l[0])==="object")t.sendEventToInsights(l[0]);else if(v==="click"&&l.length>=2&&l.length<=4&&!R7(n,w,d)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:x,payload:P7({eventName:p,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(w,":").concat(d)]},m),attribute:w})}};return s}function iO(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ig(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(n),!0).forEach(function(r){M7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M7(e,t,n){return t=U7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=z7(e,"string");return gl(t)=="symbol"?t:String(t)}function z7(e,t){if(gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7(e,t){return q7(e)||W7(e,t)||V7(e,t)||B7()}function B7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(e,t){if(e){if(typeof e=="string")return H1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H1(e,t)}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function q7(e){if(Array.isArray(e))return e}function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function K7(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function sO(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&gl(r[0])==="object")return[r[0]];var s=r[0].split(":"),o=H7(s,2),a=o[0],l=o[1],u=r[1],d=r[2],f=r[3]||{};if(!u)return[];if((a==="click"||a==="conversion")&&!d)return[];var p=Array.isArray(u)?u:[u];if(p.length===0)return[];var h=p[0].__queryID,m=K7(p),g=m.map(function(v){return v.map(function(x){return x.objectID})}),b=m.map(function(v){return v.map(function(x){return x.__position})});return a==="view"?i.status!=="idle"?[]:m.map(function(v,x){var w;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:Ig({eventName:d||"Hits Viewed",index:((w=t.lastResults)===null||w===void 0?void 0:w.index)||t.state.index,objectIDs:g[x]},f),hits:v,eventModifier:l}}):a==="click"?m.map(function(v,x){var w;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:Ig({eventName:d||"Hit Clicked",index:((w=t.lastResults)===null||w===void 0?void 0:w.index)||t.state.index,queryID:h,objectIDs:g[x],positions:b[x]},f),hits:v,eventModifier:l}}):a==="conversion"?m.map(function(v,x){var w;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:Ig({eventName:d||"Hit Converted",index:((w=t.lastResults)===null||w===void 0?void 0:w.index)||t.state.index,queryID:h,objectIDs:g[x]},f),hits:v,eventModifier:l}}):[]}function Q7(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,o=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=sO({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});f.forEach(function(p){p.eventType==="click"&&p.eventModifier==="internal"&&i[p.eventType]||(i[p.eventType]=!0,t.sendEventToInsights(p))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return o}function G7(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=sO({widgetType:n,helper:t,methodName:"bindEvent",args:a,instantSearchInstance:r});return u.length?"data-insights-event=".concat(iO(u)):""};return i}function Xn(e){return e.$$type==="ais.index"}function Yy(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(Xn).forEach(function(r){return Yy(e,r)})}var Y7=Promise.resolve();function sc(e){var t=null,n=!1,r=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];t===null&&(t=Y7.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,o)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function J7(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function Ki(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return J7(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function X7(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function Z7(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function Gh(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function eK(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function B1(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",o=n[i]||r[i],a=n[s]||r[s];return[o,a]}else return[e.applicationID,e.apiKey]}function kw(e){var t=pn.highlightPostTag,n=pn.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(o){var a=o.split(t);s.push({value:a[0],isHighlighted:!0}),a[1]!==""&&s.push({value:a[1],isHighlighted:!1})}),s}var tK=new RegExp(/\w/i);function nK(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,o=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!tK.test(ZA(i.value))&&o===s?o:i.isHighlighted}function bd(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function Fg(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:Z7(r)},o=Gh(i,function(h){return h.name===n}),a;if(t==="hierarchical"){for(var l=e.getHierarchicalFacetByName(n),u=r.split(l.separator),d=function(m){return function(g){return m[g]}},f=function(m){o=o&&o.data&&Gh(Object.keys(o.data).map(d(o.data)),function(g){return g.name===u[m]})},p=0;o!==void 0&&p<u.length;++p)f(p);a=o&&o.count}else a=o&&o.data&&o.data[s.name];return a!==void 0&&(s.count=a),o&&o.exhaustive!==void 0&&(s.exhaustive=o.exhaustive),s}function rK(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,o=s===void 0?{}:s,a=t.facetsExcludes,l=a===void 0?{}:a,u=t.disjunctiveFacetsRefinements,d=u===void 0?{}:u,f=t.hierarchicalFacetsRefinements,p=f===void 0?{}:f,h=t.numericRefinements,m=h===void 0?{}:h,g=t.tagRefinements,b=g===void 0?[]:g;return Object.keys(o).forEach(function(v){var x=o[v];x.forEach(function(w){i.push(Fg(t,"facet",v,w,r.facets))})}),Object.keys(l).forEach(function(v){var x=l[v];x.forEach(function(w){i.push({type:"exclude",attribute:v,name:w,exclude:!0})})}),Object.keys(d).forEach(function(v){var x=d[v];x.forEach(function(w){i.push(Fg(t,"disjunctive",v,X7(w),r.disjunctiveFacets))})}),Object.keys(p).forEach(function(v){var x=p[v];x.forEach(function(w){i.push(Fg(t,"hierarchical",v,w,r.hierarchicalFacets))})}),Object.keys(m).forEach(function(v){var x=m[v];Object.keys(x).forEach(function(w){var S=w,j=x[S],_=Array.isArray(j)?j:[j];_.forEach(function(C){i.push({type:"numeric",attribute:v,name:"".concat(C),numericValue:C,operator:S})})})}),b.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function V1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(n),!0).forEach(function(r){iK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iK(e,t,n){return t=sK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sK(e){var t=oK(e,"string");return ku(t)=="symbol"?t:String(t)}function oK(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e,t,n){return e.map(function(r,i){return W1(W1({},r),{},{__position:n*t+i+1})})}function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(r){lK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lK(e,t,n){return t=cK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=uK(e,"string");return Cu(t)=="symbol"?t:String(t)}function uK(e,t){if(Cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dK(e,t){return t?e.map(function(n){return K1(K1({},n),{},{__queryID:t})}):e}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return t=hK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hK(e){var t=pK(e,"string");return Ru(t)=="symbol"?t:String(t)}function pK(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mK(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?G1(G1({},r),s.recommendResults.results):r},{});e._recommendCache=n}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function gK(e,t){return bK(e)||xK(e,t)||yK(e,t)||vK()}function vK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(e,t){if(e){if(typeof e=="string")return Y1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y1(e,t)}}function Y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function bK(e){if(Array.isArray(e))return e}function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(n),!0).forEach(function(r){oO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oO(e,t,n){return t=wK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wK(e){var t=SK(e,"string");return Pu(t)=="symbol"?t:String(t)}function SK(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _K(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(o,a){var l=t[a],u=l.state,d=l.requestParams,f=l.results,p=f&&u?f.map(function(h,m){return oc({indexName:u.index||h.index},d!=null&&d[m]||h.params?{params:Dg((d==null?void 0:d[m])||jK(h.params))}:{})}):[];return o.concat(p)},[])],r=Object.keys(t).reduce(function(o,a){var l=t[a].results;return l?o.concat(l):o},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(o){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];var d=Array.isArray(o)?o.map(function(f){return oc(oc({},f),{},{params:Dg(f.params)})}):Dg(o.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[d].concat(l)},function(){return i.apply(void 0,[o].concat(l))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=oc(oc({},e.cache),{},oO({},s,JSON.stringify({results:Object.keys(t).map(function(o){return t[o].results})})))}}}function jK(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=gK(r,2),s=i[0],o=i[1];return t[s]=o?decodeURIComponent(o):"",t},{})}function Dg(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];var l=0;return i.replace(/%s/g,function(){return encodeURIComponent(o[l++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function X1(e){return e!==Object(e)}function aO(e,t){if(e===t)return!0;if(X1(e)||X1(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!aO(e[i],t[i]))return!1}return!0}function lO(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var EK=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(n),!0).forEach(function(r){kK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kK(e,t,n){return t=CK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CK(e){var t=RK(e,"string");return Tu(t)=="symbol"?t:String(t)}function RK(e,t){if(Tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PK(e,t){if(e==null)return{};var n=TK(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TK(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var NK=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=PK(n,EK);return t.setQueryParameters(r)},AK=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},OK=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},IK=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=eK(r,function(a){return a.name===i.name});if(s===-1)return r.concat(i);var o=r.slice();return o.splice(s,1,i),o},t.hierarchicalFacets)})},FK=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},DK=function(t,n){return t.setQueryParameters({facetsRefinements:mi(mi({},t.facetsRefinements),n.facetsRefinements)})},LK=function(t,n){return t.setQueryParameters({facetsExcludes:mi(mi({},t.facetsExcludes),n.facetsExcludes)})},$K=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:mi(mi({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},MK=function(t,n){return t.setQueryParameters({numericRefinements:mi(mi({},t.numericRefinements),n.numericRefinements)})},UK=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:mi(mi({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},zK=function(t,n){var r=lO([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},Mc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var o=UK(i,s),a=IK(o,s),l=FK(a,s),u=MK(l,s),d=$K(u,s),f=LK(d,s),p=DK(f,s),h=OK(p,s),m=zK(h,s),g=AK(m,s);return NK(g,s)})};function HK(e){return qK(e)||WK(e)||VK(e)||BK()}function BK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(e,t){if(e){if(typeof e=="string")return Jy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(e,t)}}function WK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qK(e){if(Array.isArray(e))return Jy(e)}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ej(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,o=s===0?1:s,a=Math.round((r-n)/o);return HK(Array(a)).map(function(l,u){return n+u*o})}function xc(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function tj(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function KK(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){QK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QK(e,t,n){return t=GK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){var t=YK(e,"string");return Nu(t)=="symbol"?t:String(t)}function YK(e,t){if(Nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cO(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return wf(wf({},t),{},{isHighlighted:!nK(e,n)})}):e.map(function(t){return wf(wf({},t),{},{isHighlighted:!1})})}function ps(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){uO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uO(e,t,n){return t=JK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JK(e){var t=XK(e,"string");return Au(t)=="symbol"?t:String(t)}function XK(e,t){if(Au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZK=Ki({name:"configure",connector:!0});function ij(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return $t($t({},n),{},uO({},r,void 0))},{}))}var eQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zt,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return function(r){if(!r||!eO(r.searchParameters))throw new Error(ZK("The `searchParameters` option expects an object."));var i={};function s(o){return function(a){var l=ij(o.state,r),u=Mc(l,new an.SearchParameters(a));r.searchParameters=a,o.setState(u).search()}}return{$$type:"ais.configure",init:function(a){var l=a.instantSearchInstance;t($t($t({},this.getWidgetRenderState(a)),{},{instantSearchInstance:l}),!0)},render:function(a){var l=a.instantSearchInstance;t($t($t({},this.getWidgetRenderState(a)),{},{instantSearchInstance:l}),!1)},dispose:function(a){var l=a.state;return n(),ij(l,r)},getRenderState:function(a,l){var u,d=this.getWidgetRenderState(l);return $t($t({},a),{},{configure:$t($t({},d),{},{widgetParams:$t($t({},d.widgetParams),{},{searchParameters:Mc(new an.SearchParameters((u=a.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new an.SearchParameters(d.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(a){var l=a.helper;return i.refine||(i.refine=s(l)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(a,l){var u=l.uiState;return Mc(a,new an.SearchParameters($t($t({},u.configure),r.searchParameters)))},getWidgetUiState:function(a){return $t($t({},a),{},{configure:$t($t({},a.configure),r.searchParameters)})}}}};function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}var sj=Object.prototype.hasOwnProperty;function vl(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&vl(e[i],t[i],n););return i===-1}if(!r||Xy(e)==="object"){i=0;for(r in e)if(sj.call(e,r)&&++i&&!sj.call(t,r)||!(r in t)||!vl(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function oj(e){var t,n,r;return new an.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return t=nQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=rQ(e,"string");return Ou(t)=="symbol"?t:String(t)}function rQ(e,t){if(Ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zy(e){var t=e.getHelper(),n=e.getResults()||oj(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:oj(i.helper.state);return lj(lj({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var dO=y.createContext(null);function fO(e,t){if(!e)throw new Error("Invariant failed")}function Cw(){var e=y.useContext(dO);return fO(e!==null),e}var hO=y.createContext(null);function wd(){var e=y.useContext(hO);return fO(e!==null),e}var iQ=y.createContext(null);function pO(){return y.useContext(iQ)}var sQ=y.createContext(null);function mO(){return y.useContext(sQ)}function oQ(e,t){return uQ(e)||cQ(e,t)||lQ(e,t)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQ(e,t){if(e){if(typeof e=="string")return cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cj(e,t)}}function cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function uQ(e){if(Array.isArray(e))return e}function uj(e){var t=y.useState(function(){return e}),n=oQ(t,2),r=n[0],i=n[1];return vl(r,e)||i(e),r}var dQ="use",dj=lp[dQ],gO=typeof window<"u"?y.useLayoutEffect:y.useEffect,fQ=y.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function vO(){return y.useContext(fQ)}function hQ(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,o=e.shouldSsr,a=e.skipSuspense,l=vO(),u=l.waitForResultsRef,d=l.countRef;l.ignoreMultipleHooksWarning;var f=y.useRef(s);y.useEffect(function(){f.current=s},[s]);var p=y.useRef(r);y.useEffect(function(){p.current=r},[r]);var h=y.useRef(null),m=o&&!i.getWidgets().includes(r),g=wd();if(gO(function(){var v=p.current;if(!h.current)o||i.addWidgets([r]);else{clearTimeout(h.current);var x=vl(s,f.current);x||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){h.current=setTimeout(function(){g._schedule(function(){g._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,o,g,s]),(m||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!a){var b;dj(u.current),r.$$type!=="ais.dynamicWidgets"&&(b=g.helper)!==null&&b!==void 0&&b.lastResults&&dj(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(d.current+=1)}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}var pQ=["skipSuspense"],mQ=["instantSearchInstance","widgetParams"],gQ=["widgetParams"];function vQ(e,t){return wQ(e)||bQ(e,t)||xQ(e,t)||yQ()}function yQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(e,t){if(e){if(typeof e=="string")return fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(e,t)}}function fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function wQ(e){if(Array.isArray(e))return e}function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(n),!0).forEach(function(r){SQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SQ(e,t,n){return t=_Q(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=jQ(e,"string");return Iu(t)=="symbol"?t:String(t)}function jQ(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lg(e,t){if(e==null)return{};var n=EQ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ko(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=Lg(n,pQ),o=pO(),a=mO(),l=wd(),u=Cw(),d=uj(t),f=uj(s),p=y.useRef(!0),h=y.useRef(null),m=y.useRef(l.status),g=y.useMemo(function(){var S=e(function(j,_){if(_){p.current=!0;return}if(p.current){var C=j.instantSearchInstance;j.widgetParams;var T=Lg(j,mQ);(!vl(T,h.current,function(I,R){return(I==null?void 0:I.constructor)===Function&&(R==null?void 0:R.constructor)===Function})||C.status!==m.current)&&(w(T),h.current=T,m.current=C.status)}},function(){p.current=!1});return pj(pj({},S(d)),f)},[e,d,f]),b=y.useState(function(){if(g.getWidgetRenderState){var S,j=u.getHelper(),_=u.getWidgetUiState({})[u.getIndexId()];j.state=((S=g.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(g,j.state,{uiState:_}))||j.state;var C=Zy(u),T=C.results,I=C.scopedResults,R=C.recommendResults,F=g.getWidgetRenderState({helper:j,parent:u,instantSearchInstance:l,results:g.dependsOn==="recommend"&&R&&a?R[a.recommendIdx.current++]:T,scopedResults:I,state:j.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:l.status==="stalled"},status:l.status,error:l.error});F.widgetParams;var O=Lg(F,gQ);return O}return{}}),v=vQ(b,2),x=v[0],w=v[1];return hQ({widget:g,parentIndex:u,props:d,shouldSsr:!!o,skipSuspense:i}),x}function kQ(e,t){return Ko(eQ,{searchParameters:e},t)}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return t=PQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PQ(e){var t=TQ(e,"string");return Fu(t)=="symbol"?t:String(t)}function TQ(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yO(e){return kQ(CQ({},e),{$$widgetType:"ais.configure"}),null}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var NQ=["initialSearchParameters"],AQ=["initialRecommendParameters"];function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fa(e,t,n){return t=OQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OQ(e){var t=IQ(e,"string");return Du(t)=="symbol"?t:String(t)}function IQ(e,t){if(Du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xO(e){return $Q(e)||LQ(e)||DQ(e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(e,t){if(e){if(typeof e=="string")return ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(e,t)}}function LQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Q(e){if(Array.isArray(e))return ex(e)}function ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bO(e,t){if(e==null)return{};var n=MQ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ac=Ki({name:"index-widget"});function wO(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function lc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return Xn(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function cc(e,t){var n=t.initialSearchParameters,r=bO(t,NQ);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||Xn(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function vj(e,t){var n=t.initialRecommendParameters,r=bO(t,AQ);return e.reduce(function(i,s){return!Xn(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function SO(e){var t=e.filter(Xn);t.length!==0&&t.forEach(function(n){var r=n.getHelper();wO(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),SO(n.getWidgets())})}function _O(e){var t=e.filter(Xn);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(xO(_O(r.getWidgets()))))},[])}var UQ=function(t){if(t===void 0||t.indexName===void 0)throw new Error(ac("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],o={},a=null,l=null,u=null,d=null,f=null,p=!1,h=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var g;return(g=d)!==null&&g!==void 0&&g.lastResults?(d.lastResults._state=u.state,d.lastResults):null},getResultsForWidget:function(g){var b;return g.dependsOn!=="recommend"||Xn(g)||g.$$id===void 0?this.getResults():(b=u)!==null&&b!==void 0&&b.lastRecommendResults?u.lastRecommendResults[g.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var g=this.getParent(),b;return g?b=g.getWidgets():n.length===0?b=this.getWidgets():b=[this],_O(b)},getParent:function(){return l},createURL:function(g){return typeof g=="function"?a._createURL(Fa({},i,g(o))):a._createURL(Fa({},i,lc(s,{searchParameters:g,helper:u})))},getWidgets:function(){return s},addWidgets:function(g){var b=this;if(!Array.isArray(g))throw new Error(ac("The `addWidgets` method expects an array of widgets."));if(g.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(ac("The widget definition expects a `render` and/or an `init` method."));return g.forEach(function(v){Xn(v)||(a&&v.dependsOn==="recommend"?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:v.dependsOn==="recommend"?p=!0:h=!0,p7(v))}),s=s.concat(g),a&&g.length&&(wO(u,{state:cc(s,{uiState:o,initialSearchParameters:u.state}),recommendState:vj(s,{uiState:o,initialRecommendParameters:u.recommendState}),_uiState:o}),g.forEach(function(v){if(v.getRenderState){var x=v.getRenderState(a.renderState[b.getIndexId()]||{},xc(a,b,a._initialUiState));$g({renderState:x,instantSearchInstance:a,parent:b})}}),g.forEach(function(v){v.init&&v.init(xc(a,b,a._initialUiState))}),a.scheduleSearch()),this},removeWidgets:function(g){var b=this;if(!Array.isArray(g))throw new Error(ac("The `removeWidgets` method expects an array of widgets."));if(g.some(function(j){return typeof j.dispose!="function"}))throw new Error(ac("The widget definition expects a `dispose` method."));if(s=s.filter(function(j){return g.indexOf(j)===-1}),s.forEach(function(j){Xn(j)||(a&&j.dependsOn==="recommend"?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:j.dependsOn==="recommend"?p=!0:h=!0)}),a&&g.length){var v=g.reduce(function(j,_){var C=_.dispose({helper:u,state:j.cleanedSearchState,recommendState:j.cleanedRecommendState,parent:b});return C instanceof an.RecommendParameters?j.cleanedRecommendState=C:C&&(j.cleanedSearchState=C),j},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),x=v.cleanedSearchState,w=v.cleanedRecommendState,S=a.future.preserveSharedStateOnUnmount?cc(s,{uiState:o,initialSearchParameters:new an.SearchParameters({index:this.getIndexName()})}):cc(s,{uiState:lc(s,{searchParameters:x,helper:u}),initialSearchParameters:x});o=lc(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=w,s.length&&a.scheduleSearch()}return this},init:function(g){var b=this,v,x=g.instantSearchInstance,w=g.parent,S=g.uiState;if(u===null){a=x,l=w,o=S[i]||{};var j=x.mainHelper,_=cc(s,{uiState:o,initialSearchParameters:new an.SearchParameters({index:n})}),C=vj(s,{uiState:o,initialRecommendParameters:new an.RecommendParameters});u=an({},_.index,_),u.recommendState=C,u.search=function(){return x.onStateChange?(x.onStateChange({uiState:x.mainIndex.getWidgetUiState({}),setUiState:function(O){return x.setUiState(O,!1)}}),j):j.search()},u.searchWithoutTriggeringOnStateChange=function(){return j.search()},u.searchForFacetValues=function(F,O,D,A){var M=u.state.setQueryParameters(A);return j.searchForFacetValues(F,O,D,M)},d=j.derive(function(){return Mc.apply(void 0,[j.state].concat(xO(KK(b))))},function(){return b.getHelper().recommendState});var T=(v=x._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(T!=null&&T.results){var I=new an.SearchResults(new an.SearchParameters(T.state),T.results);d.lastResults=I,u.lastResults=I}if(T!=null&&T.recommendResults){var R=new an.RecommendResults(new an.RecommendParameters({params:T.recommendResults.params}),T.recommendResults.results);d.lastRecommendResults=R,u.lastRecommendResults=R}u.on("change",function(F){var O=F.isPageReset;O&&SO(s)}),d.on("search",function(){x.scheduleStalledRender()}),d.on("result",function(F){var O=F.results;x.scheduleRender(),u.lastResults=O,f=O==null?void 0:O._state}),d.on("recommend:result",function(F){var O=F.recommend;x.scheduleRender(),u.lastRecommendResults=O.results}),s.forEach(function(F){if(F.getRenderState){var O=F.getRenderState(x.renderState[b.getIndexId()]||{},xc(x,b,S));$g({renderState:O,instantSearchInstance:x,parent:b})}}),s.forEach(function(F){F.init&&F.init(xc(x,b,S))}),u.on("change",function(F){var O=F.state,D=F._uiState;o=lc(s,{searchParameters:O,helper:u},D||{}),x.onStateChange||x.onInternalStateChange()}),T&&x.scheduleRender(),p&&(x._hasRecommendWidget=!0),h&&(x._hasSearchWidget=!0)}},render:function(g){var b,v=this,x=g.instantSearchInstance;x.status==="error"&&!x.mainHelper.hasPendingRequests()&&f&&u.setState(f);var w=this.getResults()||(b=d)!==null&&b!==void 0&&b.lastRecommendResults?s:s.filter(Xn);w=w.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:x}):!0}),w.forEach(function(S){if(S.getRenderState){var j=S.getRenderState(x.renderState[v.getIndexId()]||{},tj(x,v,S));$g({renderState:j,instantSearchInstance:x,parent:v})}}),w.forEach(function(S){S.render&&S.render(tj(x,v,S))})},dispose:function(){var g=this,b,v;s.forEach(function(x){x.dispose&&u&&x.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:g})}),a=null,l=null,(b=u)===null||b===void 0||b.removeAllListeners(),u=null,(v=d)===null||v===void 0||v.detach(),d=null},getWidgetUiState:function(g){return s.filter(Xn).reduce(function(b,v){return v.getWidgetUiState(b)},oi(oi({},g),{},Fa({},i,oi(oi({},g[i]),o))))},getWidgetState:function(g){return this.getWidgetUiState(g)},getWidgetSearchParameters:function(g,b){var v=b.uiState;return cc(s,{uiState:v,initialSearchParameters:g})},refreshUiState:function(){o=lc(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)},setIndexUiState:function(g){var b=typeof g=="function"?g(o):g;a.setUiState(function(v){return oi(oi({},v),{},Fa({},i,b))})}}};function $g(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=oi(oi({},n.renderState),{},Fa({},i,oi(oi({},n.renderState[i]),t)))}function zQ(e,t){return WQ(e)||VQ(e,t)||BQ(e,t)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(e,t){if(e){if(typeof e=="string")return yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yj(e,t)}}function yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function WQ(e){if(Array.isArray(e))return e}function qQ(){var e=y.useReducer(function(r){return r+1},0),t=zQ(e,2),n=t[1];return n}var KQ="ais",im=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",o=i?"--".concat(i):"";return"".concat(KQ,"-").concat(t).concat(s).concat(o)}},QQ=im("Highlight");function GQ(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,o=s===void 0?{}:s,a=bd(i._highlightResult,t),l=a||{},u=l.value,d=u===void 0?"":u,f=QQ({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):"");return d.replace(new RegExp(pn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pn.highlightPostTag,"g"),"</".concat(r,">"))}var YQ=im("ReverseHighlight");function JQ(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,o=s===void 0?{}:s,a=bd(i._highlightResult,t),l=a||{},u=l.value,d=u===void 0?"":u,f=YQ({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):""),p=rO(cO(kw(d)));return p.replace(new RegExp(pn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pn.highlightPostTag,"g"),"</".concat(r,">"))}var XQ=im("Snippet");function ZQ(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,o=s===void 0?{}:s,a=bd(i._snippetResult,t),l=a||{},u=l.value,d=u===void 0?"":u,f=XQ({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):"");return d.replace(new RegExp(pn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pn.highlightPostTag,"g"),"</".concat(r,">"))}var eG=im("ReverseSnippet");function tG(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,o=s===void 0?{}:s,a=bd(i._snippetResult,t),l=a||{},u=l.value,d=u===void 0?"":u,f=eG({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):""),p=rO(cO(kw(d)));return p.replace(new RegExp(pn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pn.highlightPostTag,"g"),"</".concat(r,">"))}function tx(e){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tx(e)}function nG(e){var t=e.method,n=e.payload;if(tx(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=iO(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function rG(e,t){return nG({method:e,payload:t})}function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}var iG="_ALGOLIA";function sG(e){if(!((typeof document>"u"?"undefined":nx(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function oG(){return sG(iG)}function aG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(r){lG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lG(e,t,n){return t=cG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cG(e){var t=uG(e,"string");return Lu(t)=="symbol"?t:String(t)}function uG(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(e,t){return hG(e)||fG(e,t)||jO(e,t)||dG()}function dG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function hG(e){if(Array.isArray(e))return e}function pG(e){return vG(e)||gG(e)||jO(e)||mG()}function mG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jO(e,t){if(e){if(typeof e=="string")return rx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rx(e,t)}}function gG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vG(e){if(Array.isArray(e))return rx(e)}function rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EO="2.17.2",yG="https://cdn.jsdelivr.net/npm/search-insights@".concat(EO,"/dist/search-insights.min.js");function bj(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,o=e.$$automatic,a=o===void 0?!1:o,l=t;!t&&t!==null&&ps(function(d){var f=d.window,p=f.AlgoliaAnalyticsObject||"aa";typeof p=="string"&&(l=f[p]),l||(f.AlgoliaAnalyticsObject=p,f[p]||(f[p]=function(){f[p].queue||(f[p].queue=[]);for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];f[p].queue.push(m)},f[p].version=EO,f[p].shouldAddScript=!0),l=f[p])});var u=l||zt;return function(d){var f=d.instantSearchInstance,p=f.middleware.filter(function(I){return I.instance.$$type==="ais.insights"&&I.instance.$$internal}).map(function(I){return I.creator});f.unuse.apply(f,pG(p));var h=B1(f.client),m=Ri(h,2),g=m[0],b=m[1],v=void 0,x=void 0,w=void 0,S=u.queue;if(Array.isArray(S)){var j=["setUserToken","init"].map(function(I){var R=Gh(S.slice().reverse(),function(D){var A=Ri(D,1),M=A[0];return M===I})||[],F=Ri(R,2),O=F[1];return O}),_=Ri(j,2);x=_[0],v=_[1]}u("getUserToken",null,function(I,R){w=Sj(R)}),(n||!wj(u))&&u("init",no({appId:g,apiKey:b,partial:!0},n));var C,T;return{$$type:"ais.insights",$$internal:s,$$automatic:a,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var R="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var F=document.createElement("script");F.async=!0,F.src=yG,F.onerror=function(){f.emit("error",new Error(R))},document.body.appendChild(F),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,f.emit("error",new Error(R))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),T=f.mainHelper;var R=u.queue;if(Array.isArray(R)){var F=["setUserToken","init"].map(function(Q){var Y=Gh(R.slice().reverse(),function(ue){var le=Ri(ue,1),me=le[0];return me===Q})||[],W=Ri(Y,2),ie=W[1];return ie}),O=Ri(F,2);x=O[0],v=O[1]}C=xG(f),a||T.overrideStateWithoutTriggeringChangeEvent(no(no({},T.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var D=function(Y){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ie=Sj(Y);if(!ie)return;var ue=T.state.userToken;function le(){T.overrideStateWithoutTriggeringChangeEvent(no(no({},T.state),{},{userToken:ie})),ue&&ue!==Y&&f.scheduleSearch()}W?le():setTimeout(le,0)};function A(Q){D(Q,!0),u("setUserToken",Q)}var M=void 0,H=oG();if(H)M=H;else{var B="anonymous-".concat(aG());M=B}var P,k=C.userToken;if(n!=null&&n.userToken&&(P=n.userToken),P)A(P);else if(k)A(k);else if(w)A(w);else if(x)A(x);else if(M){var E;if(A(M),n!=null&&n.useCookie||(E=v)!==null&&E!==void 0&&E.useCookie){var $;bG(M,(n==null?void 0:n.cookieDuration)||(($=v)===null||$===void 0?void 0:$.cookieDuration))}}u("onUserTokenChange",function(Q){return D(Q,!0)},{immediate:!0});var U=u;wj(u)&&(U=function(Y,W){var ie=B1(f.client),ue=Ri(ie,2),le=ue[0],me=ue[1],Ee={headers:{"X-Algolia-Application-Id":le,"X-Algolia-API-Key":me}};return u(Y,W,Ee)});var N=new Set,K;f.mainHelper.derivedHelpers[0].on("result",function(Q){var Y=Q.results;Y&&(!Y.queryID||Y.queryID!==K)&&(K=Y.queryID,N.clear())}),f.sendEventToInsights=function(Q){if(r)r(Q,U);else if(Q.insightsMethod){if(Q.insightsMethod==="viewedObjectIDs"){var Y=Q.payload,W=Y.objectIDs.filter(function(ie){return!N.has(ie)});if(W.length===0)return;W.forEach(function(ie){return N.add(ie)}),Y.objectIDs=W}Q.payload.algoliaSource=["instantsearch"],a&&Q.payload.algoliaSource.push("instantsearch-automatic"),Q.eventModifier==="internal"&&Q.payload.algoliaSource.push("instantsearch-internal"),U(Q.insightsMethod,Q.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),f.sendEventToInsights=zt,T&&C&&(T.overrideStateWithoutTriggeringChangeEvent(no(no({},T.state),C)),f.scheduleSearch())}}}}function xG(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function bG(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function wj(e){var t=(e.version||"").split(".").map(Number),n=Ri(t,2),r=n[0],i=n[1],s=r>=3,o=r===2&&i>=6,a=r===1&&i>=10;return s||o||a}function Sj(e){if(e)return typeof e=="number"?e.toString():e}function kO(e,t,n){var r=xc(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var o=i.getWidgetRenderState(r);o&&o.widgetParams&&(s=o.widgetParams)}var a=Object.keys(s).filter(function(l){return s[l]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:a}),i.$$type==="ais.index"&&kO(i.getWidgets(),t,n)})}function wG(){return ps(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function SG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},o=document.createElement("meta"),a=document.querySelector("head");return o.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,kO(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(d){return s.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),o.content=JSON.stringify(s),a.appendChild(o)},0)},started:function(){},unsubscribe:function(){o.remove()}}}}var _G=String.prototype.replace,jG=/%20/g,Mg={RFC1738:"RFC1738",RFC3986:"RFC3986"},Rw={default:Mg.RFC3986,formatters:{RFC1738:function(e){return _G.call(e,jG,"+")},RFC3986:function(e){return String(e)}},RFC1738:Mg.RFC1738,RFC3986:Mg.RFC3986},EG=Rw,Ug=Object.prototype.hasOwnProperty,co=Array.isArray,Jr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),kG=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(co(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},CO=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},CG=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(co(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Ug.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return co(t)&&!co(n)&&(i=CO(t,r)),co(t)&&co(n)?(n.forEach(function(s,o){if(Ug.call(t,o)){var a=t[o];a&&typeof a=="object"&&s&&typeof s=="object"?t[o]=e(a,s,r):t.push(s)}else t[o]=s}),t):Object.keys(n).reduce(function(s,o){var a=n[o];return Ug.call(s,o)?s[o]=e(s[o],a,r):s[o]=a,s},i)},RG=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},PG=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},TG=function(t,n,r,i,s){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var u=o.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===EG.RFC1738&&(u===40||u===41)){a+=o.charAt(l);continue}if(u<128){a=a+Jr[u];continue}if(u<2048){a=a+(Jr[192|u>>6]+Jr[128|u&63]);continue}if(u<55296||u>=57344){a=a+(Jr[224|u>>12]+Jr[128|u>>6&63]+Jr[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|o.charCodeAt(l)&1023),a+=Jr[240|u>>18]+Jr[128|u>>12&63]+Jr[128|u>>6&63]+Jr[128|u&63]}return a},NG=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],d=o[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:o,prop:u}),r.push(d))}return kG(n),t},AG=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},OG=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},IG=function(t,n){return[].concat(t,n)},FG=function(t,n){if(co(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},RO={arrayToObject:CO,assign:RG,combine:IG,compact:NG,decode:PG,encode:TG,isBuffer:OG,isRegExp:AG,maybeMap:FG,merge:CG},ix=RO,Uc=Rw,DG=Object.prototype.hasOwnProperty,_j={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},mo=Array.isArray,LG=String.prototype.split,$G=Array.prototype.push,PO=function(e,t){$G.apply(e,mo(t)?t:[t])},MG=Date.prototype.toISOString,jj=Uc.default,Kt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ix.encode,encodeValuesOnly:!1,format:jj,formatter:Uc.formatters[jj],indices:!1,serializeDate:function(t){return MG.call(t)},skipNulls:!1,strictNullHandling:!1},UG=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},zG=function e(t,n,r,i,s,o,a,l,u,d,f,p,h,m){var g=t;if(typeof a=="function"?g=a(n,g):g instanceof Date?g=d(g):r==="comma"&&mo(g)&&(g=ix.maybeMap(g,function(F){return F instanceof Date?d(F):F})),g===null){if(i)return o&&!h?o(n,Kt.encoder,m,"key",f):n;g=""}if(UG(g)||ix.isBuffer(g)){if(o){var b=h?n:o(n,Kt.encoder,m,"key",f);if(r==="comma"&&h){for(var v=LG.call(String(g),","),x="",w=0;w<v.length;++w)x+=(w===0?"":",")+p(o(v[w],Kt.encoder,m,"value",f));return[p(b)+"="+x]}return[p(b)+"="+p(o(g,Kt.encoder,m,"value",f))]}return[p(n)+"="+p(String(g))]}var S=[];if(typeof g>"u")return S;var j;if(r==="comma"&&mo(g))j=[{value:g.length>0?g.join(",")||null:void 0}];else if(mo(a))j=a;else{var _=Object.keys(g);j=l?_.sort(l):_}for(var C=0;C<j.length;++C){var T=j[C],I=typeof T=="object"&&typeof T.value<"u"?T.value:g[T];if(!(s&&I===null)){var R=mo(g)?typeof r=="function"?r(n,T):n:n+(u?"."+T:"["+T+"]");PO(S,e(I,R,r,i,s,o,a,l,u,d,f,p,h,m))}}return S},HG=function(t){if(!t)return Kt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Kt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Uc.default;if(typeof t.format<"u"){if(!DG.call(Uc.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=Uc.formatters[r],s=Kt.filter;return(typeof t.filter=="function"||mo(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Kt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Kt.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Kt.charsetSentinel,delimiter:typeof t.delimiter>"u"?Kt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Kt.encode,encoder:typeof t.encoder=="function"?t.encoder:Kt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Kt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Kt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Kt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Kt.strictNullHandling}},BG=function(e,t){var n=e,r=HG(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):mo(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a;t&&t.arrayFormat in _j?a=t.arrayFormat:t&&"indices"in t?a=t.indices?"indices":"repeat":a="indices";var l=_j[a];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var d=i[u];r.skipNulls&&n[d]===null||PO(o,zG(n[d],d,l,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=o.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},yl=RO,sx=Object.prototype.hasOwnProperty,VG=Array.isArray,qt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:yl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},WG=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},TO=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},qG="utf8=%26%2310003%3B",KG="utf8=%E2%9C%93",QG=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===KG?u="utf-8":o[l]===qG&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],f=d.indexOf("]="),p=f===-1?d.indexOf("="):f+1,h,m;p===-1?(h=n.decoder(d,qt.decoder,u,"key"),m=n.strictNullHandling?null:""):(h=n.decoder(d.slice(0,p),qt.decoder,u,"key"),m=yl.maybeMap(TO(d.slice(p+1),n),function(g){return n.decoder(g,qt.decoder,u,"value")})),m&&n.interpretNumericEntities&&u==="iso-8859-1"&&(m=WG(m)),d.indexOf("[]=")>-1&&(m=VG(m)?[m]:m),sx.call(r,h)?r[h]=yl.combine(r[h],m):r[h]=m}return r},GG=function(e,t,n,r){for(var i=r?t:TO(t,n),s=e.length-1;s>=0;--s){var o,a=e[s];if(a==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(l,10);!n.parseArrays&&l===""?o={0:i}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},YG=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!r.plainObjects&&sx.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(l=a.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&sx.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+s.slice(l.index)+"]"),GG(d,n,r,i)}},JG=function(t){if(!t)return qt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?qt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?qt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:qt.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:qt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:qt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:qt.comma,decoder:typeof t.decoder=="function"?t.decoder:qt.decoder,delimiter:typeof t.delimiter=="string"||yl.isRegExp(t.delimiter)?t.delimiter:qt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:qt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:qt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:qt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:qt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:qt.strictNullHandling}},XG=function(e,t){var n=JG(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?QG(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=YG(a,r[a],n,typeof e=="string");i=yl.merge(i,l,n)}return yl.compact(i)},ZG=BG,eY=XG,tY=Rw,nY={formats:tY,parse:eY,stringify:ZG};const Ej=Bs(nY);function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function rY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NO(r.key),r)}}function sY(e,t,n){return t&&iY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xn(e,t,n){return t=NO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NO(e){var t=oY(e,"string");return $u(t)=="symbol"?t:String(t)}function oY(e,t){if($u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kj=function(t){t&&(window.document.title=t)},aY=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,o=t.createURL,a=t.parseURL,l=t.getLocation,u=t.start,d=t.dispose,f=t.push,p=t.cleanUrlOnDispose;rY(this,e),xn(this,"$$type","ais.browser"),xn(this,"windowTitle",void 0),xn(this,"writeDelay",void 0),xn(this,"_createURL",void 0),xn(this,"parseURL",void 0),xn(this,"getLocation",void 0),xn(this,"writeTimer",void 0),xn(this,"_onPopState",void 0),xn(this,"inPopState",!1),xn(this,"isDisposed",!1),xn(this,"latestAcknowledgedHistory",0),xn(this,"_start",void 0),xn(this,"_dispose",void 0),xn(this,"_push",void 0),xn(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=o,this.parseURL=a,this.getLocation=l,this._start=u,this._dispose=d,this._push=f,this._cleanUrlOnDispose=typeof p>"u"?!0:p,ps(function(h){var m=h.window,g=n.windowTitle&&n.windowTitle(n.read());kj(g),n.latestAcknowledgedHistory=m.history.length})}return sY(e,[{key:"read",value:function(){return this.parseURL({qsModule:Ej,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;ps(function(i){var s=i.window,o=r.createURL(n),a=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){kj(a),r.shouldWrite(o)&&(r._push?r._push(o):s.history.pushState(n,a||"",o),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},ps(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:Ej,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,ps(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return ps(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var o=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&o&&n!==s.location.href})}}]),e}();function lY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(m){var g=m.qsModule,b=m.routeState,v=m.location,x=v.protocol,w=v.hostname,S=v.port,j=S===void 0?"":S,_=v.pathname,C=v.hash,T=g.stringify(b),I=j===""?"":":".concat(j);return T?"".concat(x,"//").concat(w).concat(I).concat(_,"?").concat(T).concat(C):"".concat(x,"//").concat(w).concat(I).concat(_).concat(C)}:t,r=e.parseURL,i=r===void 0?function(m){var g=m.qsModule,b=m.location;return g.parse(b.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,o=s===void 0?400:s,a=e.windowTitle,l=e.getLocation,u=l===void 0?function(){return ps(function(m){var g=m.window;return g.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:l,d=e.start,f=e.dispose,p=e.push,h=e.cleanUrlOnDispose;return new aY({createURL:n,parseURL:i,writeDelay:o,windowTitle:a,getLocation:u,start:d,dispose:f,push:p,cleanUrlOnDispose:h})}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var cY=["configure"];function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){ox(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ox(e,t,n){return t=uY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uY(e){var t=dY(e,"string");return Mu(t)=="symbol"?t:String(t)}function dY(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fY(e,t){if(e==null)return{};var n=hY(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hY(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Rj(e){e.configure;var t=fY(e,cY);return t}function pY(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return Sf(Sf({},n),{},ox({},r,Rj(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return Sf(Sf({},n),{},ox({},r,Rj(t[r])))},{})}}}function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){AO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AO(e,t,n){return t=mY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=gY(e,"string");return Uu(t)=="symbol"?t:String(t)}function gY(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?lY():n,i=t.stateMapping,s=i===void 0?pY():i,o=t.$$internal,a=o===void 0?!1:o;return function(l){var u=l.instantSearchInstance;function d(h){var m=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),g=Object.keys(h).reduce(function(v,x){return _f(_f({},v),{},AO({},x,h[x]))},m),b=s.stateToRoute(g);return r.createURL(b)}u._createURL=d;var f=void 0,p=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(m){var g=m.uiState,b=s.stateToRoute(g);(f===void 0||!aO(f,b))&&(r.write(b),f=b)},subscribe:function(){u._initialUiState=_f(_f({},p),s.routeToState(r.read())),r.onUpdate(function(m){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(m))})},started:function(){var m;(m=r.start)===null||m===void 0||m.call(r)},unsubscribe:function(){r.dispose()}}}};function yY(e,t){return e.toLocaleString(t)}function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){xY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xY(e,t,n){return t=bY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e){var t=wY(e,"string");return zu(t)=="symbol"?t:String(t)}function wY(e,t){if(zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e){var t=e.numberLocale;return{formatNumber:function(r,i){return yY(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(GQ(Ei(Ei({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(JQ(Ei(Ei({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(ZQ(Ei(Ei({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(tG(Ei(Ei({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),o=s.method,a=s.payload;return i(rG(o,Ei({objectIDs:[this.objectID]},a)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const _Y="4.79.2";function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){Ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OO(r.key),r)}}function kY(e,t,n){return t&&EY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ax(e,t)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ax(e,t)}function RY(e){var t=TY();return function(){var r=Yh(e),i;if(t){var s=Yh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return PY(this,i)}}function PY(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function De(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(e)}function Ue(e,t,n){return t=OO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OO(e){var t=NY(e,"string");return xl(t)=="symbol"?t:String(t)}function NY(e,t){if(xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kr=Ki({name:"instantsearch"});function AY(){return"#"}var IO={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},OY=function(e){CY(n,e);var t=RY(n);function n(r){var i;jY(this,n),i=t.call(this),Ue(De(i),"client",void 0),Ue(De(i),"indexName",void 0),Ue(De(i),"compositionID",void 0),Ue(De(i),"insightsClient",void 0),Ue(De(i),"onStateChange",null),Ue(De(i),"future",void 0),Ue(De(i),"helper",void 0),Ue(De(i),"mainHelper",void 0),Ue(De(i),"mainIndex",void 0),Ue(De(i),"started",void 0),Ue(De(i),"templatesConfig",void 0),Ue(De(i),"renderState",{}),Ue(De(i),"_stalledSearchDelay",void 0),Ue(De(i),"_searchStalledTimer",void 0),Ue(De(i),"_initialUiState",void 0),Ue(De(i),"_initialResults",void 0),Ue(De(i),"_manuallyResetScheduleSearch",!1),Ue(De(i),"_resetScheduleSearch",void 0),Ue(De(i),"_createURL",void 0),Ue(De(i),"_searchFunction",void 0),Ue(De(i),"_mainHelperSearch",void 0),Ue(De(i),"_hasSearchWidget",!1),Ue(De(i),"_hasRecommendWidget",!1),Ue(De(i),"_insights",void 0),Ue(De(i),"middleware",[]),Ue(De(i),"sendEventToInsights",void 0),Ue(De(i),"status","idle"),Ue(De(i),"error",void 0),Ue(De(i),"scheduleSearch",sc(function(){i.started&&i.mainHelper.search()})),Ue(De(i),"scheduleRender",sc(function(){var O,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(O=i.mainHelper)!==null&&O!==void 0&&O.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,D&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:De(i)}),i.emit("render")})),Ue(De(i),"onInternalStateChange",sc(function(){var O=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(D){var A=D.instance;A.onStateChange({uiState:O})})})),i.setMaxListeners(100);var s=r.indexName,o=s===void 0?"":s,a=r.compositionID,l=r.numberLocale,u=r.initialUiState,d=u===void 0?{}:u,f=r.routing,p=f===void 0?null:f,h=r.insights,m=h===void 0?void 0:h,g=r.searchFunction,b=r.stalledSearchDelay,v=b===void 0?200:b,x=r.searchClient,w=x===void 0?null:x,S=r.insightsClient,j=S===void 0?null:S,_=r.onStateChange,C=_===void 0?null:_,T=r.future,I=T===void 0?zg(zg({},IO),r.future||{}):T;if(w===null)throw new Error(kr("The `searchClient` option is required."));if(typeof w.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof w.addAlgoliaAgent=="function"&&w.addAlgoliaAgent("instantsearch.js (".concat(_Y,")")),j&&typeof j!="function")throw new Error(kr("The `insightsClient` option should be a function."));if(i.client=w,i.future=I,i.insightsClient=j,i.indexName=o,i.compositionID=a,i.helper=null,i.mainHelper=null,i.mainIndex=UQ({indexName:i.compositionID||i.indexName}),i.onStateChange=C,i.started=!1,i.templatesConfig={helpers:SY({numberLocale:l}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=AY,i._initialUiState=d,i._initialResults=null,i._insights=m,g&&(i._searchFunction=g),i.sendEventToInsights=zt,p){var R=typeof p=="boolean"?{}:p;R.$$internal=!0,i.use(vY(R))}if(m){var F=typeof m=="boolean"?{}:m;F.$$internal=!0,i.use(bj(F))}return wG()&&i.use(SG({$$internal:!0})),i}return kY(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var l=o.map(function(u){var d=zg({$$type:"__unknown__",$$internal:!1,subscribe:zt,started:zt,unsubscribe:zt,onStateChange:zt},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:d}),d});return this.started&&l.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return this.middleware.filter(function(a){return s.includes(a.creator)}).forEach(function(a){return a.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(a){return!s.includes(a.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(kr("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(kr("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(Xn))throw new Error(kr("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(kr("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(kr("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(kr("The `start` method has already been called once."));var s=this.mainHelper||an(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var o={search:function(){return new Promise(zt)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var l=i.mainIndex.getHelper(),u=an(o,l.state.index,l.state);return u.once("search",function(d){var f=d.state;l.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),u.on("change",function(d){var f=d.state;l.setState(f)}),i._searchFunction(u),s}}if(s.on("error",function(l){var u=l.error;if(!(u instanceof Error)){var d=u;u=Object.keys(d).reduce(function(f,p){return f[p]=d[p],f},new Error(d.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(l){var u=l.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){_K(this.client,this._initialResults),mK(this.mainHelper,this._initialResults);var a=this.scheduleSearch;this.scheduleSearch=sc(zt),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=a}:sc(function(){i.scheduleSearch=a})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(l){var u=l.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var l=i.mainIndex.getScopedResults().some(function(u){var d=u.results;return d==null?void 0:d._automaticInsights});l&&i.use(bj({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var o=s.instance;o.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(kr("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var a=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&o?this.onStateChange({uiState:a,setUiState:function(u){Yy(typeof u=="function"?u(a):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(Yy(a,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(kr("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(kr("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(e9),FO={exports:{}},DO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=y;function IY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FY=typeof Object.is=="function"?Object.is:IY,DY=bl.useState,LY=bl.useEffect,$Y=bl.useLayoutEffect,MY=bl.useDebugValue;function UY(e,t){var n=t(),r=DY({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return $Y(function(){i.value=n,i.getSnapshot=t,Hg(i)&&s({inst:i})},[e,n,t]),LY(function(){return Hg(i)&&s({inst:i}),e(function(){Hg(i)&&s({inst:i})})},[e]),MY(n),n}function Hg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!FY(e,n)}catch{return!0}}function zY(e,t){return t()}var HY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zY:UY;DO.useSyncExternalStore=bl.useSyncExternalStore!==void 0?bl.useSyncExternalStore:HY;FO.exports=DO;var BY=FO.exports,VY={};function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){WY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WY(e,t,n){return t=qY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=KY(e,"string");return Hu(t)=="symbol"?t:String(t)}function KY(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ij=["react (".concat(y.version,")"),"react-instantsearch (".concat(By,")"),"react-instantsearch-core (".concat(By,")")],Fj="react-instantsearch-server (".concat(By,")"),QY=function(t){return t?"next.js (".concat(t,")"):null};function GY(e){var t=qQ(),n=pO(),r=mO(),i=vO(),s=i.waitForResultsRef,o=r==null?void 0:r.initialResults,a=y.useRef(e),l=n||o||s,u=y.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var d=new OY(e);d._schedule=function(v){d._schedule.queue.push(v),clearTimeout(d._schedule.timer),d._schedule.timer=setTimeout(function(){d._schedule.queue.forEach(function(x){x()}),d._schedule.queue=[]},0)},d._schedule.queue=[],l&&(d._initialResults=o||{},d._manuallyResetScheduleSearch=!0),Dj(e.searchClient,[].concat(Ij,[n&&Fj,QY(YY())])),l&&d.start(),n&&n.notifyServer({search:d}),e.routing,u.current=d}{var f=u.current,p=a.current;if(p.indexName!==e.indexName&&(f.helper.setIndex(e.indexName||"").search(),a.current=e),p.searchClient!==e.searchClient&&(Dj(e.searchClient,[].concat(Ij,[n&&Fj])),f.mainHelper.setClient(e.searchClient).search(),a.current=e),p.onStateChange!==e.onStateChange&&(f.onStateChange=e.onStateChange,a.current=e),p.searchFunction!==e.searchFunction&&(f._searchFunction=e.searchFunction,a.current=e),p.stalledSearchDelay!==e.stalledSearchDelay){var h;f._stalledSearchDelay=(h=e.stalledSearchDelay)!==null&&h!==void 0?h:200,a.current=e}vl(p.future,e.future)||(f.future=Oj(Oj({},IO),e.future),a.current=e)}var m=y.useRef(null),g=BY.useSyncExternalStore(y.useCallback(function(){var b=u.current;return m.current===null?b.started||(b.start(),t()):(clearTimeout(m.current),b._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){b.dispose()}clearTimeout(b._schedule.timer),m.current=setTimeout(v),b._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return g}function Dj(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function YY(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=VY)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var JY=["children"];function XY(e,t){if(e==null)return{};var n=ZY(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZY(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function eJ(e){var t=e.children,n=XY(e,JY),r=GY(n);return r.started?V.createElement(hO.Provider,{value:r},V.createElement(dO.Provider,{value:r.mainIndex},t,V.createElement(tJ,{search:r}))):null}function tJ(e){var t=e.search;return y.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function nJ(e){return oJ(e)||sJ(e)||iJ(e)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJ(e,t){if(e){if(typeof e=="string")return lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lx(e,t)}}function sJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oJ(e){if(Array.isArray(e))return lx(e)}function lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(n),!0).forEach(function(r){aJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aJ(e,t,n){return t=lJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lJ(e){var t=cJ(e,"string");return Bu(t)=="symbol"?t:String(t)}function cJ(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $j=Ki({name:"clear-refinements",connector:!0}),uJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return Dl(t,$j()),function(r){var i=r||{},s=i.includedAttributes,o=s===void 0?[]:s,a=i.excludedAttributes,l=a===void 0?["query"]:a,u=i.transformItems,d=u===void 0?function(m){return m}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error($j("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:zt,createURL:function(){return""},attributesToClear:[]},p=function(){return f.refine()},h=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(g){var b=g.instantSearchInstance;t(ma(ma({},this.getWidgetRenderState(g)),{},{instantSearchInstance:b}),!0)},render:function(g){var b=g.instantSearchInstance;t(ma(ma({},this.getWidgetRenderState(g)),{},{instantSearchInstance:b}),!1)},dispose:function(){n()},getRenderState:function(g,b){return ma(ma({},g),{},{clearRefinements:this.getWidgetRenderState(b)})},getWidgetRenderState:function(g){var b=g.createURL,v=g.scopedResults,x=g.results;f.attributesToClear=v.reduce(function(S,j){return S.concat(dJ({scopedResult:j,includedAttributes:o,excludedAttributes:l,transformItems:d,results:x}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var j=S.helper,_=S.items;j.setState(L1({helper:j,attributesToClear:_})).search()})},f.createURL=function(){return b(Mc.apply(void 0,nJ(f.attributesToClear.map(function(S){var j=S.helper,_=S.items;return L1({helper:j,attributesToClear:_})}))))};var w=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:w,hasRefinements:w,refine:p,createURL:h,widgetParams:r}}}}};function dJ(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,o=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(lO(rK(t.results,t.helper.state,o).map(function(a){return a.attribute}).filter(function(a){return n.length===0||n.indexOf(a)!==-1}).filter(function(a){return a==="query"&&o||r.indexOf(a)===-1})),{results:s})}}function fJ(e,t){return Ko(uJ,e,t)}function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){LO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LO(e,t,n){return t=hJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hJ(e){var t=pJ(e,"string");return Vu(t)=="symbol"?t:String(t)}function pJ(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mJ=Ki({name:"hits",connector:!0});const gJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return Dl(t,mJ()),function(r){var i=r||{},s=i.escapeHTML,o=s===void 0?!0:s,a=i.transformItems,l=a===void 0?function(f){return f}:a,u,d;return{$$type:"ais.hits",init:function(p){t(ts(ts({},this.getWidgetRenderState(p)),{},{instantSearchInstance:p.instantSearchInstance}),!0)},render:function(p){var h=this.getWidgetRenderState(p);t(ts(ts({},h),{},{instantSearchInstance:p.instantSearchInstance}),!1),h.sendEvent("view:internal",h.items)},getRenderState:function(p,h){return ts(ts({},p),{},{hits:this.getWidgetRenderState(h)})},getWidgetRenderState:function(p){var h,m,g,b=p.results,v=p.helper,x=p.instantSearchInstance;if(u||(u=Q7({instantSearchInstance:x,helper:v,widgetType:this.$$type})),d||(d=G7({helper:v,widgetType:this.$$type,instantSearchInstance:x})),!b)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:d,widgetParams:r};o&&b.hits.length>0&&(b.hits=k7(b.hits));var w=aK(b.hits,b.page,b.hitsPerPage),S=dK(w,b.queryID),j=l(S,{results:b}),_=(h=b.renderingContent)===null||h===void 0||(m=h.widgets)===null||m===void 0||(g=m.banners)===null||g===void 0?void 0:g[0];return{hits:j,items:j,results:b,banner:_,sendEvent:u,bindEvent:d,widgetParams:r}},dispose:function(p){var h=p.state;return n(),o?h.setQueryParameters(Object.keys(pl).reduce(function(m,g){return ts(ts({},m),{},LO({},g,void 0))},{})):h},getWidgetSearchParameters:function(p,h){return o?p.setQueryParameters(pl):p}}}};function Pw(e,t){return Ko(gJ,e,t)}function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function vJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$O(r.key),r)}}function xJ(e,t,n){return t&&yJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bg(e,t,n){return t=$O(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $O(e){var t=bJ(e,"string");return Wu(t)=="symbol"?t:String(t)}function bJ(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wJ=function(){function e(t){vJ(this,e),Bg(this,"currentPage",void 0),Bg(this,"total",void 0),Bg(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return xJ(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return ej({end:n});var o=this.calculatePaddingLeft(r,i,n,s),a=s-o,l=r-o,u=r+a;return ej({start:l,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return t=_J(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _J(e){var t=jJ(e,"string");return qu(t)=="symbol"?t:String(t)}function jJ(e,t){if(qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EJ=Ki({name:"pagination",connector:!0}),kJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return Dl(t,EJ()),function(r){var i=r||{},s=i.totalPages,o=i.padding,a=o===void 0?3:o,l=new wJ({currentPage:0,total:0,padding:a}),u={};function d(f){var p=f.nbPages;return s!==void 0?Math.min(s,p):p}return{$$type:"ais.pagination",init:function(p){var h=p.instantSearchInstance;t(Xr(Xr({},this.getWidgetRenderState(p)),{},{instantSearchInstance:h}),!0)},render:function(p){var h=p.instantSearchInstance;t(Xr(Xr({},this.getWidgetRenderState(p)),{},{instantSearchInstance:h}),!1)},dispose:function(p){var h=p.state;return n(),h.setQueryParameter("page",void 0)},getWidgetUiState:function(p,h){var m=h.searchParameters,g=m.page||0;return g?Xr(Xr({},p),{},{page:g+1}):p},getWidgetSearchParameters:function(p,h){var m=h.uiState,g=m.page?m.page-1:0;return p.setQueryParameter("page",g)},getWidgetRenderState:function(p){var h=p.results,m=p.helper,g=p.state,b=p.createURL;u.refine||(u.refine=function(w){m.setPage(w),m.search()}),u.createURL||(u.createURL=function(w){return b(function(S){return Xr(Xr({},S),{},{page:w+1})})});var v=g.page||0,x=d(h||{nbPages:0});return l.currentPage=v,l.total=x,{createURL:u.createURL,refine:u.refine,canRefine:x>1,currentRefinement:v,nbHits:(h==null?void 0:h.nbHits)||0,nbPages:x,pages:h?l.pages():[],isFirstPage:l.isFirstPage(),isLastPage:l.isLastPage(),widgetParams:r}},getRenderState:function(p,h){return Xr(Xr({},p),{},{pagination:this.getWidgetRenderState(h)})}}}};function MO(e,t){return Ko(kJ,e,t)}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}var CJ=["name","escapedValue"],RJ=["escapedValue","value"];function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){bc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bc(e,t,n){return t=PJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PJ(e){var t=TJ(e,"string");return Ku(t)=="symbol"?t:String(t)}function TJ(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hj(e,t){if(e==null)return{};var n=NJ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NJ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var jf=Ki({name:"refinement-list",connector:!0}),Bj=["isRefined","count:desc","name:asc"],AJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return Dl(t,jf()),function(r){var i=r||{},s=i.attribute,o=i.operator,a=o===void 0?"or":o,l=i.limit,u=l===void 0?10:l,d=i.showMore,f=d===void 0?!1:d,p=i.showMoreLimit,h=p===void 0?20:p,m=i.sortBy,g=m===void 0?Bj:m,b=i.escapeFacetValues,v=b===void 0?!0:b,x=i.transformItems,w=x===void 0?function(B){return B}:x;if(!s)throw new Error(jf("The `attribute` option is required."));if(!/^(and|or)$/.test(a))throw new Error(jf('The `operator` must one of: `"and"`, `"or"` (got "'.concat(a,'").')));if(f===!0&&h<=u)throw new Error(jf("`showMoreLimit` should be greater than `limit`."));var S=function(P){var k=P.name,E=P.escapedValue,$=Hj(P,CJ);return Xe(Xe({},$),{},{value:E,label:k,highlighted:k})},j,_=[],C=!0,T,I,R=!1,F=function(){};function O(){F()}function D(B,P){return function(){R=!R,P.render(B)}}function A(){return R?h:u}var M=function(){return function(){}},H=function(P,k){return function(E){return function($){var U=E.instantSearchInstance,N=E.results;if($===""&&_)t(Xe(Xe({},k.getWidgetRenderState(Xe(Xe({},E),{},{results:j}))),{},{instantSearchInstance:U}),!1);else{var K={highlightPreTag:v?pl.highlightPreTag:pn.highlightPreTag,highlightPostTag:v?pl.highlightPostTag:pn.highlightPostTag};P.searchForFacetValues(s,$,Math.min(A(),100),K).then(function(Q){var Y=v?C7(Q.facetHits):Q.facetHits,W=w(Y.map(function(ie){var ue=ie.escapedValue,le=ie.value,me=Hj(ie,RJ);return Xe(Xe({},me),{},{value:ue,label:le})}),{results:N});t(Xe(Xe({},k.getWidgetRenderState(Xe(Xe({},E),{},{results:j}))),{},{items:W,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:U}),!1)})}}}};return{$$type:"ais.refinementList",init:function(P){t(Xe(Xe({},this.getWidgetRenderState(P)),{},{instantSearchInstance:P.instantSearchInstance}),!0)},render:function(P){t(Xe(Xe({},this.getWidgetRenderState(P)),{},{instantSearchInstance:P.instantSearchInstance}),!1)},getRenderState:function(P,k){return Xe(Xe({},P),{},{refinementList:Xe(Xe({},P.refinementList),{},bc({},s,this.getWidgetRenderState(k)))})},getWidgetRenderState:function(P){var k=this,E=P.results,$=P.state,U=P.createURL,N=P.instantSearchInstance,K=P.helper,Q=[],Y=[];if((!I||!T||!M)&&(I=$7({instantSearchInstance:N,helper:K,attribute:s,widgetType:this.$$type}),T=function(It){I("click:internal",It),K.toggleFacetRefinement(s,It).search()},M=H(K,this)),E){var W=E.getFacetValues(s,{sortBy:g,facetOrdering:g===Bj});Y=W&&Array.isArray(W)?W:[],Q=w(Y.slice(0,A()).map(S),{results:E});var ie=$.maxValuesPerFacet,ue=A();C=ie>ue?Y.length<=ue:Y.length<ue,j=E,_=Q,P.results&&(F=D(P,this))}var le=M&&M(P),me=R&&_.length>u,Ee=f&&!C,ct=me||Ee;return{createURL:function(It){return U(function(Et){return k.getWidgetUiState(Et,{searchParameters:$.resetPage().toggleFacetRefinement(s,It),helper:K})})},items:Q,refine:T,searchForItems:le,isFromSearch:!1,canRefine:Q.length>0,widgetParams:r,isShowingMore:R,canToggleShowMore:ct,toggleShowMore:O,sendEvent:I,hasExhaustiveItems:C}},dispose:function(P){var k=P.state;n();var E=k.setQueryParameter("maxValuesPerFacet",void 0);return a==="and"?E.removeFacet(s):E.removeDisjunctiveFacet(s)},getWidgetUiState:function(P,k){var E=k.searchParameters,$=a==="or"?E.getDisjunctiveRefinements(s):E.getConjunctiveRefinements(s);return OJ(Xe(Xe({},P),{},{refinementList:Xe(Xe({},P.refinementList),{},bc({},s,$))}),s)},getWidgetSearchParameters:function(P,k){var E=k.uiState,$=a==="or";if(P.isHierarchicalFacet(s)||$&&P.isConjunctiveFacet(s)||!$&&P.isDisjunctiveFacet(s))return P;var U=E.refinementList&&E.refinementList[s],N=$?P.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):P.addFacet(s).removeFacetRefinement(s),K=N.maxValuesPerFacet||0,Q=Math.max(K,f?h:u),Y=N.setQueryParameter("maxValuesPerFacet",Q);if(!U){var W=$?"disjunctiveFacetsRefinements":"facetsRefinements";return Y.setQueryParameters(bc({},W,Xe(Xe({},Y[W]),{},bc({},s,[]))))}return U.reduce(function(ie,ue){return $?ie.addDisjunctiveFacetRefinement(s,ue):ie.addFacetRefinement(s,ue)},Y)}}}};function OJ(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function IJ(e,t){return Ko(AJ,e,t)}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){FJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FJ(e,t,n){return t=DJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DJ(e){var t=LJ(e,"string");return Qu(t)=="symbol"?t:String(t)}function LJ(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $J=Ki({name:"search-box",connector:!0}),MJ=function(t,n){return n(t)},UJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return Dl(t,$J()),function(r){var i=r||{},s=i.queryHook,o=s===void 0?MJ:s,a,l;return{$$type:"ais.searchBox",init:function(d){var f=d.instantSearchInstance;t(ns(ns({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!0)},render:function(d){var f=d.instantSearchInstance;t(ns(ns({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!1)},dispose:function(d){var f=d.state;return n(),f.setQueryParameter("query",void 0)},getRenderState:function(d,f){return ns(ns({},d),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(d){var f=d.helper,p=d.instantSearchInstance,h=d.state;return a||(a=function(g){o(g,function(b){return f.setQuery(b).search()})},l=function(){f.setQuery("").search()}),{query:h.query||"",refine:a,clear:l,widgetParams:r,isSearchStalled:p.status==="stalled"}},getWidgetUiState:function(d,f){var p=f.searchParameters,h=p.query||"";return h===""||d&&d.query===h?d:ns(ns({},d),{},{query:h})},getWidgetSearchParameters:function(d,f){var p=f.uiState;return d.setQueryParameter("query",p.query||"")}}}};function Sd(e,t){return Ko(UJ,e,t)}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){zJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zJ(e,t,n){return t=HJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HJ(e){var t=BJ(e,"string");return Gu(t)=="symbol"?t:String(t)}function BJ(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VJ=Ki({name:"stats",connector:!0}),WJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return Dl(t,VJ()),function(r){return{$$type:"ais.stats",init:function(s){var o=s.instantSearchInstance;t(ga(ga({},this.getWidgetRenderState(s)),{},{instantSearchInstance:o}),!0)},render:function(s){var o=s.instantSearchInstance;t(ga(ga({},this.getWidgetRenderState(s)),{},{instantSearchInstance:o}),!1)},dispose:function(){n()},getRenderState:function(s,o){return ga(ga({},s),{},{stats:this.getWidgetRenderState(o)})},getWidgetRenderState:function(s){var o=s.results,a=s.state;return o?{hitsPerPage:o.hitsPerPage,nbHits:o.nbHits,nbSortedHits:o.nbSortedHits,areHitsSorted:typeof o.appliedRelevancyStrictness<"u"&&o.appliedRelevancyStrictness>0&&o.nbSortedHits!==o.nbHits,nbPages:o.nbPages,page:o.page,processingTimeMS:o.processingTimeMS,query:o.query,widgetParams:r}:{hitsPerPage:a.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:a.page||0,processingTimeMS:-1,query:a.query||"",widgetParams:r}}}}};function _d(e,t){return Ko(WJ,e,t)}function qJ(e,t){return YJ(e)||GJ(e,t)||QJ(e,t)||KJ()}function KJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(e,t){if(e){if(typeof e=="string")return qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(e,t)}}function qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function YJ(e){if(Array.isArray(e))return e}function JJ(){var e=wd(),t=Cw(),n=y.useState(function(){var o=Zy(t);return{results:o.results,scopedResults:o.scopedResults}}),r=qJ(n,2),i=r[0],s=r[1];return y.useEffect(function(){function o(){var a=t.getResults();if(a!==null)s({results:a,scopedResults:t.getScopedResults()});else if(e.mainIndex.getIndexName().length===0){var l=e.mainIndex.getWidgets().find(Xn);l&&s({results:Zy(t).results,scopedResults:l.getScopedResults()})}}return e.addListener("render",o),o(),function(){e.removeListener("render",o)}},[e,t]),i}function Kj(e,t){return tX(e)||eX(e,t)||ZJ(e,t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(e,t){if(e){if(typeof e=="string")return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function tX(e){if(Array.isArray(e))return e}function nX(){var e=wd(),t=Cw(),n=t.getIndexId(),r=y.useState(function(){return e.getUiState()}),i=Kj(r,2),s=i[0],o=i[1],a=s[n],l=y.useState(function(){return e.renderState}),u=Kj(l,2),d=u[0],f=u[1],p=d[n]||{},h=y.useCallback(function(g){e.setUiState(g)},[e]),m=y.useCallback(function(g){t.setIndexUiState(g)},[t]);return y.useEffect(function(){function g(){o(e.getUiState()),f(e.renderState)}return e.addListener("render",g),g(),function(){e.removeListener("render",g)}},[e]),{uiState:s,setUiState:h,indexUiState:a,setIndexUiState:m,renderState:d,indexRenderState:p}}function Tw(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.catchError,n=wd(),r=nX(),i=r.uiState,s=r.setUiState,o=r.indexUiState,a=r.setIndexUiState,l=r.renderState,u=r.indexRenderState,d=JJ(),f=d.results,p=d.scopedResults,h=y.useCallback(function(){for(var g=arguments.length,b=new Array(g),v=0;v<g;v++)b[v]=arguments[v];return n.use.apply(n,b),function(){n.unuse.apply(n,b)}},[n]),m=y.useCallback(function(){n.refresh()},[n]);return gO(function(){if(t){var g=function(){};return n.addListener("error",g),function(){return n.removeListener("error",g)}}return function(){}},[n,t]),{results:f,scopedResults:p,uiState:i,setUiState:s,indexUiState:o,setIndexUiState:a,renderState:l,indexRenderState:u,addMiddlewares:h,refresh:m,status:n.status,error:n.error}}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cx.apply(null,arguments)}function rX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iX(e,t){if(e==null)return{};var n,r,i=rX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){return Array.isArray(i)?r.concat(i):r.concat([i])},[]).filter(Boolean).join(" ")}var sX=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function oX(e){var t=e.createElement;return function(r){var i=r.classNames,s=r.children,o=r.highlightedTagName,a=r.isHighlighted,l=r.nonHighlightedTagName,u=a?o:l;return t(u,{className:a?i.highlighted:i.nonHighlighted},s)}}function aX(e){var t=e.createElement,n=e.Fragment,r=oX({createElement:t});return function(s){var o=s.parts,a=s.highlightedTagName,l=a===void 0?"mark":a,u=s.nonHighlightedTagName,d=u===void 0?"span":u,f=s.separator,p=f===void 0?", ":f,h=s.className,m=s.classNames,g=m===void 0?{}:m,b=iX(s,sX);return t("span",cx({},b,{className:wc(g.root,h)}),o.map(function(v,x){var w=x===o.length-1;return t(n,{key:x},v.map(function(S,j){return t(r,{key:j,classNames:g,highlightedTagName:l,nonHighlightedTagName:d,isHighlighted:S.isHighlighted},S.value)}),!w&&t("span",{className:g.separator},p))}))}}var lX=aX({createElement:y.createElement,Fragment:y.Fragment}),cX=["classNames"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(this,arguments)}function uX(e,t){if(e==null)return{};var n=dX(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dX(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fX(e){var t=e.classNames,n=t===void 0?{}:t,r=uX(e,cX);return V.createElement(lX,ux({classNames:{root:wc("ais-Highlight",n.root),highlighted:wc("ais-Highlight-highlighted",n.highlighted),nonHighlighted:wc("ais-Highlight-nonHighlighted",n.nonHighlighted),separator:wc("ais-Highlight-separator",n.separator)}},r))}var hX=["hit","attribute","highlightedTagName","nonHighlightedTagName","separator"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(this,arguments)}function pX(e,t){if(e==null)return{};var n=mX(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mX(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gX(e){var t=e.hit,n=e.attribute,r=e.highlightedTagName,i=e.nonHighlightedTagName,s=e.separator,o=pX(e,hX),a=bd(t._highlightResult,n)||[],l=Array.isArray(a)?a:[a],u=l.map(function(d){return kw(ZA(d.value||""))});return V.createElement(fX,dx({},o,{parts:u,highlightedTagName:r,nonHighlightedTagName:i,separator:s}))}const Nw=()=>{const{user:e}=jt(),[t,n]=y.useState(!1),[r,i]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:o,error:a}=await re.rpc("is_supra_admin",{user_uuid:e.id});a?(console.error("Error checking supra admin status:",a),n(!1)):n(o||!1)}catch(o){console.error("Error in supra admin check:",o),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},Ll=()=>{const{user:e}=jt(),{userProfile:t}=rw(),{isSupraAdmin:n}=Nw(),{currentWorkspace:r}=Gs(),i=(r==null?void 0:r.plan_type)||(t==null?void 0:t.plan_type),o=n||i==="pro"&&(t==null?void 0:t.role)==="admin",a=n||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="gestionnaire",l=n||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="gestionnaire",u=n||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="gestionnaire",d=n||(t==null?void 0:t.role)==="admin",f=n||(t==null?void 0:t.role)==="admin",p=n||(t==null?void 0:t.role)==="admin";return{isSupraAdmin:n,canImportData:o,canExport:a,canCopyToClipboard:l,canAddToFavorites:u,canManageUsers:d,canManageWorkspace:f,canDeleteData:p,canAddUsers:d,role:t==null?void 0:t.role,planType:i}},vX={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},pro:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},yX=()=>{const{user:e}=jt(),{planType:t,isSupraAdmin:n}=Ll(),r=y.useCallback(async()=>{if(!e)return;const s=vX[n?"pro":t||"freemium"];try{const{data:o,error:a}=await re.from("search_quotas").select("*").eq("user_id",e.id).single();if(a&&a.code!=="PGRST116"){console.error("Erreur lors de la rcupration des quotas:",a);return}const{error:l}=await re.from("search_quotas").upsert({user_id:e.id,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(o==null?void 0:o.exports_used)||0,clipboard_copies_used:(o==null?void 0:o.clipboard_copies_used)||0,favorites_used:(o==null?void 0:o.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});l&&console.error("Erreur lors de la synchronisation des quotas:",l)}catch(o){console.error("Erreur lors de la synchronisation des quotas:",o)}},[e,t,n]);return y.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},UO=(e,t,n,r=[],i)=>{const s=y.useRef(null),o=y.useRef(null),a=y.useRef(!1),l=y.useCallback(d=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{n(d)},t.debounceMs||100)},[n,t.debounceMs]);return y.useEffect(()=>{a.current=!1,s.current&&(re.removeChannel(s.current),s.current=null);const d=re.channel(e,{config:{presence:(i==null?void 0:i.presence)||{key:"default"},broadcast:(i==null?void 0:i.broadcast)||{self:!1},private:(i==null?void 0:i.private)||!0}}).on("postgres_changes",{event:t.event||"UPDATE",schema:t.schema||"public",table:t.table,filter:t.filter},l).subscribe(f=>{if(f==="CLOSED"){a.current||typeof document<"u"&&document.visibilityState;return}});return s.current=d,()=>{a.current=!0,o.current&&(clearTimeout(o.current),o.current=null),s.current&&(re.removeChannel(s.current),s.current=null)}},r),{disconnect:y.useCallback(()=>{s.current&&(re.removeChannel(s.current),s.current=null)},[])}},xX=(e,t)=>UO(`quota-updates-${e}`,{table:"search_quotas",event:"UPDATE",filter:`user_id=eq.${e}`},t,[e],{presence:{key:e||"anonymous"},broadcast:{self:!1},private:!0}),bX=(e,t)=>UO(`workspace-assignments-${e}`,{table:"fe_source_workspace_assignments",event:"INSERT,DELETE",filter:`workspace_id=eq.${e}`,debounceMs:200},t,[e],{presence:{key:e||"default"},broadcast:{self:!1},private:!0}),Aw=()=>{const{user:e}=jt(),{planType:t}=Ll(),[n,r]=y.useState(null),[i,s]=y.useState(!0),[o,a]=y.useState(null),{syncUserQuotas:l}=yX(),u=y.useCallback(async()=>{if(!e){s(!1);return}s(!0),a(null),await l();try{const{data:x,error:w}=await re.from("search_quotas").select("*").eq("user_id",e.id).single();if(w&&w.code!=="PGRST116"){a(w.message);return}if(x){const S={...x,plan_type:t};r(S)}else{const{data:S,error:j}=await re.from("search_quotas").insert({user_id:e.id,exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(j){a(j.message);return}r(S)}}catch(x){a(x instanceof Error?x.message:"Unknown error")}finally{s(!1)}},[e,l,t]),d=y.useCallback(x=>{x.eventType==="UPDATE"&&x.new&&x.new.user_id===(e==null?void 0:e.id)&&r(x.new)},[e==null?void 0:e.id]);xX(e==null?void 0:e.id,d),y.useEffect(()=>{u()},[u]);const f=n?n.exports_limit===null||n.exports_used<n.exports_limit:!1,p=n?n.clipboard_copies_limit===null||n.clipboard_copies_used<n.clipboard_copies_limit:!1,h=n?n.favorites_limit===null||n.favorites_used<n.favorites_limit:!1,m=n?!f||!p||!h:!1,g=y.useCallback(async(x=1)=>{if(!e||!n||n.exports_limit===null)return;const{error:w}=await re.from("search_quotas").update({exports_used:n.exports_used+x}).eq("user_id",e.id);if(w)throw w;r(S=>S?{...S,exports_used:S.exports_used+x}:null)},[e,n]),b=y.useCallback(async(x=1)=>{if(!e||!n||n.clipboard_copies_limit===null)return;const{error:w}=await re.from("search_quotas").update({clipboard_copies_used:n.clipboard_copies_used+x}).eq("user_id",e.id);if(w)throw w;r(S=>S?{...S,clipboard_copies_used:S.clipboard_copies_used+x}:null)},[e,n]),v=y.useCallback(async()=>{if(!e||!n||n.favorites_limit===null)return;const{error:x}=await re.from("search_quotas").update({favorites_used:n.favorites_used+1}).eq("user_id",e.id);if(x)throw x;r(w=>w?{...w,favorites_used:w.favorites_used+1}:null)},[e,n]);return{quotaData:n,isLoading:i,error:o,canExport:f,canCopyToClipboard:p,canAddToFavorites:h,isAtLimit:m,incrementExport:g,incrementClipboardCopy:b,incrementFavorite:v,reloadQuota:u}},wX="ef_all",zO=!1,An={ENABLE_CACHE:!0,ENABLE_DEDUPLICATION:!0,ENABLE_BATCHING:!0,ENABLE_SMART_THROTTLING:!0,ENABLE_SMART_SUGGESTIONS:!0,ENABLE_AUTO_TUNING:!0,ENABLE_PERFORMANCE_MONITORING:!0,DEBUG_PERFORMANCE:zO,CACHE_TTL_MS:5*60*1e3,MAX_CACHE_SIZE:1e3,THROTTLE_REQUESTS_PER_SECOND:5,DEBOUNCE_DELAY_MS:300,BATCH_DELAY_MS:50,MAX_BATCH_SIZE:10};class SX{constructor(){qe(this,"cache",new Map);qe(this,"metrics",{requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0});qe(this,"requestTimestamps",[]);qe(this,"baseTTL",5*60*1e3);qe(this,"maxCacheSize",1e3)}generateCacheKey(t){const n=t||{},r=n.params||{},i=n.query??r.query??"",s=n.filters??r.filters??"",o=n.facetFilters??r.facetFilters??[],a=n.origin??"all",l=n.hitsPerPage??r.hitsPerPage??20,u=n.page??r.page??0,d=Array.isArray(o)?o.flat().sort().join("|"):String(o);return`${a}:${i}:${s}:${d}:${l}:${u}`}calculateAdaptiveTTL(t){const n=(t==null?void 0:t.params)||{},r=(t==null?void 0:t.query)??n.query??"",i=!!((t==null?void 0:t.filters)??n.filters??"").toString().trim()||Array.isArray((t==null?void 0:t.facetFilters)??n.facetFilters)&&((t==null?void 0:t.facetFilters)??n.facetFilters).length>0;return r.length>6&&i?this.baseTTL*2:r.length<3?this.baseTTL*.5:this.baseTTL}updateMetrics(){const n=Date.now()-60*1e3;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n),this.metrics.requestsPerMinute=this.requestTimestamps.length;const r=this.metrics.totalRequests;this.metrics.cacheHitRate=r>0?this.metrics.savedRequests/r*100:0}evictOldEntries(){if(this.cache.size<=this.maxCacheSize)return;const n=Array.from(this.cache.entries()).sort((i,s)=>{const o=i[1].accessCount/(Date.now()-i[1].lastAccess),a=s[1].accessCount/(Date.now()-s[1].lastAccess);return o-a}),r=Math.floor(this.cache.size*.2);for(let i=0;i<r;i++)this.cache.delete(n[i][0])}get(t){const n=this.generateCacheKey(t),r=this.cache.get(n);if(this.metrics.totalRequests++,this.requestTimestamps.push(Date.now()),!r)return this.updateMetrics(),null;const i=Date.now();return i-r.timestamp>r.ttl?(this.cache.delete(n),this.updateMetrics(),null):(r.accessCount++,r.lastAccess=i,this.metrics.savedRequests++,this.updateMetrics(),r)}set(t,n,r="all"){const i=this.generateCacheKey(t),s=this.calculateAdaptiveTTL(t),o=Date.now(),a={key:i,data:n,timestamp:o,origin:r,ttl:s,accessCount:1,lastAccess:o};this.cache.set(i,a),this.evictOldEntries()}invalidateBySource(t){var n,r;for(const[i,s]of this.cache.entries())(r=(n=s.data)==null?void 0:n.results)!=null&&r.some(o=>{var a;return(a=o.hits)==null?void 0:a.some(l=>l.Source===t)})&&this.cache.delete(i)}invalidateByOrigin(t){for(const[n,r]of this.cache.entries())(r.origin===t||r.origin==="all")&&this.cache.delete(n)}clear(){this.cache.clear(),this.metrics={requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0}}getMetrics(){return this.updateMetrics(),{...this.metrics}}autoTune(){const t=this.getMetrics();t.cacheHitRate<30&&(this.baseTTL=Math.min(this.baseTTL*1.2,15*60*1e3)),t.duplicateRequests>50&&(this.maxCacheSize=Math.min(this.maxCacheSize*1.1,2e3)),t.requestsPerMinute>100&&(this.baseTTL=Math.max(this.baseTTL*.8,2*60*1e3))}getCacheStats(){return{size:this.cache.size,maxSize:this.maxCacheSize,baseTTL:this.baseTTL,metrics:this.getMetrics(),entries:Array.from(this.cache.values()).map(t=>({key:t.key,age:Date.now()-t.timestamp,accessCount:t.accessCount,ttl:t.ttl}))}}}const In=new SX;class _X{constructor(){qe(this,"pendingRequests",new Map);qe(this,"requestQueue",new Map);qe(this,"timeout",5e3)}generateRequestKey(t){const n=t||{},r=n.params||{},i=n.query??r.query??"",s=n.filters??r.filters??"",o=n.facetFilters??r.facetFilters??[],a=n.origin??"all",l=n.hitsPerPage??r.hitsPerPage??20,u=n.page??r.page??0,d=n.indexName??"",f=Array.isArray(o)?o.flat().sort().join("|"):String(o);return`${d}:${a}:${i}:${s}:${f}:${l}:${u}`}cleanupExpiredRequests(){const t=Date.now();for(const[n,r]of this.pendingRequests.entries())t-r.timestamp>this.timeout&&(this.pendingRequests.delete(n),this.requestQueue.delete(n))}async deduplicateRequest(t,n){this.cleanupExpiredRequests();const r=this.generateRequestKey(t),i=this.pendingRequests.get(r);if(i)return i.requestCount++,this.requestQueue.has(r)||this.requestQueue.set(r,[]),this.requestQueue.get(r).push(t),i.promise;const s=n(),o=Date.now();return this.pendingRequests.set(r,{promise:s,timestamp:o,requestCount:1}),s.finally(()=>{this.pendingRequests.delete(r),this.requestQueue.delete(r)}),s}getDuplicationStats(){const t={activePendingRequests:this.pendingRequests.size,totalDuplicatedRequests:0,mostDuplicatedKeys:[]};for(const[n,r]of this.pendingRequests.entries())t.totalDuplicatedRequests+=r.requestCount-1;return t.mostDuplicatedKeys=Array.from(this.pendingRequests.entries()).map(([n,r])=>({key:n,count:r.requestCount})).sort((n,r)=>r.count-n.count).slice(0,10),t}batchSimilarRequests(t){const n=new Map;for(const r of t){const i=this.generateBatchKey(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}return n}generateBatchKey(t){const n=t||{},r=n.params||{},i=n.origin??"all",s=n.indexName??"",a=(n.query??r.query??"").substring(0,3);return`${s}:${i}:${a}`}clear(){this.pendingRequests.clear(),this.requestQueue.clear()}}const Vg=new _X,jX=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag","workspace_id","_search_context"];function EX(e){let t="public";const n=Array.isArray(e)?e.flat():[];for(const r of n)if(typeof r=="string"&&r.startsWith("source_index:")){const i=r.split(":")[1];(i==="public"||i==="private")&&(t=i)}return t}function kX(e){const t=Array.isArray(e==null?void 0:e.ruleContexts)?e.ruleContexts:[];return t.includes("origin:public")?"public":t.includes("origin:private")?"private":EX(e==null?void 0:e.facetFilters)}function CX(e){if(!e)return e;const t=n=>typeof n!="string"?!1:n.startsWith("source_index:")||n.startsWith("scope:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):typeof e=="string"?[[e]]:e}function RX(e){if(!e||e.length===0)return"objectID:_none_";const t=e.filter(Boolean).map(n=>`objectID:"${String(n).replace(/"/g,'"')}"`);return t.length>0?t.join(" OR "):"objectID:_none_"}const PX={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_USE_SECURED_KEYS:"true"};function Gj(e,t,n){try{if(!(typeof import.meta<"u"&&PX&&!1))return}catch{return}try{console.debug(`[Algolia][Filters] ${e}`,{filters:t,...n||{}})}catch{}}const TX=(e="unified")=>({search:async t=>{const n=t.map(l=>{var h;const u=l.origin||void 0,d=l.params||{},f=((h=d==null?void 0:d._search_context)==null?void 0:h.workspace_id)||(d==null?void 0:d.workspace_id),p={origin:u||"public",...d};return(u||"public")==="private"&&typeof f=="string"&&f.length>=36&&(p.workspace_id=f),p}),{data:{session:r}}=await re.auth.getSession(),i={};r!=null&&r.access_token&&(i.Authorization=`Bearer ${r.access_token}`);const{data:s,error:o}=await re.functions.invoke("algolia-search-proxy",{body:{requests:n},headers:i});if(o)throw new Error(`Search proxy error: ${o.message||JSON.stringify(o)}`);const a=s;return Array.isArray(a==null?void 0:a.results)?{results:a.results}:{results:[a]}}});let Jh=0,Xf=0;function Ef(){return Date.now()<Jh}function Wg(){Xf=Math.min(Xf+1,6);const e=10*6e4,t=Math.min(e*Math.pow(2,Xf-1),60*60*1e3);Jh=Date.now()+t,typeof window<"u"&&(window.__algoliaBlockedUntil=Jh)}function NX(){Jh=0,Xf=0,typeof window<"u"&&(window.__algoliaBlockedUntil=0)}function qg(e){var r;const t=(e==null?void 0:e.status)??(e==null?void 0:e.httpStatusCode)??((r=e==null?void 0:e.response)==null?void 0:r.status),n=String((e==null?void 0:e.message)||"").toLowerCase();return t===403||n.includes("forbidden")||n.includes("blocked")}function Zf(e){var r,i;const t=((r=e==null?void 0:e.params)==null?void 0:r.hitsPerPage)||10,n=((i=e==null?void 0:e.params)==null?void 0:i.query)||"";return{hits:[],nbHits:0,page:0,nbPages:0,hitsPerPage:t,processingTimeMS:0,query:n,params:""}}function kf(e){const t=e[0];return{results:e.map(()=>Zf(t))}}class AX{constructor(t,n=[]){qe(this,"client",null);qe(this,"initPromise",null);qe(this,"requestQueue",[]);qe(this,"batchTimer",null);qe(this,"batchDelay",130);qe(this,"maxBatchSize",10);this.workspaceId=t,this.assignedSources=n,this.initializeClients()}ensureObjectIdOnHits(t){if(!t||!Array.isArray(t.hits))return t;const n=t.hits.map(r=>{if(r&&(r.objectID===void 0||r.objectID===null||r.objectID==="")){const i=r.object_id??r.objectId??r.id;return i?{...r,objectID:String(i)}:r}return r});return{...t,hits:n}}async initializeClients(){return this.initPromise?this.initPromise:(this.initPromise=(async()=>{this.client=TX("unified")})(),this.initPromise)}async search(t,n={}){if(await this.initializeClients(),Ef())return kf(t||[]);const{enableCache:r=!0,enableDeduplication:i=!0,enableBatching:s=!0,forceRefresh:o=!1,timeout:a=5e3,teaserAllowed:l=!0}=n,u=this.cleanRequests(t);return s&&!o&&u.length===1?this.addToBatch(u[0]):this.processRequests(u,{enableCache:r,enableDeduplication:i,forceRefresh:o,timeout:a})}cleanRequests(t){return t.map(n=>({...n,params:Object.fromEntries(Object.entries(n.params||{}).filter(([r])=>jX.includes(r)))}))}async addToBatch(t){return new Promise((n,r)=>{if(t.resolve=n,t.reject=r,this.requestQueue.push(t),this.requestQueue.length>=this.maxBatchSize){this.processBatch();return}this.scheduleBatch()})}scheduleBatch(){this.batchTimer||(this.batchTimer=setTimeout(()=>{this.processBatch()},this.batchDelay))}async processBatch(){if(this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue.length===0)return;const t=this.requestQueue.splice(0,this.maxBatchSize),n=t.length>0?[t[t.length-1]]:[];try{if(Ef()){const s=kf(t);t.forEach((o,a)=>{const l=o.resolve;l&&l({results:[s.results[a]]})});return}const i=(await this.processRequests(n.map(s=>({...s,resolve:void 0,reject:void 0})))).results[0];t.forEach(s=>{const o=s.resolve;o&&o({results:[i]})})}catch(r){if(qg(r)){Wg(),console.log(" Algolia temporairement indisponible (plan payant requis)"),t.forEach(i=>{const s=i.resolve;s&&s({results:[Zf(i)]})});return}t.forEach(i=>{const s=i.reject;s&&s(r)})}this.requestQueue.length>0&&this.scheduleBatch()}async processRequests(t,n={}){const{enableCache:r=!0,enableDeduplication:i=!0,forceRefresh:s=!1}=n;if(Ef())return kf(t);try{const o=[];for(const a of t){if(r&&!s){const u=In.get(a);if(u){o.push(u.data);continue}}const l=i?await Vg.deduplicateRequest(a,()=>this.executeSingleRequest(a)):await this.executeSingleRequest(a);o.push(l),r&&In.set(a,l,a.origin)}return NX(),{results:o}}catch(o){return qg(o)&&(Wg(),console.log(" Algolia temporairement indisponible (plan payant requis)")),kf(t)}}async executeSingleRequest(t){if(!this.client)throw new Error("Client not initialized");if(Ef())return Zf(t);try{const n=t.origin||"public",r={...t.params||{}};Gj("1. Raw incoming facetFilters",r.facetFilters,{origin:n});const i=CX(r.facetFilters);return Gj("2. After sanitizeFacetFilters",i),this.searchUnified(n,r,i)}catch(n){return qg(n)&&(Wg(),console.log(" Algolia temporairement indisponible (plan payant requis)")),Zf(t)}}async searchUnified(t,n,r){const i={...n,facetFilters:r,filters:n.filters};this.workspaceId&&(i.workspace_id=this.workspaceId);const s={indexName:"ef_all",origin:t,params:i},o=await this.client.search([s]);return this.ensureObjectIdOnHits(o.results[0])}combineFilters(...t){const n=t.filter(r=>r&&r.trim().length>0);if(n.length!==0)return n.length===1?n[0]:n.map(r=>`(${r})`).join(" AND ")}getPerformanceMetrics(){return{cache:In.getMetrics(),deduplication:Vg.getDuplicationStats(),queueSize:this.requestQueue.length,clientsInitialized:!!this.client}}invalidateCache(t,n){t?In.invalidateBySource(t):n?In.invalidateByOrigin(n):In.clear()}optimize(){In.autoTune()}dispose(){this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue=[],Vg.clear()}}const OX=(e,t=[])=>new AX(e,t);class IX{constructor(t){qe(this,"metrics");qe(this,"requestTimes",[]);qe(this,"requestTimestamps",[]);qe(this,"uniqueUsers",new Set);qe(this,"searchTerms",new Map);qe(this,"maxHistorySize",1e3);qe(this,"metricsRetentionTime",24*60*60*1e3);qe(this,"alertConfig");qe(this,"alertCallbacks",[]);this.alertConfig={errorRateThreshold:5,responseTimeThreshold:2e3,cacheHitRateThreshold:70,requestRateThreshold:100,...t},this.metrics=this.initializeMetrics(),this.startPeriodicCalculations()}initializeMetrics(){return{totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,p95ResponseTime:0,p99ResponseTime:0,cacheHitRate:0,cacheMissRate:0,cacheSize:0,duplicateRequestsAvoided:0,deduplicationRate:0,throttledRequests:0,debouncedRequests:0,totalRequestsSaved:0,estimatedCostSavings:0,searchesPerMinute:0,uniqueUsers:0,topSearchTerms:[],lastUpdated:Date.now()}}recordRequest(t,n,r,i,s=!1){if(this.metrics.totalRequests++,n?this.metrics.successfulRequests++:this.metrics.failedRequests++,s||(this.requestTimes.push(t),this.limitArraySize(this.requestTimes)),this.requestTimestamps.push(Date.now()),this.limitArraySize(this.requestTimestamps),r&&this.uniqueUsers.add(r),i&&i.trim()){const o=i.trim().toLowerCase();this.searchTerms.set(o,(this.searchTerms.get(o)||0)+1)}this.updateDerivedMetrics(),this.checkAlerts()}recordSaving(t,n=1){switch(t){case"cache":break;case"deduplication":this.metrics.duplicateRequestsAvoided+=n;break;case"throttling":this.metrics.throttledRequests+=n;break;case"debouncing":this.metrics.debouncedRequests+=n;break}this.metrics.totalRequestsSaved+=n,this.updateDerivedMetrics()}updateDerivedMetrics(){const t=Date.now();if(this.requestTimes.length>0){const o=[...this.requestTimes].sort((a,l)=>a-l);this.metrics.averageResponseTime=o.reduce((a,l)=>a+l,0)/o.length,this.metrics.p95ResponseTime=o[Math.floor(o.length*.95)]||0,this.metrics.p99ResponseTime=o[Math.floor(o.length*.99)]||0}const n=this.metrics.totalRequests;if(n>0){const o=this.metrics.totalRequestsSaved+this.metrics.duplicateRequestsAvoided;this.metrics.cacheHitRate=o/n*100,this.metrics.cacheMissRate=100-this.metrics.cacheHitRate}this.metrics.totalRequests>0&&(this.metrics.deduplicationRate=this.metrics.duplicateRequestsAvoided/this.metrics.totalRequests*100);const r=t-60*1e3,i=this.requestTimestamps.filter(o=>o>r);this.metrics.searchesPerMinute=i.length,this.metrics.uniqueUsers=this.uniqueUsers.size,this.metrics.topSearchTerms=Array.from(this.searchTerms.entries()).sort((o,a)=>a[1]-o[1]).slice(0,10).map(([o])=>o);const s=.01;this.metrics.estimatedCostSavings=this.metrics.totalRequestsSaved*s,this.metrics.lastUpdated=t}checkAlerts(){const t=[],n=this.metrics.failedRequests/this.metrics.totalRequests*100;n>this.alertConfig.errorRateThreshold&&t.push({type:"error_rate",severity:"high",message:`Taux d'erreur lev: ${n.toFixed(1)}%`,threshold:this.alertConfig.errorRateThreshold,current:n}),this.metrics.averageResponseTime>this.alertConfig.responseTimeThreshold&&t.push({type:"response_time",severity:"medium",message:`Temps de rponse lev: ${this.metrics.averageResponseTime.toFixed(0)}ms`,threshold:this.alertConfig.responseTimeThreshold,current:this.metrics.averageResponseTime}),this.metrics.cacheHitRate<this.alertConfig.cacheHitRateThreshold&&t.push({type:"cache_hit_rate",severity:"medium",message:`Taux de cache faible: ${this.metrics.cacheHitRate.toFixed(1)}%`,threshold:this.alertConfig.cacheHitRateThreshold,current:this.metrics.cacheHitRate}),this.metrics.searchesPerMinute>this.alertConfig.requestRateThreshold&&t.push({type:"request_rate",severity:"low",message:`Taux de requtes lev: ${this.metrics.searchesPerMinute} req/min`,threshold:this.alertConfig.requestRateThreshold,current:this.metrics.searchesPerMinute}),t.forEach(r=>{this.alertCallbacks.forEach(i=>{try{i(r)}catch(s){console.error("Error in alert callback:",s)}})})}generateRecommendations(){const t=[];this.metrics.cacheHitRate<60&&t.push({type:"cache",priority:"high",title:"Amliorer le taux de cache",description:`Le taux de cache actuel est de ${this.metrics.cacheHitRate.toFixed(1)}%, ce qui est sous-optimal.`,impact:"Rduction significative des requtes Algolia",action:"Augmenter le TTL du cache et implmenter un cache prfixe plus agressif",estimatedSavings:this.calculateCacheSavings()}),this.metrics.averageResponseTime>1e3&&t.push({type:"architecture",priority:"medium",title:"Optimiser les temps de rponse",description:`Le temps de rponse moyen est de ${this.metrics.averageResponseTime.toFixed(0)}ms.`,impact:"Amlioration de l'exprience utilisateur",action:"Implmenter plus de paralllisme et optimiser les requtes",estimatedSavings:0}),this.metrics.deduplicationRate<30&&t.push({type:"architecture",priority:"medium",title:"Amliorer la dduplication",description:`Seulement ${this.metrics.deduplicationRate.toFixed(1)}% des requtes sont ddupliques.`,impact:"Rduction des requtes redondantes",action:"Amliorer les cls de dduplication et augmenter la fentre de dduplication",estimatedSavings:this.calculateDeduplicationSavings()}),this.metrics.searchesPerMinute>200&&t.push({type:"indexing",priority:"low",title:"Optimiser la structure d'index",description:"Volume de recherches lev dtect.",impact:"Amlioration des performances gnrales",action:"Rviser la structure des index et les attributs de recherche",estimatedSavings:0});const n={critical:0,high:1,medium:2,low:3};return t.sort((r,i)=>n[r.priority]-n[i.priority])}calculateCacheSavings(){const n=this.metrics.totalRequestsSaved,r=this.metrics.totalRequests*80/100-n;return Math.max(0,r*.01)}calculateDeduplicationSavings(){const n=this.metrics.duplicateRequestsAvoided,r=this.metrics.totalRequests*50/100-n;return Math.max(0,r*.01)}autoTune(){const t={cacheAdjustments:{},throttlingAdjustments:{},debounceAdjustments:{}};return this.metrics.cacheHitRate<50&&(t.cacheAdjustments={increaseTTL:!0,newTTL:Math.min(6e5,3e5*1.5),increaseMaxSize:!0,newMaxSize:Math.min(2e3,1e3*1.2)}),this.metrics.searchesPerMinute>150&&(t.throttlingAdjustments={reduceMaxRequestsPerSecond:!0,newMaxRequestsPerSecond:Math.max(3,5*.8),increaseBurstAllowance:!1}),this.metrics.averageResponseTime>1500&&(t.debounceAdjustments={increaseDelay:!0,newBaseDelay:Math.min(500,300*1.3),newMaxDelay:Math.min(1500,1e3*1.2)}),t}limitArraySize(t){t.length>this.maxHistorySize&&t.splice(0,t.length-this.maxHistorySize)}startPeriodicCalculations(){setInterval(()=>{this.updateDerivedMetrics(),this.cleanOldData()},3e4)}cleanOldData(){const t=Date.now()-this.metricsRetentionTime;this.requestTimestamps=this.requestTimestamps.filter(n=>n>t);for(const[n,r]of this.searchTerms.entries())r<2&&this.searchTerms.delete(n)}getMetrics(){return{...this.metrics}}onAlert(t){this.alertCallbacks.push(t)}offAlert(t){const n=this.alertCallbacks.indexOf(t);n>-1&&this.alertCallbacks.splice(n,1)}reset(){this.metrics=this.initializeMetrics(),this.requestTimes=[],this.requestTimestamps=[],this.uniqueUsers.clear(),this.searchTerms.clear()}exportMetrics(){return{metrics:this.getMetrics(),recommendations:this.generateRecommendations(),autoTuneSettings:this.autoTune(),rawData:{requestTimes:[...this.requestTimes],requestTimestamps:[...this.requestTimestamps],searchTerms:Object.fromEntries(this.searchTerms),uniqueUsersCount:this.uniqueUsers.size}}}}const as=new IX,FX=({error:e,onRetry:t})=>{const n=()=>{t?t():window.location.reload()};return c.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Ha,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Page de recherche temporairement indisponible"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Nous travaillons  rsoudre le problme"})]}),c.jsxs("div",{className:"space-y-6",children:[e&&c.jsxs(Vr,{variant:"destructive",children:[c.jsx(Ms,{className:"h-4 w-4"}),c.jsx(DT,{children:"Erreur technique dtecte"}),c.jsx(Wr,{className:"mt-2",children:c.jsxs("details",{className:"text-sm",children:[c.jsx("summary",{className:"cursor-pointer font-medium",children:"Dtails de l'erreur (cliquez pour voir)"}),c.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:e})]})})]}),c.jsxs(Ae,{children:[c.jsxs(He,{children:[c.jsx(Be,{children:" Systme d'optimisation Algolia"}),c.jsx(Ln,{children:"Malgr l'erreur, nos optimisations restent oprationnelles"})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{children:"Cache intelligent configur"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{children:"Dduplication des requtes"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{children:"Throttling adaptatif"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{children:"Monitoring des performances"})]})]}),c.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[c.jsxs("p",{className:"text-sm text-blue-800",children:[" ",c.jsx("strong",{children:"Bonne nouvelle :"})," Une fois la recherche rtablie, vous bnficierez automatiquement de :"]}),c.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside",children:[c.jsx("li",{children:"75% de rduction des requtes Algolia"}),c.jsx("li",{children:"67% d'amlioration des performances"}),c.jsx("li",{children:"650% d'augmentation du taux de cache"}),c.jsx("li",{children:"Gestion automatique des pics de charge"})]})]})]})]}),c.jsxs("div",{className:"text-center space-y-4",children:[c.jsxs(te,{onClick:n,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:[c.jsx(ud,{className:"h-4 w-4 mr-2"}),"Ressayer"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Si le problme persiste, contactez l'quipe technique"})]}),c.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Que pouvez-vous faire en attendant ?"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[c.jsxs("li",{children:[" Accder au ",c.jsx("a",{href:"/admin",className:"text-blue-600 hover:underline",children:"dashboard admin"})," pour voir les mtriques"]}),c.jsxs("li",{children:[" Consulter vos ",c.jsx("a",{href:"/favorites",className:"text-blue-600 hover:underline",children:"favoris"})," sauvegards"]}),c.jsxs("li",{children:[" Vrifier la ",c.jsx("a",{href:"/settings",className:"text-blue-600 hover:underline",children:"configuration"})," de votre workspace"]})]})]})]})]})};class DX extends y.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){var r,i,s,o,a,l;const n=((r=t.message)==null?void 0:r.includes("blocked"))||((i=t.message)==null?void 0:i.includes("Algolia"))||((s=t.message)==null?void 0:s.includes("length"))||((o=t.message)==null?void 0:o.includes("Cannot read properties"))||((a=t.stack)==null?void 0:a.includes("SearchBox"))||((l=t.stack)==null?void 0:l.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403;return{hasError:n,error:n?t:null}}componentDidCatch(t,n){var i,s,o,a,l,u;((i=t.message)==null?void 0:i.includes("blocked"))||((s=t.message)==null?void 0:s.includes("Algolia"))||((o=t.message)==null?void 0:o.includes("length"))||((a=t.message)==null?void 0:a.includes("Cannot read properties"))||((l=t.stack)==null?void 0:l.includes("SearchBox"))||((u=t.stack)==null?void 0:u.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403?console.log(" Erreur lie  la recherche gre gracieusement:",t.message):console.error("Error boundary caught an error:",t,n)}render(){var t,n,r;return this.state.hasError&&this.state.error?((t=this.state.error.message)!=null&&t.includes("blocked")||(n=this.state.error.message)!=null&&n.includes("Algolia")||((r=this.state.error)==null||r.status),c.jsx(FX,{error:this.state.error.message,onRetry:()=>window.location.reload()})):this.props.children}}const LX=()=>{const{query:e}=Sd(),{nbHits:t,processingTimeMS:n}=_d();return Tw(),null};function $X(e,t=[]){const[n,r]=y.useState(null);return y.useEffect(()=>{let i=!1;async function s(){if(!i){const o=OX(e,t);r(o)}}return s(),()=>{i=!0,n&&n.dispose()}},[e,JSON.stringify(t)]),n}const MX=y.createContext(null),sm=y.createContext(null),Ow=()=>{const e=y.useContext(sm);if(!e)throw new Error("useOrigin must be used within SearchProvider");return e},UX=()=>y.useContext(sm),HO=y.createContext(null),BO=()=>{const e=y.useContext(HO);if(!e)throw new Error("useSearchControls must be used within SearchProvider");return e},zX=({children:e})=>{const[t,n]=y.useState("public");return c.jsx(sm.Provider,{value:{origin:t,setOrigin:n},children:e})},VO=({children:e})=>{const{user:t,loading:n}=jt(),r=Aw(),{currentWorkspace:i}=Gs(),{assignedSources:s}=Fl(),{language:o}=en(),a=$X(i==null?void 0:i.id,s),[l,u]=y.useState("public"),d=y.useRef(o),f=y.useRef("public");y.useEffect(()=>{f.current=l},[l]),y.useEffect(()=>{d.current=o},[o]);const p=y.useRef(i==null?void 0:i.id);y.useEffect(()=>{p.current=i==null?void 0:i.id},[i==null?void 0:i.id]);const h=V.useCallback(j=>{u(j)},[]),m=y.useRef(0),g=y.useMemo(()=>({forceNextSearch:()=>{m.current=Date.now()+1e3}}),[]);typeof window<"u"&&(window.algoliaSearchControls=g);const b=y.useRef(null),v=y.useRef(!1),x=y.useRef(""),w=y.useRef(null);a&&!b.current&&(b.current={search:async j=>{var T,I,R,F;const _=Date.now();let C=!0;try{const O=j.map(M=>{const H=(M==null?void 0:M.params)||{},B=kX(H)||f.current;return console.log("DEBUG SearchProvider:",{currentWorkspaceId:i==null?void 0:i.id,workspaceIdRef:p.current,computedOrigin:B,language:d.current}),{...M,origin:B,params:{...H,_search_context:{workspace_id:p.current,origin:B,timestamp:Date.now(),language:d.current},workspace_id:p.current,query_language:d.current,remove_stop_words:d.current,ignore_plurals:d.current}}}),D=((I=(T=O==null?void 0:O[0])==null?void 0:T.params)==null?void 0:I.query)??"";return(D||"")!==(x.current||"")&&(x.current=D,v.current=!1,w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{v.current=!0},400)),await a.search(O,{enableCache:!0,enableDeduplication:!0,enableBatching:!0,teaserAllowed:v.current})}catch{C=!1;const D={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};return{results:(j||[]).map(()=>D)}}finally{const O=Date.now()-_;as.recordRequest(O,C,p.current,((F=(R=j==null?void 0:j[0])==null?void 0:R.params)==null?void 0:F.query)||"",!1)}}});const S=a?b.current:null;return c.jsx(DX,{children:c.jsx(MX.Provider,{value:r,children:c.jsx(sm.Provider,{value:{origin:l,setOrigin:h},children:c.jsx(HO.Provider,{value:g,children:n||!t||!S?c.jsx("div",{}):c.jsxs(eJ,{searchClient:S,indexName:wX,future:{preserveSharedStateOnUnmount:!0},children:[e,c.jsx(LX,{})]},`instant-${o}`)})})})})},HX=()=>{const{query:e,refine:t}=Sd(),{nbHits:n}=_d(),{refresh:r}=Tw(),i=BO(),{t:s}=nt("search"),[o,a]=V.useState(e);V.useEffect(()=>{a(e)},[e]);const l=()=>{a(""),t("")},u=()=>{const d=(o||"").trim();if(!(d.length<3)){try{i==null||i.forceNextSearch()}catch(f){console.warn("Force search failed:",f)}t(d),r()}};return c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ha,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-5 w-5"}),c.jsx(Gt,{type:"text",value:o,onChange:d=>{const f=d.target.value;a(f);const p=f.trim();p.length>=3?t(p):t("")},onKeyDown:d=>{d.key==="Enter"&&u()},placeholder:s("search:search_box.placeholder"),className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-14 text-lg pl-12 pr-12 rounded-lg shadow-sm"}),o&&c.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:c.jsx(Tp,{className:"h-5 w-5"})})]}),c.jsx(te,{variant:"hero",onClick:u,className:"h-14 px-6 text-lg rounded-lg",disabled:(o||"").trim().length>0&&(o||"").trim().length<3,children:s("search:search_box.button")})]}),(o||"").trim().length<3&&c.jsx("p",{className:"mt-1 ml-1 text-xs md:text-[13px] leading-tight text-white/85",children:s("search:search_box.min_chars_warning")})]})})},BX=ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ft({className:e,variant:t,...n}){return c.jsx("div",{className:oe(BX({variant:t}),e),...n})}function WO(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var om="Checkbox",[VX,tle]=ar(om),[WX,Iw]=VX(om);function qX(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,h]=Ui({prop:n,defaultProp:i??!1,onChange:l,caller:om}),[m,g]=y.useState(null),[b,v]=y.useState(null),x=y.useRef(!1),w=m?!!o||!!m.closest("form"):!0,S={checked:p,disabled:s,setChecked:h,control:m,setControl:g,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Is(i)?!1:i,isFormControl:w,bubbleInput:b,setBubbleInput:v};return c.jsx(WX,{scope:t,...S,children:KX(f)?f(S):r})}var qO="CheckboxTrigger",KO=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:m}=Iw(qO,e),g=Ie(i,d),b=y.useRef(l);return y.useEffect(()=>{const v=s==null?void 0:s.form;if(v){const x=()=>f(b.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[s,f]),c.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":Is(l)?"mixed":l,"aria-required":u,"data-state":XO(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:ne(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ne(n,v=>{f(x=>Is(x)?!0:!x),m&&h&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});KO.displayName=qO;var Fw=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:u,form:d,...f}=e;return c.jsx(qX,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>c.jsxs(c.Fragment,{children:[c.jsx(KO,{...f,ref:t,__scopeCheckbox:n}),p&&c.jsx(JO,{__scopeCheckbox:n})]})})});Fw.displayName=om;var QO="CheckboxIndicator",GO=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=Iw(QO,n);return c.jsx(Sr,{present:r||Is(s.checked)||s.checked===!0,children:c.jsx(pe.span,{"data-state":XO(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});GO.displayName=QO;var YO="CheckboxBubbleInput",JO=y.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=Iw(YO,e),m=Ie(n,h),g=WO(s),b=CP(r);y.useEffect(()=>{const x=p;if(!x)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,_=!i.current;if(g!==s&&j){const C=new Event("click",{bubbles:_});x.indeterminate=Is(s),j.call(x,Is(s)?!1:s),x.dispatchEvent(C)}},[p,g,s,i]);const v=y.useRef(Is(s)?!1:s);return c.jsx(pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:a,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:m,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JO.displayName=YO;function KX(e){return typeof e=="function"}function Is(e){return e==="indeterminate"}function XO(e){return Is(e)?"indeterminate":e?"checked":"unchecked"}const Vi=y.forwardRef(({className:e,...t},n)=>c.jsx(Fw,{ref:n,className:oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(GO,{className:oe("flex items-center justify-center text-current"),children:c.jsx(Rp,{className:"h-4 w-4"})})}));Vi.displayName=Fw.displayName;const Xh=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>{const{currentWorkspace:s}=Gs();return e?c.jsxs("div",{className:oe("relative",n),children:[c.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:c.jsxs("div",{className:"text-center space-y-2",children:[i&&c.jsxs(ft,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[c.jsx(Oo,{className:"w-3 h-3 mr-1"}),"Source Payante"]}),r&&c.jsxs(te,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[c.jsx(JM,{className:"w-3 h-3 mr-1"}),"Dbloquer"]})]})})]}):c.jsx(c.Fragment,{children:t})},jd=()=>{try{const{language:e}=en();return e}catch{return console.warn("LanguageProvider not available, defaulting to French"),"fr"}},ZO=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=Aw(),{canExport:s}=Ll(),o=jd(),a=(d,f)=>{const p=f==="fr",h=(m,g,b)=>{const v=p?d[m]:d[g];if(v!=null&&String(v).trim()!=="")return String(v);const x=p?d[g]:d[m];if(x!=null&&String(x).trim()!=="")return String(x);if(b){const w=d[b];if(w!=null&&String(w).trim()!=="")return String(w)}return""};return{id:d.objectID,nom:h("Nom_fr","Nom_en","Nom"),description:h("Description_fr","Description_en","Description"),fe:d.FE??0,uniteActivite:h("Unite_fr","Unite_en","Unit donne d'activit"),source:d.Source,secteur:h("Secteur_fr","Secteur_en","Secteur"),sousSecteur:h("Sous-secteur_fr","Sous-secteur_en","Sous-secteur"),localisation:h("Localisation_fr","Localisation_en","Localisation"),date:d.Date??0,incertitude:d.Incertitude??"",perimetre:h("Primtre_fr","Primtre_en","Primtre"),contributeur:h("Contributeur","Contributeur_en"),contributeur_en:String(d.Contributeur_en??""),methodologie:h("Mthodologie","Mthodologie_en"),methodologie_en:String(d.Mthodologie_en??""),typeDonnees:h("Type_de_donnes","Type_de_donnes_en"),typeDonnees_en:String(d.Type_de_donnes_en??""),commentaires:h("Commentaires_fr","Commentaires_en","Commentaires")}},l=y.useCallback(async(d,f="emission_factors")=>{if(!s)return Gn.error("Vous n'avez pas les permissions pour exporter"),!1;if(d.length===0)return Gn.error("Aucun lment slectionn pour l'export"),!1;if(!e)return Gn.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const p=n.exports_limit-n.exports_used;if(d.length>p)return Gn.error(`Quota insuffisant. Il vous reste ${p} export(s) disponible(s), mais vous tentez d'exporter ${d.length} lment(s).`),!1}try{await r(d.length);const p=d.length>0&&"objectID"in d[0]?d.map(x=>a(x,o)):d,g=[o==="fr"?["Nom","Description","FE","Unit donne d'activit","Source","Secteur","Sous-secteur","Localisation","Date","Incertitude","Primtre","Contributeur","Mthodologie","Type_de_donnes","Commentaires"]:["Name","Description","FE","Activity unit","Source","Sector","Sub-sector","Location","Date","Uncertainty","Perimeter","Contributor","Methodology","Data type","Comments"],...p.map(x=>{var w,S,j,_;return o==="fr"?[x.nom||"",x.description||"",((w=x.fe)==null?void 0:w.toString())||"",x.uniteActivite||"",x.source||"",x.secteur||"",x.sousSecteur||"",x.localisation||"",((S=x.date)==null?void 0:S.toString())||"",x.incertitude||"",x.perimetre||"",x.contributeur||"",x.methodologie||"",x.typeDonnees||"",x.commentaires||""]:[x.nom||"",x.description||"",((j=x.fe)==null?void 0:j.toString())||"",x.uniteActivite||"",x.source||"",x.secteur||"",x.sousSecteur||"",x.localisation||"",((_=x.date)==null?void 0:_.toString())||"",x.incertitude||"",x.perimetre||"",x.contributeur_en||x.contributeur||"",x.methodologie_en||x.methodologie||"",x.typeDonnees_en||x.typeDonnees||"",x.commentaires||""]})].map(x=>x.map(w=>`"${String(w).replace(/"/g,'""')}"`).join(",")).join(`
`),b=new Blob([g],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a");return v.href=URL.createObjectURL(b),v.download=`${f}.csv`,v.click(),URL.revokeObjectURL(v.href),Gn.success(`${p.length} facteur(s) d'mission export(s)`),!0}catch(p){return console.error("Erreur lors de l'export:",p),Gn.error("Erreur lors de l'export"),!1}},[s,e,n,r]),u=y.useCallback(async d=>{if(d.length===0)return Gn.error("Aucun lment slectionn pour la copie"),!1;if(!t)return Gn.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const f=n.clipboard_copies_limit-n.clipboard_copies_used;if(d.length>f)return Gn.error(`Quota insuffisant. Il vous reste ${f} copie(s) disponible(s), mais vous tentez de copier ${d.length} lment(s).`),!1}try{await i(d.length);const f=d.length>0&&"objectID"in d[0]?d.map(b=>a(b,o)):d,p=o==="fr"?["Nom","Description","FE","Unit donne d'activit","Source","Secteur","Sous-secteur","Localisation","Date","Incertitude","Primtre","Contributeur","Mthodologie","Type_de_donnes","Commentaires"]:["Name","Description","FE","Activity unit","Source","Sector","Sub-sector","Location","Date","Uncertainty","Perimeter","Contributor","Methodology","Data type","Comments"],h=f.map(b=>{var v,x,w,S;return o==="fr"?[b.nom||"",b.description||"",((v=b.fe)==null?void 0:v.toString())||"",b.uniteActivite||"",b.source||"",b.secteur||"",b.sousSecteur||"",b.localisation||"",((x=b.date)==null?void 0:x.toString())||"",b.incertitude||"",b.perimetre||"",b.contributeur||"",b.methodologie||"",b.typeDonnees||"",b.commentaires||""]:[b.nom||"",b.description||"",((w=b.fe)==null?void 0:w.toString())||"",b.uniteActivite||"",b.source||"",b.secteur||"",b.sousSecteur||"",b.localisation||"",((S=b.date)==null?void 0:S.toString())||"",b.incertitude||"",b.perimetre||"",b.contributeur_en||b.contributeur||"",b.methodologie_en||b.methodologie||"",b.typeDonnees_en||b.typeDonnees||"",b.commentaires||""]}),g=[p,...h].map(b=>b.join("	")).join(`
`);return await navigator.clipboard.writeText(g),Gn.success(`${f.length} facteur(s) d'mission copi(s) dans le presse-papier`),!0}catch(f){return console.error("Erreur lors de la copie:",f),Gn.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:l,handleCopyToClipboard:u,canExport:s&&e,canCopyToClipboard:t}};function QX(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GX=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YX=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JX={};function Yj(e,t){return(JX.jsx?YX:GX).test(e)}const XX=/[ \t\n\f\r]/g;function ZX(e){return typeof e=="object"?e.type==="text"?Jj(e.value):!1:Jj(e)}function Jj(e){return e.replace(XX,"")===""}class Ed{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ed.prototype.normal={};Ed.prototype.property={};Ed.prototype.space=void 0;function eI(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ed(n,r,t)}function fx(e){return e.toLowerCase()}class Vn{constructor(t,n){this.attribute=n,this.property=t}}Vn.prototype.attribute="";Vn.prototype.booleanish=!1;Vn.prototype.boolean=!1;Vn.prototype.commaOrSpaceSeparated=!1;Vn.prototype.commaSeparated=!1;Vn.prototype.defined=!1;Vn.prototype.mustUseProperty=!1;Vn.prototype.number=!1;Vn.prototype.overloadedBoolean=!1;Vn.prototype.property="";Vn.prototype.spaceSeparated=!1;Vn.prototype.space=void 0;let eZ=0;const je=Qo(),wt=Qo(),hx=Qo(),X=Qo(),et=Qo(),Ka=Qo(),Qn=Qo();function Qo(){return 2**++eZ}const px=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:wt,commaOrSpaceSeparated:Qn,commaSeparated:Ka,number:X,overloadedBoolean:hx,spaceSeparated:et},Symbol.toStringTag,{value:"Module"})),Kg=Object.keys(px);class Dw extends Vn{constructor(t,n,r,i){let s=-1;if(super(t,n),Xj(this,"space",i),typeof r=="number")for(;++s<Kg.length;){const o=Kg[s];Xj(this,Kg[s],(r&px[o])===px[o])}}}Dw.prototype.defined=!0;function Xj(e,t,n){n&&(e[t]=n)}function $l(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Dw(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[fx(r)]=r,n[fx(s.attribute)]=r}return new Ed(t,n,e.space)}const tI=$l({properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:et,ariaCurrent:null,ariaDescribedBy:et,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:et,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:et,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:et,ariaLevel:X,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:et,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:et,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:wt,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function nI(e,t){return t in e?e[t]:t}function rI(e,t){return nI(e,t.toLowerCase())}const tZ=$l({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ka,acceptCharset:et,accessKey:et,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:et,autoFocus:je,autoPlay:je,blocking:et,capture:null,charSet:null,checked:je,cite:null,className:et,cols:X,colSpan:null,content:null,contentEditable:wt,controls:je,controlsList:et,coords:X|Ka,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:hx,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:et,height:X,hidden:hx,high:X,href:null,hrefLang:null,htmlFor:et,httpEquiv:et,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:et,itemRef:et,itemScope:je,itemType:et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:X,pattern:null,ping:et,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:et,required:je,reversed:je,rows:X,rowSpan:X,sandbox:et,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:wt,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:et,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:X,security:null,unselectable:null},space:"html",transform:rI}),nZ=$l({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qn,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ka,g2:Ka,glyphName:Ka,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:Qn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qn,rev:Qn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qn,requiredFeatures:Qn,requiredFonts:Qn,requiredFormats:Qn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:Qn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qn,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:nI}),iI=$l({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),sI=$l({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:rI}),oI=$l({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),rZ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iZ=/[A-Z]/g,Zj=/-[a-z]/g,sZ=/^data[-\w.:]+$/i;function oZ(e,t){const n=fx(t);let r=t,i=Vn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sZ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Zj,lZ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Zj.test(s)){let o=s.replace(iZ,aZ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Dw}return new i(r,t)}function aZ(e){return"-"+e.toLowerCase()}function lZ(e){return e.charAt(1).toUpperCase()}const cZ=eI([tI,tZ,iI,sI,oI],"html"),Lw=eI([tI,nZ,iI,sI,oI],"svg");function uZ(e){return e.join(" ").trim()}var $w={},eE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,dZ=/\n/g,fZ=/^\s*/,hZ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pZ=/^:\s*/,mZ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,gZ=/^[;\s]*/,vZ=/^\s+|\s+$/g,yZ=`
`,tE="/",nE="*",uo="",xZ="comment",bZ="declaration",wZ=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(dZ);g&&(n+=g.length);var b=m.lastIndexOf(yZ);r=~b?m.length-b:r+m.length}function s(){var m={line:n,column:r};return function(g){return g.position=new o(m),u(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var b=g[0];return i(b),e=e.slice(b.length),g}}function u(){l(fZ)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=s();if(!(tE!=e.charAt(0)||nE!=e.charAt(1))){for(var g=2;uo!=e.charAt(g)&&(nE!=e.charAt(g)||tE!=e.charAt(g+1));)++g;if(g+=2,uo===e.charAt(g-1))return a("End of comment missing");var b=e.slice(2,g-2);return r+=2,i(b),e=e.slice(g),r+=2,m({type:xZ,comment:b})}}function p(){var m=s(),g=l(hZ);if(g){if(f(),!l(pZ))return a("property missing ':'");var b=l(mZ),v=m({type:bZ,property:rE(g[0].replace(eE,uo)),value:b?rE(b[0].replace(eE,uo)):uo});return l(gZ),v}}function h(){var m=[];d(m);for(var g;g=p();)g!==!1&&(m.push(g),d(m));return m}return u(),h()};function rE(e){return e?e.replace(vZ,uo):uo}var SZ=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($w,"__esModule",{value:!0});$w.default=jZ;var _Z=SZ(wZ);function jZ(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,_Z.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?t(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var am={};Object.defineProperty(am,"__esModule",{value:!0});am.camelCase=void 0;var EZ=/^--[a-zA-Z0-9_-]+$/,kZ=/-([a-z])/g,CZ=/^[^-]+$/,RZ=/^-(webkit|moz|ms|o|khtml)-/,PZ=/^-(ms)-/,TZ=function(e){return!e||CZ.test(e)||EZ.test(e)},NZ=function(e,t){return t.toUpperCase()},iE=function(e,t){return"".concat(t,"-")},AZ=function(e,t){return t===void 0&&(t={}),TZ(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(PZ,iE):e=e.replace(RZ,iE),e.replace(kZ,NZ))};am.camelCase=AZ;var OZ=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},IZ=OZ($w),FZ=am;function mx(e,t){var n={};return!e||typeof e!="string"||(0,IZ.default)(e,function(r,i){r&&i&&(n[(0,FZ.camelCase)(r,t)]=i)}),n}mx.default=mx;var DZ=mx;const LZ=Bs(DZ),aI=lI("end"),Mw=lI("start");function lI(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function $Z(e){const t=Mw(e),n=aI(e);if(t&&n)return{start:t,end:n}}function zc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?sE(e.position):"start"in e||"end"in e?sE(e):"line"in e||"column"in e?gx(e):""}function gx(e){return oE(e&&e.line)+":"+oE(e&&e.column)}function sE(e){return gx(e&&e.start)+"-"+gx(e&&e.end)}function oE(e){return e&&typeof e=="number"?e:1}class mn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=zc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}mn.prototype.file="";mn.prototype.name="";mn.prototype.reason="";mn.prototype.message="";mn.prototype.stack="";mn.prototype.column=void 0;mn.prototype.line=void 0;mn.prototype.ancestors=void 0;mn.prototype.cause=void 0;mn.prototype.fatal=void 0;mn.prototype.place=void 0;mn.prototype.ruleId=void 0;mn.prototype.source=void 0;const Uw={}.hasOwnProperty,MZ=new Map,UZ=/[A-Z]/g,zZ=new Set(["table","tbody","thead","tfoot","tr"]),HZ=new Set(["td","th"]),cI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function BZ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=JZ(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=YZ(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Lw:cZ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=uI(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function uI(e,t,n){if(t.type==="element")return VZ(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return WZ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return KZ(e,t,n);if(t.type==="mdxjsEsm")return qZ(e,t);if(t.type==="root")return QZ(e,t,n);if(t.type==="text")return GZ(e,t)}function VZ(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Lw,e.schema=i),e.ancestors.push(t);const s=fI(e,t.tagName,!1),o=XZ(e,t);let a=Hw(e,t);return zZ.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!ZX(l):!0})),dI(e,o,s,t),zw(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function WZ(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Yu(e,t.position)}function qZ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Yu(e,t.position)}function KZ(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Lw,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:fI(e,t.name,!0),o=ZZ(e,t),a=Hw(e,t);return dI(e,o,s,t),zw(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function QZ(e,t,n){const r={};return zw(r,Hw(e,t)),e.create(t,e.Fragment,r,n)}function GZ(e,t){return t.value}function dI(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function zw(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function YZ(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function JZ(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Mw(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function XZ(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Uw.call(t.properties,i)){const s=eee(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&HZ.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ZZ(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Yu(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Yu(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Hw(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:MZ;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=uI(e,s,o);a!==void 0&&n.push(a)}return n}function eee(e,t,n){const r=oZ(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?QX(n):uZ(n)),r.property==="style"){let i=typeof n=="object"?n:tee(e,String(n));return e.stylePropertyNameCase==="css"&&(i=nee(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?rZ[r.property]||r.property:r.attribute,n]}}function tee(e,t){try{return LZ(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new mn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=cI+"#cannot-parse-style-attribute",i}}function fI(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Yj(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Yj(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Uw.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Yu(e)}function Yu(e,t){const n=new mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=cI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nee(e){const t={};let n;for(n in e)Uw.call(e,n)&&(t[ree(n)]=e[n]);return t}function ree(e){let t=e.replace(UZ,iee);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iee(e){return"-"+e.toLowerCase()}const Qg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},see={};function Bw(e,t){const n=see,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return hI(e,r,i)}function hI(e,t,n){if(oee(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return aE(e.children,t,n)}return Array.isArray(e)?aE(e,t,n):""}function aE(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=hI(e[i],t,n);return r.join("")}function oee(e){return!!(e&&typeof e=="object")}const lE=document.createElement("i");function Vw(e){const t="&"+e+";";lE.innerHTML=t;const n=lE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function nr(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function mr(e,t){return e.length>0?(nr(e,e.length,0,t),e):t}const cE={}.hasOwnProperty;function pI(e){const t={};let n=-1;for(;++n<e.length;)aee(t,e[n]);return t}function aee(e,t){let n;for(n in t){const i=(cE.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){cE.call(i,o)||(i[o]=[]);const a=s[o];lee(i[o],Array.isArray(a)?a:a?[a]:[])}}}function lee(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);nr(e,0,0,r)}function mI(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ur(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _n=Ys(/[A-Za-z]/),un=Ys(/[\dA-Za-z]/),cee=Ys(/[#-'*+\--9=?A-Z^-~]/);function Zh(e){return e!==null&&(e<32||e===127)}const vx=Ys(/\d/),uee=Ys(/[\dA-Fa-f]/),dee=Ys(/[!-/:-@[-`{-~]/);function he(e){return e!==null&&e<-2}function Ge(e){return e!==null&&(e<0||e===32)}function Re(e){return e===-2||e===-1||e===32}const lm=Ys(new RegExp("\\p{P}|\\p{S}","u")),Do=Ys(/\s/);function Ys(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ml(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&un(e.charCodeAt(n+1))&&un(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Fe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Re(l)?(e.enter(n),a(l)):t(l)}function a(l){return Re(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const fee={tokenize:hee};function hee(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Fe(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return he(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const pee={tokenize:mee},uE={tokenize:gee};function mee(e){const t=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const S=t.events.length;let j=S,_;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){_=t.events[j][1].end;break}v(r);let C=S;for(;C<t.events.length;)t.events[C][1].end={..._},C++;return nr(t.events,j+1,0,t.events.slice(S)),t.events.length=C,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(uE,d,f)(w)}function d(w){return i&&x(),v(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(w)}function p(w){return t.containerState={},e.attempt(uE,h,m)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function m(w){if(w===null){i&&x(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(w)}function g(w){if(w===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return he(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),g)}function b(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const C=t.events.length;let T=C,I,R;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(I){R=t.events[T][1].end;break}I=!0}for(v(r),_=C;_<t.events.length;)t.events[_][1].end={...R},_++;nr(t.events,T+1,0,t.events.slice(C)),t.events.length=_}}function v(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function x(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function gee(e,t,n){return Fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function wl(e){if(e===null||Ge(e)||Do(e))return 1;if(lm(e))return 2}function cm(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const yx={name:"attention",resolveAll:vee,tokenize:yee};function vee(e,t){let n=-1,r,i,s,o,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};dE(f,-l),dE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=mr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=mr(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=mr(u,cm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=mr(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=mr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,nr(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function yee(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=wl(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),d=wl(l),f=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!p)),u._close=!!(s===42?p:p&&(d||!f)),t(l)}}function dE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const xee={name:"autolink",tokenize:bee};function bee(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return _n(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||un(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||un(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Zh(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),d):cee(h)?(e.consume(h),u):n(h)}function d(h){return un(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||un(h))&&r++<63){const m=h===45?p:f;return e.consume(h),m}return n(h)}}const kd={partial:!0,tokenize:wee};function wee(e,t,n){return r;function r(s){return Re(s)?Fe(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||he(s)?t(s):n(s)}}const gI={continuation:{tokenize:_ee},exit:jee,name:"blockQuote",tokenize:See};function See(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Re(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function _ee(e,t,n){const r=this;return i;function i(o){return Re(o)?Fe(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(gI,t,n)(o)}}function jee(e){e.exit("blockQuote")}const vI={name:"characterEscape",tokenize:Eee};function Eee(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return dee(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const yI={name:"characterReference",tokenize:kee};function kee(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=un,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=uee,d):(e.enter("characterReferenceValue"),s=7,o=vx,d(f))}function d(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return o===un&&!Vw(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),d):n(f)}}const fE={partial:!0,tokenize:Ree},hE={concrete:!0,name:"codeFenced",tokenize:Cee};function Cee(e,t,n){const r=this,i={partial:!0,tokenize:j};let s=0,o=0,a;return l;function l(_){return u(_)}function u(_){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===a?(o++,e.consume(_),d):o<3?n(_):(e.exit("codeFencedFenceSequence"),Re(_)?Fe(e,f,"whitespace")(_):f(_))}function f(_){return _===null||he(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(fE,g,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||he(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):Re(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fe(e,h,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),p)}function h(_){return _===null||he(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||he(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===a?n(_):(e.consume(_),m)}function g(_){return e.attempt(i,S,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return s>0&&Re(_)?Fe(e,x,"linePrefix",s+1)(_):x(_)}function x(_){return _===null||he(_)?e.check(fE,g,S)(_):(e.enter("codeFlowValue"),w(_))}function w(_){return _===null||he(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),w)}function S(_){return e.exit("codeFenced"),t(_)}function j(_,C,T){let I=0;return R;function R(M){return _.enter("lineEnding"),_.consume(M),_.exit("lineEnding"),F}function F(M){return _.enter("codeFencedFence"),Re(M)?Fe(_,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):O(M)}function O(M){return M===a?(_.enter("codeFencedFenceSequence"),D(M)):T(M)}function D(M){return M===a?(I++,_.consume(M),D):I>=o?(_.exit("codeFencedFenceSequence"),Re(M)?Fe(_,A,"whitespace")(M):A(M)):T(M)}function A(M){return M===null||he(M)?(_.exit("codeFencedFence"),C(M)):T(M)}}}function Ree(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Gg={name:"codeIndented",tokenize:Tee},Pee={partial:!0,tokenize:Nee};function Tee(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Fe(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):he(u)?e.attempt(Pee,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||he(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Nee(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):he(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Fe(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):he(o)?i(o):n(o)}}const Aee={name:"codeText",previous:Iee,resolve:Oee,tokenize:Fee};function Oee(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Iee(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Fee(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):he(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||he(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class Dee{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&uc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),uc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),uc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);uc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);uc(this.left,n.reverse())}}}function uc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function xI(e){const t={};let n=-1,r,i,s,o,a,l,u;const d=new Dee(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Lee(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return nr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Lee(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let d,f,p=-1,h=n,m=0,g=0;const b=[g];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(d=r.sliceStream(h),h.next||d.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(g=p+1,b.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),p=b.length;p--;){const v=a.slice(b[p],b[p+1]),x=s.pop();l.push([x,x+v.length-1]),e.splice(x,2,v)}for(l.reverse(),p=-1;++p<l.length;)u[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return u}const $ee={resolve:Uee,tokenize:zee},Mee={partial:!0,tokenize:Hee};function Uee(e){return xI(e),e}function zee(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):he(a)?e.check(Mee,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Hee(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Fe(e,s,"linePrefix")}function s(o){if(o===null||he(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function bI(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),p):v===null||v===32||v===41||Zh(v)?n(v):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(v))}function p(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(a),p(v)):v===null||v===60||he(v)?n(v):(e.consume(v),v===92?m:h)}function m(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function g(v){return!d&&(v===null||v===41||Ge(v))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||Zh(v)?n(v):(e.consume(v),v===92?b:g)}function b(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function wI(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),d}function d(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):he(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||he(h)||a++>999?(e.exit("chunkString"),d(h)):(e.consume(h),l||(l=!Re(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function SI(e,t,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),u(p))}function u(p){return p===o?(e.exit(s),l(o)):p===null?n(p):he(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Fe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||he(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Hc(e,t){let n;return r;function r(i){return he(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Re(i)?Fe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Bee={name:"definition",tokenize:Wee},Vee={partial:!0,tokenize:qee};function Wee(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return wI.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ge(h)?Hc(e,u)(h):u(h)}function u(h){return bI(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(Vee,f,f)(h)}function f(h){return Re(h)?Fe(e,p,"whitespace")(h):p(h)}function p(h){return h===null||he(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function qee(e,t,n){return r;function r(a){return Ge(a)?Hc(e,i)(a):n(a)}function i(a){return SI(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Re(a)?Fe(e,o,"whitespace")(a):o(a)}function o(a){return a===null||he(a)?t(a):n(a)}}const Kee={name:"hardBreakEscape",tokenize:Qee};function Qee(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return he(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Gee={name:"headingAtx",resolve:Yee,tokenize:Jee};function Yee(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},nr(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Jee(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ge(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||he(d)?(e.exit("atxHeading"),t(d)):Re(d)?Fe(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Ge(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const Xee=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pE=["pre","script","style","textarea"],Zee={concrete:!0,name:"htmlFlow",resolveTo:nte,tokenize:rte},ete={partial:!0,tokenize:ste},tte={partial:!0,tokenize:ite};function nte(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rte(e,t,n){const r=this;let i,s,o,a,l;return u;function u(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),s=!0,g):N===63?(e.consume(N),i=3,r.interrupt?t:E):_n(N)?(e.consume(N),o=String.fromCharCode(N),b):n(N)}function p(N){return N===45?(e.consume(N),i=2,h):N===91?(e.consume(N),i=5,a=0,m):_n(N)?(e.consume(N),i=4,r.interrupt?t:E):n(N)}function h(N){return N===45?(e.consume(N),r.interrupt?t:E):n(N)}function m(N){const K="CDATA[";return N===K.charCodeAt(a++)?(e.consume(N),a===K.length?r.interrupt?t:O:m):n(N)}function g(N){return _n(N)?(e.consume(N),o=String.fromCharCode(N),b):n(N)}function b(N){if(N===null||N===47||N===62||Ge(N)){const K=N===47,Q=o.toLowerCase();return!K&&!s&&pE.includes(Q)?(i=1,r.interrupt?t(N):O(N)):Xee.includes(o.toLowerCase())?(i=6,K?(e.consume(N),v):r.interrupt?t(N):O(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?x(N):w(N))}return N===45||un(N)?(e.consume(N),o+=String.fromCharCode(N),b):n(N)}function v(N){return N===62?(e.consume(N),r.interrupt?t:O):n(N)}function x(N){return Re(N)?(e.consume(N),x):R(N)}function w(N){return N===47?(e.consume(N),R):N===58||N===95||_n(N)?(e.consume(N),S):Re(N)?(e.consume(N),w):R(N)}function S(N){return N===45||N===46||N===58||N===95||un(N)?(e.consume(N),S):j(N)}function j(N){return N===61?(e.consume(N),_):Re(N)?(e.consume(N),j):w(N)}function _(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,C):Re(N)?(e.consume(N),_):T(N)}function C(N){return N===l?(e.consume(N),l=null,I):N===null||he(N)?n(N):(e.consume(N),C)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Ge(N)?j(N):(e.consume(N),T)}function I(N){return N===47||N===62||Re(N)?w(N):n(N)}function R(N){return N===62?(e.consume(N),F):n(N)}function F(N){return N===null||he(N)?O(N):Re(N)?(e.consume(N),F):n(N)}function O(N){return N===45&&i===2?(e.consume(N),H):N===60&&i===1?(e.consume(N),B):N===62&&i===4?(e.consume(N),$):N===63&&i===3?(e.consume(N),E):N===93&&i===5?(e.consume(N),k):he(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(ete,U,D)(N)):N===null||he(N)?(e.exit("htmlFlowData"),D(N)):(e.consume(N),O)}function D(N){return e.check(tte,A,U)(N)}function A(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),M}function M(N){return N===null||he(N)?D(N):(e.enter("htmlFlowData"),O(N))}function H(N){return N===45?(e.consume(N),E):O(N)}function B(N){return N===47?(e.consume(N),o="",P):O(N)}function P(N){if(N===62){const K=o.toLowerCase();return pE.includes(K)?(e.consume(N),$):O(N)}return _n(N)&&o.length<8?(e.consume(N),o+=String.fromCharCode(N),P):O(N)}function k(N){return N===93?(e.consume(N),E):O(N)}function E(N){return N===62?(e.consume(N),$):N===45&&i===2?(e.consume(N),E):O(N)}function $(N){return N===null||he(N)?(e.exit("htmlFlowData"),U(N)):(e.consume(N),$)}function U(N){return e.exit("htmlFlow"),t(N)}}function ite(e,t,n){const r=this;return i;function i(o){return he(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function ste(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(kd,t,n)}}const ote={name:"htmlText",tokenize:ate};function ate(e,t,n){const r=this;let i,s,o;return a;function a(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),l}function l(E){return E===33?(e.consume(E),u):E===47?(e.consume(E),j):E===63?(e.consume(E),w):_n(E)?(e.consume(E),T):n(E)}function u(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),s=0,m):_n(E)?(e.consume(E),x):n(E)}function d(E){return E===45?(e.consume(E),h):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),p):he(E)?(o=f,B(E)):(e.consume(E),f)}function p(E){return E===45?(e.consume(E),h):f(E)}function h(E){return E===62?H(E):E===45?p(E):f(E)}function m(E){const $="CDATA[";return E===$.charCodeAt(s++)?(e.consume(E),s===$.length?g:m):n(E)}function g(E){return E===null?n(E):E===93?(e.consume(E),b):he(E)?(o=g,B(E)):(e.consume(E),g)}function b(E){return E===93?(e.consume(E),v):g(E)}function v(E){return E===62?H(E):E===93?(e.consume(E),v):g(E)}function x(E){return E===null||E===62?H(E):he(E)?(o=x,B(E)):(e.consume(E),x)}function w(E){return E===null?n(E):E===63?(e.consume(E),S):he(E)?(o=w,B(E)):(e.consume(E),w)}function S(E){return E===62?H(E):w(E)}function j(E){return _n(E)?(e.consume(E),_):n(E)}function _(E){return E===45||un(E)?(e.consume(E),_):C(E)}function C(E){return he(E)?(o=C,B(E)):Re(E)?(e.consume(E),C):H(E)}function T(E){return E===45||un(E)?(e.consume(E),T):E===47||E===62||Ge(E)?I(E):n(E)}function I(E){return E===47?(e.consume(E),H):E===58||E===95||_n(E)?(e.consume(E),R):he(E)?(o=I,B(E)):Re(E)?(e.consume(E),I):H(E)}function R(E){return E===45||E===46||E===58||E===95||un(E)?(e.consume(E),R):F(E)}function F(E){return E===61?(e.consume(E),O):he(E)?(o=F,B(E)):Re(E)?(e.consume(E),F):I(E)}function O(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,D):he(E)?(o=O,B(E)):Re(E)?(e.consume(E),O):(e.consume(E),A)}function D(E){return E===i?(e.consume(E),i=void 0,M):E===null?n(E):he(E)?(o=D,B(E)):(e.consume(E),D)}function A(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Ge(E)?I(E):(e.consume(E),A)}function M(E){return E===47||E===62||Ge(E)?I(E):n(E)}function H(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function B(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),P}function P(E){return Re(E)?Fe(e,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):k(E)}function k(E){return e.enter("htmlTextData"),o(E)}}const Ww={name:"labelEnd",resolveAll:dte,resolveTo:fte,tokenize:hte},lte={tokenize:pte},cte={tokenize:mte},ute={tokenize:gte};function dte(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&nr(e,0,e.length,n),e}function fte(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=mr(a,e.slice(s+1,s+r+3)),a=mr(a,[["enter",d,t]]),a=mr(a,cm(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=mr(a,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),a=mr(a,e.slice(o+1)),a=mr(a,[["exit",l,t]]),nr(e,s,e.length,a),e}function hte(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Ur(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(lte,d,o?d:f)(p):p===91?e.attempt(cte,d,o?u:f)(p):o?d(p):f(p)}function u(p){return e.attempt(ute,d,f)(p)}function d(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function pte(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ge(f)?Hc(e,s)(f):s(f)}function s(f){return f===41?d(f):bI(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Ge(f)?Hc(e,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?SI(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Ge(f)?Hc(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function mte(e,t,n){const r=this;return i;function i(a){return wI.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function gte(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const vte={name:"labelStartImage",resolveAll:Ww.resolveAll,tokenize:yte};function yte(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const xte={name:"labelStartLink",resolveAll:Ww.resolveAll,tokenize:bte};function bte(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Yg={name:"lineEnding",tokenize:wte};function wte(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fe(e,t,"linePrefix")}}const eh={name:"thematicBreak",tokenize:Ste};function Ste(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||he(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Re(u)?Fe(e,a,"whitespace")(u):a(u))}}const Nn={continuation:{tokenize:kte},exit:Rte,name:"list",tokenize:Ete},_te={partial:!0,tokenize:Pte},jte={partial:!0,tokenize:Cte};function Ete(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:vx(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(eh,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return vx(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(kd,r.interrupt?n:d,e.attempt(_te,p,f))}function d(h){return r.containerState.initialBlankLine=!0,s++,p(h)}function f(h){return Re(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function kte(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(kd,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fe(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Re(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(jte,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fe(e,e.attempt(Nn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Cte(e,t,n){const r=this;return Fe(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Rte(e){e.exit(this.containerState.type)}function Pte(e,t,n){const r=this;return Fe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Re(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const mE={name:"setextUnderline",resolveTo:Tte,tokenize:Nte};function Tte(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Nte(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Re(u)?Fe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||he(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Ate={tokenize:Ote};function Ote(e){const t=this,n=e.attempt(kd,r,e.attempt(this.parser.constructs.flowInitial,i,Fe(e,e.attempt(this.parser.constructs.flow,i,e.attempt($ee,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Ite={resolveAll:jI()},Fte=_I("string"),Dte=_I("text");function _I(e){return{resolveAll:jI(e==="text"?Lte:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(d){return u(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function jI(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Lte(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const $te={42:Nn,43:Nn,45:Nn,48:Nn,49:Nn,50:Nn,51:Nn,52:Nn,53:Nn,54:Nn,55:Nn,56:Nn,57:Nn,62:gI},Mte={91:Bee},Ute={[-2]:Gg,[-1]:Gg,32:Gg},zte={35:Gee,42:eh,45:[mE,eh],60:Zee,61:mE,95:eh,96:hE,126:hE},Hte={38:yI,92:vI},Bte={[-5]:Yg,[-4]:Yg,[-3]:Yg,33:vte,38:yI,42:yx,60:[xee,ote],91:xte,92:[Kee,vI],93:Ww,95:yx,96:Aee},Vte={null:[yx,Ite]},Wte={null:[42,95]},qte={null:[]},Kte=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Wte,contentInitial:Mte,disable:qte,document:$te,flow:zte,flowInitial:Ute,insideSpan:Vte,string:Hte,text:Bte},Symbol.toStringTag,{value:"Module"}));function Qte(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:C(j),check:C(_),consume:x,enter:w,exit:S,interrupt:C(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function f(F){return o=mr(o,F),b(),o[o.length-1]!==null?[]:(T(t,0),u.events=cm(s,u.events,u),u.events)}function p(F,O){return Yte(h(F),O)}function h(F){return Gte(o,F)}function m(){const{_bufferIndex:F,_index:O,line:D,column:A,offset:M}=r;return{_bufferIndex:F,_index:O,line:D,column:A,offset:M}}function g(F){i[F.line]=F.column,R()}function b(){let F;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(F){d=d(F)}function x(F){he(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,R()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function w(F,O){const D=O||{};return D.type=F,D.start=m(),u.events.push(["enter",D,u]),a.push(D),D}function S(F){const O=a.pop();return O.end=m(),u.events.push(["exit",O,u]),O}function j(F,O){T(F,O.from)}function _(F,O){O.restore()}function C(F,O){return D;function D(A,M,H){let B,P,k,E;return Array.isArray(A)?U(A):"tokenize"in A?U([A]):$(A);function $(Y){return W;function W(ie){const ue=ie!==null&&Y[ie],le=ie!==null&&Y.null,me=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(le)?le:le?[le]:[]];return U(me)(ie)}}function U(Y){return B=Y,P=0,Y.length===0?H:N(Y[P])}function N(Y){return W;function W(ie){return E=I(),k=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?Q():Y.tokenize.call(O?Object.assign(Object.create(u),O):u,l,K,Q)(ie)}}function K(Y){return F(k,E),M}function Q(Y){return E.restore(),++P<B.length?N(B[P]):H}}}function T(F,O){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&nr(u.events,O,u.events.length-O,F.resolve(u.events.slice(O),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function I(){const F=m(),O=u.previous,D=u.currentConstruct,A=u.events.length,M=Array.from(a);return{from:A,restore:H};function H(){r=F,u.previous=O,u.currentConstruct=D,u.events.length=A,a=M,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Gte(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function Yte(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Jte(e){const r={constructs:pI([Kte,...(e||{}).extensions||[]]),content:i(fee),defined:[],document:i(pee),flow:i(Ate),lazy:{},string:i(Fte),text:i(Dte)};return r;function i(s){return o;function o(a){return Qte(r,s,a)}}}function Xte(e){for(;!xI(e););return e}const gE=/[\0\t\n\r]/g;function Zte(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,d,f,p,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(gE.lastIndex=f,u=gE.exec(s),p=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(p),!u){t=s.slice(f);break}if(h===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),e+=p-f),h){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const ene=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tne(e){return e.replace(ene,nne)}function nne(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return mI(n.slice(s?2:1),s?16:10)}return Vw(n)||e}const EI={}.hasOwnProperty;function rne(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ine(n)(Xte(Jte(n).document().write(Zte()(e,t,!0))))}function ine(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(cr),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(It),blockQuote:s(le),characterEscape:I,characterReference:I,codeFenced:s(me),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(me,o),codeText:s(Ee,o),codeTextData:I,data:I,codeFlowValue:I,definition:s(ct),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ot),hardBreakEscape:s(Et),hardBreakTrailing:s(Et),htmlFlow:s(lr,o),htmlFlowData:I,htmlText:s(lr,o),htmlTextData:I,image:s(xi),label:o,link:s(cr),listItem:s(bi),listItemValue:p,listOrdered:s(Yi,f),listUnordered:s(Yi),paragraph:s(we),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(It),strong:s(se),thematicBreak:s(ke)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:ue,autolinkProtocol:ie,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:Y,characterReference:W,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:R,codeIndented:l(v),codeText:l(M),codeTextData:R,data:R,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(D),htmlFlowData:R,htmlText:l(A),htmlTextData:R,image:l(B),label:k,labelText:P,lineEnding:F,link:l(H),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:K,resourceDestinationString:E,resourceTitleString:$,resource:U,setextHeading:l(T),setextHeadingLineSequence:C,setextHeadingText:_,strong:l(),thematicBreak:l()}};kI(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(z){let G={type:"root",children:[]};const fe={stack:[G],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:d,data:n},Se=[];let Ne=-1;for(;++Ne<z.length;)if(z[Ne][1].type==="listOrdered"||z[Ne][1].type==="listUnordered")if(z[Ne][0]==="enter")Se.push(Ne);else{const kt=Se.pop();Ne=i(z,kt,Ne)}for(Ne=-1;++Ne<z.length;){const kt=t[z[Ne][0]];EI.call(kt,z[Ne][1].type)&&kt[z[Ne][1].type].call(Object.assign({sliceSerialize:z[Ne][2].sliceSerialize},fe),z[Ne][1])}if(fe.tokenStack.length>0){const kt=fe.tokenStack[fe.tokenStack.length-1];(kt[1]||vE).call(fe,void 0,kt[0])}for(G.position={start:rs(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:rs(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},Ne=-1;++Ne<t.transforms.length;)G=t.transforms[Ne](G)||G;return G}function i(z,G,fe){let Se=G-1,Ne=-1,kt=!1,ur,gn,Rn,Wn;for(;++Se<=fe;){const Ye=z[Se];switch(Ye[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ye[0]==="enter"?Ne++:Ne--,Wn=void 0;break}case"lineEndingBlank":{Ye[0]==="enter"&&(ur&&!Wn&&!Ne&&!Rn&&(Rn=Se),Wn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Wn=void 0}if(!Ne&&Ye[0]==="enter"&&Ye[1].type==="listItemPrefix"||Ne===-1&&Ye[0]==="exit"&&(Ye[1].type==="listUnordered"||Ye[1].type==="listOrdered")){if(ur){let Kr=Se;for(gn=void 0;Kr--;){const qn=z[Kr];if(qn[1].type==="lineEnding"||qn[1].type==="lineEndingBlank"){if(qn[0]==="exit")continue;gn&&(z[gn][1].type="lineEndingBlank",kt=!0),qn[1].type="lineEnding",gn=Kr}else if(!(qn[1].type==="linePrefix"||qn[1].type==="blockQuotePrefix"||qn[1].type==="blockQuotePrefixWhitespace"||qn[1].type==="blockQuoteMarker"||qn[1].type==="listItemIndent"))break}Rn&&(!gn||Rn<gn)&&(ur._spread=!0),ur.end=Object.assign({},gn?z[gn][1].start:Ye[1].end),z.splice(gn||Se,0,["exit",ur,Ye[2]]),Se++,fe++}if(Ye[1].type==="listItemPrefix"){const Kr={type:"listItem",_spread:!1,start:Object.assign({},Ye[1].start),end:void 0};ur=Kr,z.splice(Se,0,["enter",Kr,Ye[2]]),Se++,fe++,Rn=void 0,Wn=!0}}}return z[G][1]._spread=kt,fe}function s(z,G){return fe;function fe(Se){a.call(this,z(Se),Se),G&&G.call(this,Se)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(z,G,fe){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([G,fe||void 0]),z.position={start:rs(G.start),end:void 0}}function l(z){return G;function G(fe){z&&z.call(this,fe),u.call(this,fe)}}function u(z,G){const fe=this.stack.pop(),Se=this.tokenStack.pop();if(Se)Se[0].type!==z.type&&(G?G.call(this,z,Se[0]):(Se[1]||vE).call(this,z,Se[0]));else throw new Error("Cannot close `"+z.type+"` ("+zc({start:z.start,end:z.end})+"): its not open");fe.position.end=rs(z.end)}function d(){return Bw(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(z){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function h(){const z=this.resume(),G=this.stack[this.stack.length-1];G.lang=z}function m(){const z=this.resume(),G=this.stack[this.stack.length-1];G.meta=z}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/(\r?\n|\r)$/g,"")}function x(z){const G=this.resume(),fe=this.stack[this.stack.length-1];fe.label=G,fe.identifier=Ur(this.sliceSerialize(z)).toLowerCase()}function w(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function S(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function j(z){const G=this.stack[this.stack.length-1];if(!G.depth){const fe=this.sliceSerialize(z).length;G.depth=fe}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function C(z){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function I(z){const fe=this.stack[this.stack.length-1].children;let Se=fe[fe.length-1];(!Se||Se.type!=="text")&&(Se=Te(),Se.position={start:rs(z.start),end:void 0},fe.push(Se)),this.stack.push(Se)}function R(z){const G=this.stack.pop();G.value+=this.sliceSerialize(z),G.position.end=rs(z.end)}function F(z){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=G.children[G.children.length-1];fe.position.end=rs(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(G.type)&&(I.call(this,z),R.call(this,z))}function O(){this.data.atHardBreak=!0}function D(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function A(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function M(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function H(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function B(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function P(z){const G=this.sliceSerialize(z),fe=this.stack[this.stack.length-2];fe.label=tne(G),fe.identifier=Ur(G).toLowerCase()}function k(){const z=this.stack[this.stack.length-1],G=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const Se=z.children;fe.children=Se}else fe.alt=G}function E(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function $(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function U(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function K(z){const G=this.resume(),fe=this.stack[this.stack.length-1];fe.label=G,fe.identifier=Ur(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function Q(z){this.data.characterReferenceType=z.type}function Y(z){const G=this.sliceSerialize(z),fe=this.data.characterReferenceType;let Se;fe?(Se=mI(G,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Se=Vw(G);const Ne=this.stack[this.stack.length-1];Ne.value+=Se}function W(z){const G=this.stack.pop();G.position.end=rs(z.end)}function ie(z){R.call(this,z);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(z)}function ue(z){R.call(this,z);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(z)}function le(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ot(){return{type:"emphasis",children:[]}}function It(){return{type:"heading",depth:0,children:[]}}function Et(){return{type:"break"}}function lr(){return{type:"html",value:""}}function xi(){return{type:"image",title:null,url:"",alt:null}}function cr(){return{type:"link",title:null,url:"",children:[]}}function Yi(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function bi(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function we(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function Te(){return{type:"text",value:""}}function ke(){return{type:"thematicBreak"}}}function rs(e){return{line:e.line,column:e.column,offset:e.offset}}function kI(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?kI(e,r):sne(e,r)}}function sne(e,t){let n;for(n in t)if(EI.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function vE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+zc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+zc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+zc({start:t.start,end:t.end})+") is still open")}function one(e){const t=this;t.parser=n;function n(r){return rne(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ane(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function lne(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function cne(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function une(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dne(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fne(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ml(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function hne(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pne(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function CI(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function mne(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return CI(e,t);const i={src:Ml(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function gne(e,t){const n={src:Ml(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function vne(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function yne(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return CI(e,t);const i={href:Ml(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function xne(e,t){const n={href:Ml(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bne(e,t,n){const r=e.all(t),i=n?wne(n):RI(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function wne(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=RI(n[r])}return t}function RI(e){const t=e.spread;return t??e.children.length>1}function Sne(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function _ne(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jne(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ene(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kne(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Mw(t.children[1]),l=aI(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Cne(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const f=t.children[l],p={},h=o?o[l]:void 0;h&&(p.align=h);let m={type:"element",tagName:s,properties:p,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Rne(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const yE=9,xE=32;function Pne(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(bE(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(bE(t.slice(i),i>0,!1)),s.join("")}function bE(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===yE||s===xE;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===yE||s===xE;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Tne(e,t){const n={type:"text",value:Pne(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Nne(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ane={blockquote:ane,break:lne,code:cne,delete:une,emphasis:dne,footnoteReference:fne,heading:hne,html:pne,imageReference:mne,image:gne,inlineCode:vne,linkReference:yne,link:xne,listItem:bne,list:Sne,paragraph:_ne,root:jne,strong:Ene,table:kne,tableCell:Rne,tableRow:Cne,text:Tne,thematicBreak:Nne,toml:Cf,yaml:Cf,definition:Cf,footnoteDefinition:Cf};function Cf(){}const PI=-1,um=0,Bc=1,ep=2,qw=3,Kw=4,Qw=5,Gw=6,TI=7,NI=8,wE=typeof self=="object"?self:globalThis,One=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case um:case PI:return n(o,i);case Bc:{const a=n([],i);for(const l of o)a.push(r(l));return a}case ep:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case qw:return n(new Date(o),i);case Kw:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Qw:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Gw:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case TI:{const{name:a,message:l}=o;return n(new wE[a](l),i)}case NI:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new wE[s](o),i)};return r},SE=e=>One(new Map,e)(0),va="",{toString:Ine}={},{keys:Fne}=Object,dc=e=>{const t=typeof e;if(t!=="object"||!e)return[um,t];const n=Ine.call(e).slice(8,-1);switch(n){case"Array":return[Bc,va];case"Object":return[ep,va];case"Date":return[qw,va];case"RegExp":return[Kw,va];case"Map":return[Qw,va];case"Set":return[Gw,va];case"DataView":return[Bc,n]}return n.includes("Array")?[Bc,n]:n.includes("Error")?[TI,n]:[ep,n]},Rf=([e,t])=>e===um&&(t==="function"||t==="symbol"),Dne=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=dc(o);switch(a){case um:{let d=o;switch(l){case"bigint":a=NI,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([PI],o)}return i([a,d],o)}case Bc:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const d=[],f=i([a,d],o);for(const p of o)d.push(s(p));return f}case ep:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([a,d],o);for(const p of Fne(o))(e||!Rf(dc(o[p])))&&d.push([s(p),s(o[p])]);return f}case qw:return i([a,o.toISOString()],o);case Kw:{const{source:d,flags:f}=o;return i([a,{source:d,flags:f}],o)}case Qw:{const d=[],f=i([a,d],o);for(const[p,h]of o)(e||!(Rf(dc(p))||Rf(dc(h))))&&d.push([s(p),s(h)]);return f}case Gw:{const d=[],f=i([a,d],o);for(const p of o)(e||!Rf(dc(p)))&&d.push(s(p));return f}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},_E=(e,{json:t,lossy:n}={})=>{const r=[];return Dne(!(t||n),!!t,new Map,r)(e),r},tp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?SE(_E(e,t)):structuredClone(e):(e,t)=>SE(_E(e,t));function Lne(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $ne(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Mne(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Lne,r=e.options.footnoteBackLabel||$ne,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=Ml(f.toLowerCase());let h=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++h<=g;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,h);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else d.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...tp(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const dm=function(e){if(e==null)return Bne;if(typeof e=="function")return fm(e);if(typeof e=="object")return Array.isArray(e)?Une(e):zne(e);if(typeof e=="string")return Hne(e);throw new Error("Expected function, string, or object as test")};function Une(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=dm(e[n]);return fm(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function zne(e){const t=e;return fm(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Hne(e){return fm(t);function t(n){return n&&n.type===e}}function fm(e){return t;function t(n,r,i){return!!(Vne(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Bne(){return!0}function Vne(e){return e!==null&&typeof e=="object"&&"type"in e}const AI=[],Wne=!0,xx=!1,qne="skip";function OI(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=dm(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=AI,m,g,b;if((!t||s(l,u,d[d.length-1]||void 0))&&(h=Kne(n(l,d)),h[0]===xx))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==qne)for(g=(r?v.children.length:-1)+o,b=d.concat(v);g>-1&&g<v.children.length;){const x=v.children[g];if(m=a(x,g,b)(),m[0]===xx)return m;g=typeof m[1]=="number"?m[1]:g+o}}return h}}}function Kne(e){return Array.isArray(e)?e:typeof e=="number"?[Wne,e]:e==null?AI:[e]}function Yw(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),OI(e,s,a,i);function a(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const bx={}.hasOwnProperty,Qne={};function Gne(e,t){const n=t||Qne,r=new Map,i=new Map,s=new Map,o={...Ane,...n.handlers},a={all:u,applyData:Jne,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Yne,wrap:Zne};return Yw(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),a;function l(d,f){const p=d.type,h=a.handlers[p];if(bx.call(a.handlers,p)&&h)return h(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:g,...b}=d,v=tp(b);return v.children=a.all(d),v}return tp(d)}return(a.options.unknownHandler||Xne)(a,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let h=-1;for(;++h<p.length;){const m=a.one(p[h],d);if(m){if(h&&p[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=jE(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=jE(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function Yne(e,t){e.position&&(t.position=$Z(e))}function Jne(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,tp(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Xne(e,t){const n=t.data||{},r="value"in t&&!(bx.call(n,"hProperties")||bx.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Zne(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function jE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function EE(e,t){const n=Gne(e,t),r=n.one(e,void 0),i=Mne(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function ere(e,t){return e&&"run"in e?async function(n,r){const i=EE(n,{file:r,...t});await e.run(i,r)}:function(n,r){return EE(n,{file:r,...e||t})}}function kE(e){if(e)throw e}var th=Object.prototype.hasOwnProperty,II=Object.prototype.toString,CE=Object.defineProperty,RE=Object.getOwnPropertyDescriptor,PE=function(t){return typeof Array.isArray=="function"?Array.isArray(t):II.call(t)==="[object Array]"},TE=function(t){if(!t||II.call(t)!=="[object Object]")return!1;var n=th.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&th.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||th.call(t,i)},NE=function(t,n){CE&&n.name==="__proto__"?CE(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},AE=function(t,n){if(n==="__proto__")if(th.call(t,n)){if(RE)return RE(t,n).value}else return;return t[n]},tre=function e(){var t,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=AE(a,n),i=AE(t,n),a!==i&&(d&&i&&(TE(i)||(s=PE(i)))?(s?(s=!1,o=r&&PE(r)?r:[]):o=r&&TE(r)?r:{},NE(a,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&NE(a,{name:n,newValue:i}));return a};const Jg=Bs(tre);function wx(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function nre(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const d=e[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?rre(d,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function rre(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const d=u;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const ni={basename:ire,dirname:sre,extname:ore,join:are,sep:"/"};function ire(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Cd(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function sre(e){if(Cd(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ore(e){Cd(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function are(...e){let t=-1,n;for(;++t<e.length;)Cd(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":lre(n)}function lre(e){Cd(e);const t=e.codePointAt(0)===47;let n=cre(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function cre(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Cd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ure={cwd:dre};function dre(){return"/"}function Sx(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function fre(e){if(typeof e=="string")e=new URL(e);else if(!Sx(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return hre(e)}function hre(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Xg=["history","path","basename","stem","extname","dirname"];class FI{constructor(t){let n;t?Sx(t)?n={path:t}:typeof t=="string"||pre(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ure.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xg.length;){const s=Xg[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Xg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ni.basename(this.path):void 0}set basename(t){ev(t,"basename"),Zg(t,"basename"),this.path=ni.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ni.dirname(this.path):void 0}set dirname(t){OE(this.basename,"dirname"),this.path=ni.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ni.extname(this.path):void 0}set extname(t){if(Zg(t,"extname"),OE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ni.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Sx(t)&&(t=fre(t)),ev(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ni.basename(this.path,this.extname):void 0}set stem(t){ev(t,"stem"),Zg(t,"stem"),this.path=ni.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new mn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Zg(e,t){if(e&&e.includes(ni.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ni.sep+"`")}function ev(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function OE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function pre(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mre=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},gre={}.hasOwnProperty;class Jw extends mre{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nre()}copy(){const t=new Jw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Jg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(rv("data",this.frozen),this.namespace[t]=n,this):gre.call(this.namespace,t)&&this.namespace[t]||void 0:t?(rv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pf(t),r=this.parser||this.Parser;return tv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),tv("process",this.parser||this.Parser),nv("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Pf(t),l=r.parse(a);r.run(l,a,function(d,f,p){if(d||!f||!p)return u(d);const h=f,m=r.stringify(h,p);xre(m)?p.value=m:p.result=m,u(d,p)});function u(d,f){d||!f?o(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),tv("processSync",this.parser||this.Parser),nv("processSync",this.compiler||this.Compiler),this.process(t,i),FE("processSync","process",n),r;function i(s,o){n=!0,kE(s),r=o}}run(t,n,r){IE(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Pf(n);i.run(t,l,u);function u(d,f,p){const h=f||t;d?a(d):o?o(h):r(void 0,h,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),FE("runSync","run",r),i;function s(o,a){kE(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Pf(n),i=this.compiler||this.Compiler;return nv("stringify",i),IE(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(rv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Jg(!0,i.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[h,...m]=d;const g=r[p][1];wx(g)&&wx(h)&&(h=Jg(!0,g,h)),r[p]=[u,h,...m]}}}}const vre=new Jw().freeze();function tv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function nv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function rv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function IE(e){if(!wx(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function FE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pf(e){return yre(e)?e:new FI(e)}function yre(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function xre(e){return typeof e=="string"||bre(e)}function bre(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wre="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",DE=[],LE={allowDangerousHtml:!0},Sre=/^(https?|ircs?|mailto|xmpp)$/i,_re=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function nh(e){const t=jre(e),n=Ere(e);return kre(t.runSync(t.parse(n),n),e)}function jre(e){const t=e.rehypePlugins||DE,n=e.remarkPlugins||DE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...LE}:LE;return vre().use(one).use(n).use(ere,r).use(t)}function Ere(e){const t=e.children||"",n=new FI;return typeof t=="string"&&(n.value=t),n}function kre(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Cre;for(const d of _re)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+wre+d.id,void 0);return Yw(e,u),BZ(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let h;for(h in Qg)if(Object.hasOwn(Qg,h)&&Object.hasOwn(d.properties,h)){const m=d.properties[h],g=Qg[h];(g===null||g.includes(d.tagName))&&(d.properties[h]=l(String(m||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(d,f,p)),h&&p&&typeof f=="number")return a&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function Cre(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Sre.test(e.slice(0,t))?e:""}function $E(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Rre(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Pre(e,t,n){const i=dm((n||{}).ignore||[]),s=Tre(t);let o=-1;for(;++o<s.length;)OI(e,"text",a);function a(u,d){let f=-1,p;for(;++f<d.length;){const h=d[f],m=p?p.children:void 0;if(i(h,m?m.indexOf(h):void 0,p))return;p=h}if(p)return l(u,d)}function l(u,d){const f=d[d.length-1],p=s[o][0],h=s[o][1];let m=0;const b=f.children.indexOf(u);let v=!1,x=[];p.lastIndex=0;let w=p.exec(u.value);for(;w;){const S=w.index,j={index:w.index,input:w.input,stack:[...d,u]};let _=h(...w,j);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?p.lastIndex=S+1:(m!==S&&x.push({type:"text",value:u.value.slice(m,S)}),Array.isArray(_)?x.push(..._):_&&x.push(_),m=S+w[0].length,v=!0),!p.global)break;w=p.exec(u.value)}return v?(m<u.value.length&&x.push({type:"text",value:u.value.slice(m)}),f.children.splice(b,1,...x)):x=[u],b+x.length}}function Tre(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Nre(i[0]),Are(i[1])])}return t}function Nre(e){return typeof e=="string"?new RegExp(Rre(e),"g"):e}function Are(e){return typeof e=="function"?e:function(){return e}}const iv="phrasing",sv=["autolink","link","image","label"];function Ore(){return{transforms:[Ure],enter:{literalAutolink:Fre,literalAutolinkEmail:ov,literalAutolinkHttp:ov,literalAutolinkWww:ov},exit:{literalAutolink:Mre,literalAutolinkEmail:$re,literalAutolinkHttp:Dre,literalAutolinkWww:Lre}}}function Ire(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:iv,notInConstruct:sv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:iv,notInConstruct:sv},{character:":",before:"[ps]",after:"\\/",inConstruct:iv,notInConstruct:sv}]}}function Fre(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ov(e){this.config.enter.autolinkProtocol.call(this,e)}function Dre(e){this.config.exit.autolinkProtocol.call(this,e)}function Lre(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function $re(e){this.config.exit.autolinkEmail.call(this,e)}function Mre(e){this.exit(e)}function Ure(e){Pre(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,zre],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Hre]],{ignore:["link","linkReference"]})}function zre(e,t,n,r,i){let s="";if(!DI(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Bre(n)))return!1;const o=Vre(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Hre(e,t,n,r){return!DI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Bre(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Vre(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=$E(e,"(");let s=$E(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function DI(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Do(n)||lm(n))&&(!t||n!==47)}LI.peek=Zre;function Wre(){this.buffer()}function qre(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Kre(){this.buffer()}function Qre(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Gre(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Yre(e){this.exit(e)}function Jre(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Xre(e){this.exit(e)}function Zre(){return"["}function LI(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function eie(){return{enter:{gfmFootnoteCallString:Wre,gfmFootnoteCall:qre,gfmFootnoteDefinitionLabelString:Kre,gfmFootnoteDefinition:Qre},exit:{gfmFootnoteCallString:Gre,gfmFootnoteCall:Yre,gfmFootnoteDefinitionLabelString:Jre,gfmFootnoteDefinition:Xre}}}function tie(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:LI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?$I:nie))),u(),l}}function nie(e,t,n){return t===0?e:$I(e,t,n)}function $I(e,t,n){return(n?"":"    ")+e}const rie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MI.peek=lie;function iie(){return{canContainEols:["delete"],enter:{strikethrough:oie},exit:{strikethrough:aie}}}function sie(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:rie}],handlers:{delete:MI}}}function oie(e){this.enter({type:"delete",children:[]},e)}function aie(e){this.exit(e)}function MI(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function lie(){return"~"}function cie(e){return e.length}function uie(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||cie,s=[],o=[],a=[],l=[];let u=0,d=-1;for(;++d<e.length;){const g=[],b=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const x=die(e[d][v]);if(n.alignDelimiters!==!1){const w=i(x);b[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}g.push(x)}o[d]=g,a[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=ME(r[f]);else{const g=ME(r);for(;++f<u;)s[f]=g}f=-1;const p=[],h=[];for(;++f<u;){const g=s[f];let b="",v="";g===99?(b=":",v=":"):g===108?b=":":g===114&&(v=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-v.length);const w=b+"-".repeat(x)+v;n.alignDelimiters!==!1&&(x=b.length+x+v.length,x>l[f]&&(l[f]=x),h[f]=x),p[f]=w}o.splice(1,0,p),a.splice(1,0,h),d=-1;const m=[];for(;++d<o.length;){const g=o[d],b=a[d];f=-1;const v=[];for(;++f<u;){const x=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(b[f]||0),_=s[f];_===114?w=" ".repeat(j):_===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(x),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function die(e){return e==null?"":String(e)}function ME(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function fie(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),hie);return i(),o}function hie(e,t,n){return">"+(n?"":" ")+e}function pie(e,t){return UE(e,t.inConstruct,!0)&&!UE(e,t.notInConstruct,!1)}function UE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function zE(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&pie(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mie(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function gie(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function vie(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function yie(e,t,n,r){const i=vie(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(gie(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(s,xie);return f(),p}const a=n.createTracker(r),l=i.repeat(Math.max(mie(s,i)+1,3)),u=n.enter("codeFenced");let d=a.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=a.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...a.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=a.move(" "),d+=a.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...a.current()})),f()}return d+=a.move(`
`),s&&(d+=a.move(s+`
`)),d+=a.move(l),u(),d}function xie(e,t,n){return(n?"":"    ")+e}function Xw(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function bie(e,t,n,r){const i=Xw(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function wie(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ju(e){return"&#x"+e.toString(16).toUpperCase()+";"}function np(e,t,n){const r=wl(e),i=wl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}UI.peek=Sie;function UI(e,t,n,r){const i=wie(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),d=np(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Ju(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=np(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Ju(f));const h=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+h}function Sie(e,t,n){return n.options.emphasis||"*"}function _ie(e,t){let n=!1;return Yw(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,xx}),!!((!e.depth||e.depth<3)&&Bw(e)&&(t.options.setext||n))}function jie(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(_ie(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Ju(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}zI.peek=Eie;function zI(e){return e.value||""}function Eie(){return"<"}HI.peek=kie;function HI(e,t,n,r){const i=Xw(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function kie(){return"!"}BI.peek=Cie;function BI(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Cie(){return"!"}VI.peek=Rie;function VI(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Rie(){return"`"}function WI(e,t){const n=Bw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}qI.peek=Pie;function qI(e,t,n,r){const i=Xw(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(WI(e,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),a(),n.stack=d,f}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function Pie(e,t,n){return WI(e,n)?"<":"["}KI.peek=Tie;function KI(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Tie(){return"["}function Zw(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Nie(e){const t=Zw(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Aie(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function QI(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Oie(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?Aie(n):Zw(n);const a=e.ordered?o==="."?")":".":Nie(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),QI(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function Iie(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Fie(e,t,n,r){const i=Iie(n);let s=n.bulletCurrent||Zw(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),d);return l(),u;function d(f,p,h){return p?(h?"":" ".repeat(o))+f:(h?s:s+" ".repeat(o-s.length))+f}}function Die(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const Lie=dm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $ie(e,t,n,r){return(e.children.some(function(o){return Lie(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Mie(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}GI.peek=Uie;function GI(e,t,n,r){const i=Mie(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),d=np(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Ju(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=np(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Ju(f));const h=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+h}function Uie(e,t,n){return n.options.strong||"*"}function zie(e,t,n,r){return n.safe(e.value,r)}function Hie(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Bie(e,t,n){const r=(QI(n)+(n.options.ruleSpaces?" ":"")).repeat(Hie(n));return n.options.ruleSpaces?r.slice(0,-1):r}const YI={blockquote:fie,break:zE,code:yie,definition:bie,emphasis:UI,hardBreak:zE,heading:jie,html:zI,image:HI,imageReference:BI,inlineCode:VI,link:qI,linkReference:KI,list:Oie,listItem:Fie,paragraph:Die,root:$ie,strong:GI,text:zie,thematicBreak:Bie};function Vie(){return{enter:{table:Wie,tableData:HE,tableHeader:HE,tableRow:Kie},exit:{codeText:Qie,table:qie,tableData:av,tableHeader:av,tableRow:av}}}function Wie(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function qie(e){this.exit(e),this.data.inTable=void 0}function Kie(e){this.enter({type:"tableRow",children:[]},e)}function av(e){this.exit(e)}function HE(e){this.enter({type:"tableCell",children:[]},e)}function Qie(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Gie));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Gie(e,t){return t==="|"?t:e}function Yie(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:a}};function o(h,m,g,b){return u(d(h,g,b),h.align)}function a(h,m,g,b){const v=f(h,g,b),x=u([v]);return x.slice(0,x.indexOf(`
`))}function l(h,m,g,b){const v=g.enter("tableCell"),x=g.enter("phrasing"),w=g.containerPhrasing(h,{...b,before:s,after:s});return x(),v(),w}function u(h,m){return uie(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function d(h,m,g){const b=h.children;let v=-1;const x=[],w=m.enter("table");for(;++v<b.length;)x[v]=f(b[v],m,g);return w(),x}function f(h,m,g){const b=h.children;let v=-1;const x=[],w=m.enter("tableRow");for(;++v<b.length;)x[v]=l(b[v],h,m,g);return w(),x}function p(h,m,g){let b=YI.inlineCode(h,m,g);return g.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Jie(){return{exit:{taskListCheckValueChecked:BE,taskListCheckValueUnchecked:BE,paragraph:Zie}}}function Xie(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ese}}}function BE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Zie(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ese(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=YI.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function tse(){return[Ore(),eie(),iie(),Vie(),Jie()]}function nse(e){return{extensions:[Ire(),tie(e),sie(),Yie(e),Xie()]}}const rse={tokenize:cse,partial:!0},JI={tokenize:use,partial:!0},XI={tokenize:dse,partial:!0},ZI={tokenize:fse,partial:!0},ise={tokenize:hse,partial:!0},e2={name:"wwwAutolink",tokenize:ase,previous:n2},t2={name:"protocolAutolink",tokenize:lse,previous:r2},Qi={name:"emailAutolink",tokenize:ose,previous:i2},yi={};function sse(){return{text:yi}}let ro=48;for(;ro<123;)yi[ro]=Qi,ro++,ro===58?ro=65:ro===91&&(ro=97);yi[43]=Qi;yi[45]=Qi;yi[46]=Qi;yi[95]=Qi;yi[72]=[Qi,t2];yi[104]=[Qi,t2];yi[87]=[Qi,e2];yi[119]=[Qi,e2];function ose(e,t,n){const r=this;let i,s;return o;function o(f){return!_x(f)||!i2.call(r,r.previous)||e0(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(f))}function a(f){return _x(f)?(e.consume(f),a):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(ise,d,u)(f):f===45||f===95||un(f)?(s=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return s&&i&&_n(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function ase(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!n2.call(r,r.previous)||e0(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(rse,e.attempt(JI,e.attempt(XI,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function lse(e,t,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&r2.call(r,r.previous)&&!e0(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),a):n(f)}function a(f){if(_n(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),a;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),s?u:(s=!0,l)):n(f)}function u(f){return f===null||Zh(f)||Ge(f)||Do(f)||lm(f)?n(f):e.attempt(JI,e.attempt(XI,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function cse(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function use(e,t,n){let r,i,s;return o;function o(u){return u===46||u===95?e.check(ZI,l,a)(u):u===null||Ge(u)||Do(u)||u!==45&&lm(u)?l(u):(s=!0,e.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function l(u){return i||r||!s?n(u):t(u)}}function dse(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(ZI,t,s)(o):o===null||Ge(o)||Do(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function fse(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Ge(a)||Do(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Ge(a)||Do(a)?t(a):r(a)}function s(a){return _n(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):_n(a)?(e.consume(a),o):n(a)}}function hse(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return un(s)?n(s):t(s)}}function n2(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ge(e)}function r2(e){return!_n(e)}function i2(e){return!(e===47||_x(e))}function _x(e){return e===43||e===45||e===46||e===95||un(e)}function e0(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const pse={tokenize:Sse,partial:!0};function mse(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:xse,continuation:{tokenize:bse},exit:wse}},text:{91:{name:"gfmFootnoteCall",tokenize:yse},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:gse,resolveTo:vse}}}}function gse(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=Ur(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function vse(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function yse(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!o||f===null||f===91||Ge(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Ur(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ge(f)||(o=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function xse(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(o>999||m===93&&!a||m===null||m===91||Ge(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return s=Ur(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Ge(m)||(a=!0),o++,e.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(e.consume(m),o++,d):d(m)}function p(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(s)||i.push(s),Fe(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function bse(e,t,n){return e.check(kd,t,e.attempt(pse,t,n))}function wse(e){e.exit("gfmFootnoteDefinition")}function Sse(e,t,n){const r=this;return Fe(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function _se(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",d,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",f,a]],h=a.parser.constructs.insideSpan.null;h&&nr(p,p.length,0,cm(h,o.slice(u+1,l),a)),nr(p,p.length,0,[["exit",f,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",d,a]]),nr(o,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,d=this.events;let f=0;return p;function p(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const g=wl(u);if(m===126)return f>1?l(m):(o.consume(m),f++,h);if(f<2&&!n)return l(m);const b=o.exit("strikethroughSequenceTemporary"),v=wl(m);return b._open=!v||v===2&&!!g,b._close=!g||g===2&&!!v,a(m)}}}class jse{constructor(){this.map=[]}add(t,n,r){Ese(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function Ese(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function kse(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Cse(){return{flow:{null:{name:"table",tokenize:Rse,resolveAll:Pse}}}}function Rse(e,t,n){const r=this;let i=0,s=0,o;return a;function a(R){let F=r.events.length-1;for(;F>-1;){const A=r.events[F][1].type;if(A==="lineEnding"||A==="linePrefix")F--;else break}const O=F>-1?r.events[F][1].type:null,D=O==="tableHead"||O==="tableRow"?_:l;return D===_&&r.parser.lazy[r.now().line]?n(R):D(R)}function l(R){return e.enter("tableHead"),e.enter("tableRow"),u(R)}function u(R){return R===124||(o=!0,s+=1),d(R)}function d(R){return R===null?n(R):he(R)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),h):n(R):Re(R)?Fe(e,d,"whitespace")(R):(s+=1,o&&(o=!1,i+=1),R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(R)))}function f(R){return R===null||R===124||Ge(R)?(e.exit("data"),d(R)):(e.consume(R),R===92?p:f)}function p(R){return R===92||R===124?(e.consume(R),f):f(R)}function h(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(R):(e.enter("tableDelimiterRow"),o=!1,Re(R)?Fe(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):m(R))}function m(R){return R===45||R===58?b(R):R===124?(o=!0,e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),g):j(R)}function g(R){return Re(R)?Fe(e,b,"whitespace")(R):b(R)}function b(R){return R===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),v):R===45?(s+=1,v(R)):R===null||he(R)?S(R):j(R)}function v(R){return R===45?(e.enter("tableDelimiterFiller"),x(R)):j(R)}function x(R){return R===45?(e.consume(R),x):R===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(R))}function w(R){return Re(R)?Fe(e,S,"whitespace")(R):S(R)}function S(R){return R===124?m(R):R===null||he(R)?!o||i!==s?j(R):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(R)):j(R)}function j(R){return n(R)}function _(R){return e.enter("tableRow"),C(R)}function C(R){return R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),C):R===null||he(R)?(e.exit("tableRow"),t(R)):Re(R)?Fe(e,C,"whitespace")(R):(e.enter("data"),T(R))}function T(R){return R===null||R===124||Ge(R)?(e.exit("data"),C(R)):(e.consume(R),R===92?I:T)}function I(R){return R===92||R===124?(e.consume(R),T):T(R)}}function Pse(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,d,f;const p=new jse;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(VE(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",d,t]])),i=m.type==="tableDelimiterRow"?2:d?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=Tf(p,t,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=Tf(p,t,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],f=Tf(p,t,s,i,n,f)):o[1]!==0&&(f=Tf(p,t,o,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&VE(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=kse(t.events,n))}return e}function Tf(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},ba(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=ba(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=ba(t.events,n[2]),d=ba(t.events,n[3]),f={type:a,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],h=t.events[n[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},ba(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function VE(e,t,n,r,i){const s=[],o=ba(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function ba(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Tse={name:"tasklistCheck",tokenize:Ase};function Nse(){return{text:{91:Tse}}}function Ase(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Ge(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return he(l)?t(l):Re(l)?e.check({tokenize:Ose},t,n)(l):n(l)}}function Ose(e,t,n){return Fe(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Ise(e){return pI([sse(),mse(),_se(e),Cse(),Nse()])}const Fse={};function rh(e){const t=this,n=e||Fse,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Ise(n)),s.push(tse()),o.push(nse(n))}const lv={PCAF:"/public/assets/pcaf-logo.png",CBAM:"/public/assets/cbam-logo.png",ADEME:"/public/assets/ademe-logo.png","GHG Protocol":"/public/assets/ghg-protocol-logo.png"},s2=()=>{const[e,t]=y.useState({}),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const{data:o,error:a}=await re.storage.from("source-logos").list();if(a){console.error(" Error fetching source logos:",a),t(lv);return}const l={...lv};for(const u of o||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:d}=re.storage.from("source-logos").getPublicUrl(u.name);if(d!=null&&d.publicUrl){const f=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");l[f]=d.publicUrl}}t(l)}catch(o){console.error(" Error in fetchLogos:",o),t(lv)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const o=s.toLowerCase(),a=Object.keys(e).find(l=>l.toLowerCase()===o);return a?e[a]:null},loading:n,logos:e}},Dse=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=MO();if(t<=1)return null;const s=[],o=5;let a=Math.max(0,e-Math.floor(o/2));const l=Math.min(t-1,a+o-1);l-a<o-1&&(a=Math.max(0,l-o+1));for(let u=a;u<=l;u++)s.push(u);return c.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[c.jsx(eP,{className:"h-4 w-4"}),"Prcdent"]}),a>0&&c.jsxs(c.Fragment,{children:[c.jsx(te,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),a>1&&c.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>c.jsx(te,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),l<t-1&&c.jsxs(c.Fragment,{children:[l<t-2&&c.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),c.jsx(te,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",c.jsx(Cb,{className:"h-4 w-4"})]})]})},Lse=()=>{const{query:e}=Sd(),{hits:t}=Pw(),n=(e||"").trim();jd();const{t:r}=nt("search",{keyPrefix:"results"});return t.length===0&&n.length>0&&n.length<3?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ha,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:r("no_results_short_query_title")}),c.jsx("p",{className:"text-muted-foreground",children:r("no_results_short_query_description")})]}):t.length===0&&n.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ha,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:r("no_results_empty_query_title")}),c.jsx("p",{className:"text-muted-foreground",children:r("no_results_empty_query_description")})]}):t.length===0&&n.length>=3?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ha,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:r("no_results_found_title")}),c.jsx("p",{className:"text-muted-foreground mb-4",children:r("no_results_found_description",{query:e})}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.jsx("p",{children:r("suggestions_title")}),c.jsxs("ul",{className:"mt-2 space-y-1",children:[c.jsxs("li",{children:[" ",r("suggestion_1")]}),c.jsxs("li",{children:[" ",r("suggestion_2")]}),c.jsxs("li",{children:[" ",r("suggestion_3")]})]})]})]}):null},$se=()=>{const{hits:e}=Pw(),t=jd(),{t:n}=nt("search",{keyPrefix:"results"}),[r,i]=V.useState(new Set),[s,o]=V.useState(new Set),{addToFavorites:a,removeFromFavorites:l,isFavorite:u}=Kp(),{shouldBlurPaidContent:d,canUseFavorites:f}=Fl(),{toast:p}=Vt(),{getSourceLogo:h}=s2(),{handleExport:m,handleCopyToClipboard:g}=ZO(),b=t,v=(P,k,E,$=[])=>{const U=Y=>Y?P[Y]:void 0,K=U(b==="fr"?k:E);if(K!=null&&String(K).trim()!=="")return String(K);const Q=U(b==="fr"?E:k);if(Q!=null&&String(Q).trim()!=="")return String(Q);for(const Y of $){const W=U(Y);if(W!=null&&String(W).trim()!=="")return String(W)}return""},x=P=>{if(P==null)return"";const k=typeof P=="number"?P:Number(P);return Number.isFinite(k)?k.toLocaleString(b==="fr"?"fr-FR":"en-US",{maximumFractionDigits:4}):""},w=(P,k)=>{if(k==null)return null;const E=String(k).trim();return E?c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:P}),c.jsx("p",{className:"mt-1 text-xs font-light text-muted-foreground",children:E})]}):null},S=(P,k)=>!k||!k.trim()?null:c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:P}),c.jsx("div",{className:"mt-1 text-xs font-light text-muted-foreground",children:c.jsx(nh,{remarkPlugins:[rh],components:{a:({href:E,children:$,...U})=>c.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...U,children:$}),p:({children:E,...$})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...$,children:E})},children:k})})]}),j=e,_=P=>{const k=new Set(r);k.has(P)?k.delete(P):k.add(P),i(k)},C=(P,k)=>{const $=(b==="fr"?{Nom:["Nom_fr","Nom"],Description:["Description_fr","Description"],Commentaires:["Commentaires_fr","Commentaires"],Secteur:["Secteur_fr","Secteur"],"Sous-secteur":["Sous-secteur_fr","Sous-secteur"],Primtre:["Primtre_fr","Primtre"],Localisation:["Localisation_fr","Localisation"],Unite:["Unite_fr","Unit donne d'activit"],Source:["Source"],Incertitude:["Incertitude"],Contributeur:["Contributeur"],Mthodologie:["Mthodologie"],"Type de donnes":["Type_de_donnes"]}:{Nom:["Nom_en","Nom","Nom_fr"],Description:["Description_en","Description","Description_fr"],Commentaires:["Commentaires_en","Commentaires","Commentaires_fr"],Secteur:["Secteur_en","Secteur","Secteur_fr"],"Sous-secteur":["Sous-secteur_en","Sous-secteur","Sous-secteur_fr"],Primtre:["Primtre_en","Primtre","Primtre_fr"],Localisation:["Localisation_en","Localisation","Localisation_fr"],Unite:["Unite_en","Unit donne d'activit","Unite_fr"],Source:["Source"],Incertitude:["Incertitude"],Contributeur:["Contributeur_en","Contributeur"],Mthodologie:["Mthodologie_en","Mthodologie"],"Type de donnes":["Type_de_donnes_en","Type_de_donnes"]})[k]||[k],U=P._highlightResult||{};for(const N of $){const K=U[N];if(K!=null&&K.value)return{__html:String(K.value).replace(/&lt;em&gt;|&amp;lt;em&amp;gt;/g,"<em>").replace(/&lt;\/em&gt;|&amp;lt;\/em&amp;gt;/g,"</em>")};const Q=P[N];if(Q)return{__html:Q}}return{__html:""}},T=P=>P.is_blurred===!0||d(P.Source),I=P=>{const k=new Set(s);k.has(P)?k.delete(P):k.add(P),o(k)},R=V.useMemo(()=>({premiumOnly:n("feature_pro_favorites"),blurredNotAddable:n("blurred_content_not_addable_to_favorites"),blurredNotSelectable:n("locked_content_not_selectable")}),[n]),F=P=>R[P],O=()=>{const P=j.filter(k=>!T(k)).map(k=>k.objectID);s.size===P.length&&P.length>0?o(new Set):(o(new Set(P)),P.length===0&&p({title:n("no_selection"),description:n("locked_content_not_selectable")}))},D=async()=>{if(s.size===0){p({title:n("no_selection"),description:n("select_at_least_one"),variant:"destructive"});return}const k=j.filter($=>s.has($.objectID)).filter($=>!T($));if(k.length===0){p({title:n("locked_content_not_selectable"),description:n("locked_content_not_copyable")});return}await g(k)&&o(new Set)},A=async()=>{if(s.size===0){p({title:n("no_selection"),description:n("select_at_least_one"),variant:"destructive"});return}const k=j.filter($=>s.has($.objectID)).filter($=>!T($));if(k.length===0){p({title:n("locked_content_not_selectable"),description:n("locked_content_not_exportable")});return}await m(k,"facteurs_emissions_recherche")&&o(new Set)},M=P=>({id:P.objectID,nom:v(P,"Nom_fr","Nom_en",["Nom"]),description:v(P,"Description_fr","Description_en",["Description"]),fe:P.FE,uniteActivite:v(P,"Unite_fr","Unite_en",["Unit donne d'activit"]),source:P.Source,secteur:v(P,"Secteur_fr","Secteur_en",["Secteur"]),sousSecteur:v(P,"Sous-secteur_fr","Sous-secteur_en",["Sous-secteur"]),localisation:v(P,"Localisation_fr","Localisation_en",["Localisation"]),date:P.Date,incertitude:P.Incertitude,perimetre:v(P,"Primtre_fr","Primtre_en",["Primtre"]),contributeur:v(P,"Contributeur","Contributeur_en"),methodologie:v(P,"Mthodologie","Mthodologie_en"),typeDonnees:v(P,"Type_de_donnes","Type_de_donnes_en"),commentaires:v(P,"Commentaires_fr","Commentaires_en",["Commentaires"])}),H=async P=>{const k=M(P);if(T(P)){p({title:n("locked_content_not_addable_to_favorites"),description:n("blurred_content_not_addable_to_favorites")});return}u(P.objectID)?await l(P.objectID):await a(k)},B=async()=>{if(!f()){p({title:n("feature_pro_favorites"),description:n("feature_pro_favorites")});return}const k=j.filter($=>s.has($.objectID)).filter($=>!u($.objectID)),E=k.filter($=>!T($));if(k.length===0){p({title:n("already_in_favorites"),description:n("already_in_favorites")});return}if(E.length===0){p({title:n("locked_content_not_addable_to_favorites"),description:n("blurred_content_not_addable_to_favorites")});return}await Promise.all(E.map($=>a(M($)))),p({title:n("favorites_updated"),description:n("favorites_added",{count:E.length})})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Lse,{}),j.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex w-full flex-col items-start gap-4 md:flex-row md:items-center md:justify-between mb-6 p-4 bg-white rounded-lg border border-border",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Vi,{checked:s.size===j.length&&j.length>0,onCheckedChange:O,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),c.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:s.size===j.length&&j.length>0?n("deselect_all"):n("select_all")})]}),s.size>0&&c.jsx(ft,{variant:"secondary",className:"px-3 py-1 text-xs font-semibold",children:n("selected_items",{count:s.size})})]}),s.size>0&&c.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:flex-wrap sm:gap-3",children:[c.jsxs(te,{onClick:D,variant:"outline",size:"sm",className:"flex w-full items-center justify-center gap-2 font-montserrat text-sm sm:w-auto",children:[c.jsx(tP,{className:"h-4 w-4"}),n("copy")," (",s.size,")"]}),c.jsxs(te,{onClick:B,size:"sm",className:"flex w-full items-center justify-center gap-2 font-montserrat text-sm sm:w-auto",disabled:!f(),title:f()?"":F("premiumOnly"),children:[c.jsx(ly,{className:"h-4 w-4"}),n("add_to_favorites")," (",s.size,")"]}),c.jsxs(te,{onClick:A,size:"sm",className:"flex w-full items-center justify-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat text-sm sm:w-auto",children:[c.jsx(Pb,{className:"h-4 w-4"}),n("export")," (",s.size,")"]})]})]}),c.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:c.jsx("div",{className:"text-sm text-indigo-950 font-montserrat",children:n("displayed_results",{count:j.length})})}),c.jsx("div",{className:"space-y-4",children:j.map(P=>{const k=r.has(P.objectID),E=u(P.objectID),$=T(P),U=!!P.workspace_id||P.import_type==="imported";return c.jsx(Ae,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:c.jsx(Oe,{className:"p-6",children:c.jsx("div",{className:"flex justify-between items-start gap-4",children:c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx(Vi,{checked:s.has(P.objectID),onCheckedChange:()=>I(P.objectID),onClick:N=>N.stopPropagation(),disabled:$,title:$?F("blurredNotSelectable"):"",className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:C(P,"Nom")}),U&&c.jsx(ft,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:n("imported_ef")})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsxs(te,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),_(P.objectID)},className:"text-muted-foreground hover:text-foreground",children:[c.jsx("span",{className:"text-sm font-medium mr-2",children:n(k?"hide_details":"show_details")}),k?c.jsx(Rb,{className:"h-4 w-4"}):c.jsx(ld,{className:"h-4 w-4"})]}),c.jsx(te,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),f()&&!$&&H(P)},disabled:!f()||$,className:`${E?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${!f()||$?"opacity-50 cursor-not-allowed":""}`,title:f()?$?F("blurredNotAddable"):"":F("premiumOnly"),children:f()?c.jsx(ly,{className:`h-4 w-4 ${E?"fill-current":""}`}):c.jsx(Oo,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:n("emission_factor")}),c.jsx(Xh,{isBlurred:$,showBadge:!0,children:c.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[x(P.FE)," kgCOeq"]})}),c.jsxs("div",{className:"mt-2",children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:n("unit")}),c.jsx(Xh,{isBlurred:$,showBadge:!1,children:c.jsx("p",{className:"text-sm font-light",children:v(P,"Unite_fr","Unite_en",["Unit donne d'activit"])})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[v(P,"Primtre_fr","Primtre_en",["Primtre"])&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:n("perimeter")}),c.jsx("p",{className:"text-sm font-light",children:v(P,"Primtre_fr","Primtre_en",["Primtre"])})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:n("source")}),c.jsxs("div",{className:"flex items-center gap-3",children:[h(P.Source)&&c.jsx("img",{src:h(P.Source),alt:`Logo ${P.Source}`,className:"w-[44px] h-[44px] md:w-[50px] md:h-[50px] object-contain flex-shrink-0"}),c.jsx("p",{className:"text-sm font-light text-foreground",dangerouslySetInnerHTML:C(P,"Source")})]})]}),P.dataset_name&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:n("imported_dataset")}),c.jsx("p",{className:"text-sm font-light",children:P.dataset_name})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[v(P,"Localisation_fr","Localisation_en",["Localisation"])&&c.jsx(ft,{variant:"secondary",children:v(P,"Localisation_fr","Localisation_en",["Localisation"])}),P.Date&&c.jsx(ft,{variant:"outline",children:P.Date}),v(P,"Secteur_fr","Secteur_en",["Secteur"])&&c.jsx(ft,{variant:"outline",children:v(P,"Secteur_fr","Secteur_en",["Secteur"])}),v(P,"Sous-secteur_fr","Sous-secteur_en",["Sous-secteur"])&&c.jsx(ft,{variant:"outline",children:v(P,"Sous-secteur_fr","Sous-secteur_en",["Sous-secteur"])})]}),k&&c.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S(n("description"),v(P,"Description_fr","Description_en",["Description"])),S(n("commentary"),v(P,"Commentaires_fr","Commentaires_en",["Commentaires"])),S(n("contributor"),v(P,"Contributeur","Contributeur_en")),S(n("methodology"),v(P,"Mthodologie","Mthodologie_en")),w(n("data_type"),v(P,"Type_de_donnes","Type_de_donnes_en")),w(n("uncertainty"),P.Incertitude)]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:n("sector")}),c.jsx("div",{className:"text-xs font-light mt-1 text-muted-foreground",dangerouslySetInnerHTML:C(P,"Secteur")})]})]})]})]})})})},P.objectID)})}),c.jsx(Dse,{})]})]})},Mse=[{attribute:"Unite_fr",label:"Unit",searchable:!0,limit:500},{attribute:"Source",label:"Source",searchable:!0,limit:500},{attribute:"Localisation_fr",label:"Localisation",searchable:!0,limit:500},{attribute:"Primtre_fr",label:"Primtre",searchable:!0,limit:500},{attribute:"Date",label:"Date",limit:20},{attribute:"Type_de_donnes",label:"Type de donnes",searchable:!0,limit:500},{attribute:"Secteur_fr",label:"Secteur",searchable:!0,limit:500},{attribute:"Sous-secteur_fr",label:"Sous-secteur",searchable:!0,limit:500},{attribute:"dataset_name",label:"Dataset import",searchable:!0,limit:500}],Use=[{attribute:"Unite_en",label:"Unit",searchable:!0,limit:500},{attribute:"Source",label:"Source",searchable:!0,limit:500},{attribute:"Localisation_en",label:"Location",searchable:!0,limit:500},{attribute:"Primtre_en",label:"Perimeter",searchable:!0,limit:500},{attribute:"Date",label:"Date",limit:20},{attribute:"Type_de_donnes_en",label:"Data Type",searchable:!0,limit:500},{attribute:"Secteur_en",label:"Sector",searchable:!0,limit:500},{attribute:"Sous-secteur_en",label:"Sub-Sector",searchable:!0,limit:500},{attribute:"dataset_name",label:"Imported Dataset",searchable:!0,limit:500}],zse=()=>{const{refine:e}=Sd(),{origin:t}=Ow(),[n,r]=V.useState(!1);return V.useEffect(()=>{n||setTimeout(()=>{e("*"),setTimeout(()=>{e(""),r(!0)},100)},100)},[e,n]),V.useEffect(()=>{r(!1)},[t]),null},Hse=({attribute:e,title:t,searchable:n=!1,limit:r=500})=>{const{items:i,refine:s}=IJ({attribute:e,limit:r}),[o,a]=V.useState(""),{t:l}=nt(),{isSourceLocked:u}=Fl(),d=e==="Source",f=V.useMemo(()=>{if(!o.trim())return i;const h=o.toLowerCase();return i.filter(m=>m.label.toLowerCase().includes(h))},[i,o]),p=h=>{a(h.target.value)};return c.jsx(Ih,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:t}),c.jsx("span",{className:"text-xs text-gray-500",children:i.filter(h=>h.isRefined).length>0&&`(${i.filter(h=>h.isRefined).length})`})]}),n&&c.jsx(Gt,{type:"text",placeholder:`Rechercher ${t.toLowerCase()}...`,value:o,onChange:p,className:"text-xs h-8"}),c.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:f.length===0?c.jsx("div",{className:"text-xs text-gray-400",children:o?"Aucun rsultat":"-"}):f.map(h=>{const m=d&&u(h.value);return c.jsxs("div",{className:"flex items-center space-x-2 py-0.5",children:[c.jsx(Vi,{id:`${e}-${h.value}`,checked:h.isRefined,disabled:m,onCheckedChange:()=>!m&&s(h.value)}),m?c.jsxs(vy,{children:[c.jsx(yy,{asChild:!0,children:c.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 cursor-help opacity-50",children:[c.jsx(Oo,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),c.jsxs("span",{className:"text-sm truncate",children:[h.label," ",c.jsxs("span",{className:"text-xs text-gray-500",children:["(",h.count,")"]})]})]})}),c.jsx(Fh,{side:"top",align:"start",sideOffset:8,className:"max-w-[200px]",children:c.jsx("p",{className:"text-xs font-medium",children:l("search:filters.source_locked_tooltip")})})]}):c.jsx("label",{htmlFor:`${e}-${h.value}`,className:"text-sm flex-1 min-w-0 cursor-pointer flex items-center gap-1.5",title:h.label,children:c.jsxs("span",{className:"truncate",children:[h.label," ",c.jsxs("span",{className:"text-xs text-gray-500",children:["(",h.count,")"]})]})})]},h.value)})})]})})},Bse=()=>{const{origin:e,setOrigin:t}=Ow(),{t:n}=nt(),r=i=>{i!==e&&t(i)};return c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(te,{size:"sm",variant:e==="public"?"default":"outline",onClick:()=>r("public"),className:"justify-start w-56 px-4 text-sm whitespace-nowrap overflow-hidden text-ellipsis",children:n("search:filters.origin_public")}),c.jsx(te,{size:"sm",variant:e==="private"?"default":"outline",onClick:()=>r("private"),title:void 0,className:"justify-start w-56 px-4 text-sm whitespace-nowrap overflow-hidden text-ellipsis",children:n("search:filters.origin_private")})]})},o2=()=>{const{refine:e}=fJ(),{language:t}=en(),{t:n}=nt(),r=t==="en"?Use:Mse;return c.jsxs(Ae,{className:"w-full",children:[c.jsx(zse,{}),c.jsx(He,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Be,{className:"text-base font-semibold",children:n("search:filters.title")}),c.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>e(),className:"text-xs",children:[c.jsx(XM,{className:"h-3 w-3 mr-1"}),n("search:filters.reset")]})]})}),c.jsxs(Oe,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold text-primary",children:n("search:filters.origin")}),c.jsx(Bse,{})]}),r.map(({attribute:i,label:s,searchable:o,limit:a})=>c.jsx(Hse,{attribute:i,title:s,searchable:o,limit:a},i))]})]})},Vse=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=_d(),i=jd(),{t:s}=nt("search",{keyPrefix:"stats"}),o=a=>(a==null?void 0:a.toLocaleString(i==="fr"?"fr-FR":"en-US"))??"0";return c.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[c.jsx("div",{children:n&&t!==e?c.jsx("span",{children:s("relevantResults",{sorted:o(t??0),total:o(e??0)})}):c.jsx("span",{className:"font-semibold",children:e===0?s("noResults"):e===1?s("oneResultFound",{formattedCount:o(e)}):s("multipleResultsFound",{formattedCount:o(e),count:e})})}),c.jsx("div",{children:s("timeMs",{time:r})})]})},Wse=()=>{const{user:e}=jt(),{currentWorkspace:t}=Gs(),[n,r]=y.useState(null),[i,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:a,error:l}=await re.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(l&&l.code!=="PGRST116"){console.error("Erreur lors du chargement de la priode d'essai:",l),s(!1);return}let u=a;if(!a){const{data:m,error:g}=await re.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(g){console.error("Erreur lors de la cration de la priode d'essai:",g),s(!1);return}u=m}const d=new Date(u.expires_at),f=new Date,p=Math.max(0,Math.ceil((d.getTime()-f.getTime())/(1e3*60*60*24))),h=d>f;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:p,has_access:h})}catch(a){console.error("Erreur lors du chargement de la priode d'essai:",a)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};var t0="Progress",n0=100,[qse,nle]=ar(t0),[Kse,Qse]=qse(t0),a2=y.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Gse,...o}=e;(i||i===0)&&!WE(i)&&console.error(Yse(`${i}`,"Progress"));const a=WE(i)?i:n0;r!==null&&!qE(r,a)&&console.error(Jse(`${r}`,"Progress"));const l=qE(r,a)?r:null,u=rp(l)?s(l,a):void 0;return c.jsx(Kse,{scope:n,value:l,max:a,children:c.jsx(pe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":rp(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":u2(l,a),"data-value":l??void 0,"data-max":a,...o,ref:t})})});a2.displayName=t0;var l2="ProgressIndicator",c2=y.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Qse(l2,n);return c.jsx(pe.div,{"data-state":u2(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});c2.displayName=l2;function Gse(e,t){return`${Math.round(e/t*100)}%`}function u2(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function rp(e){return typeof e=="number"}function WE(e){return rp(e)&&!isNaN(e)&&e>0}function qE(e,t){return rp(e)&&!isNaN(e)&&e<=t&&e>=0}function Yse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${n0}\`.`}function Jse(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${n0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var d2=a2,Xse=c2;const f2=y.forwardRef(({className:e,value:t,...n},r)=>c.jsx(d2,{ref:r,className:oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:c.jsx(Xse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));f2.displayName=d2.displayName;const Zse=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=Wse(),{t:s}=nt("quota");if(t||!n)return null;if(!e||!r)return c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[c.jsx(Ms,{className:"h-4 w-4 text-destructive"}),c.jsx("span",{className:"text-sm font-medium text-destructive",children:s("trial.expired")})]});const o=Math.max(0,i/7*100),a=i<=2;return c.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[c.jsx(WM,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium",children:s("trial.title")}),c.jsx(ft,{variant:a?"destructive":"secondary",className:"text-xs",children:s("trial.days_remaining",{count:i})})]}),c.jsx(f2,{value:o,className:"h-2"})]})]})},eoe=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=y.useState(!1),{t:s}=nt("quota");if(t)return c.jsxs("div",{className:"flex items-center space-x-2","aria-live":"polite",children:[c.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"}),c.jsx("span",{className:"sr-only",children:s("loading")})]});if(!e)return c.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[c.jsx(Ms,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:s("errors.generic")})]});const o=e.plan_type,a=e.exports_used,l=e.exports_limit,u=e.clipboard_copies_used,d=e.clipboard_copies_limit,f=l===null?0:a/l*100,p=d===null?0:u/d*100,h=()=>o==="pro"?c.jsx(Rh,{className:"h-4 w-4 text-yellow-500"}):c.jsx(Io,{className:"h-4 w-4 text-blue-500"}),m=()=>o==="pro"?"Pro":"Freemium",g=()=>l===null?s("limits.unlimited"):l===0?s("limits.not_available"):s("limits.used_over_total",{used:a,total:l}),b=()=>d===null?s("limits.unlimited"):s("limits.used_over_total",{used:u,total:d??0}),v=()=>s(o!=="pro"?"favorites.pro_only":"limits.unlimited"),x=o==="pro";return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:w=>{w.preventDefault(),i(!r)},className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true","aria-label":s("plan.title",{plan:m()}),children:[h(),c.jsx("span",{className:"whitespace-nowrap",children:m()}),n&&c.jsx(Ph,{className:"h-3 w-3 text-destructive"}),c.jsx(ld,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:w=>{w.preventDefault(),w.stopPropagation(),i(!1)}}),c.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"mb-4",children:c.jsx(Zse,{})}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:s("plan.title",{plan:m()})}),h()]}),n&&c.jsxs(ft,{variant:"destructive",className:"text-xs",children:[c.jsx(Ph,{className:"w-3 h-3 mr-1"}),s("limits.reached")]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{children:c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:s("searches.label")}),c.jsx("span",{className:"text-sm font-medium text-success",children:s("limits.unlimited")})]})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:s("exports.label")}),c.jsx("span",{className:`text-sm font-medium ${f>=100?"text-destructive":"text-muted-foreground"}`,children:g()})]}),!x&&l!==null&&l>0&&c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${f>=100?"bg-destructive":f>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(f,100)}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:s("clipboard.label")}),c.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:b()})]}),!x&&d!==null&&c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),c.jsx("div",{children:c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:s("favorites.label")}),c.jsx("span",{className:`text-sm font-medium ${o==="pro"?"text-success":"text-muted-foreground"}`,children:v()})]})}),n&&o==="freemium"&&c.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:c.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:s("limits.messages.reached")})}),!n&&o==="freemium"&&c.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:c.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:s("limits.messages.contact_admin")})})]})]})})]})]})},_o=()=>{const{t:e}=nt(["navbar","common"]),{language:t}=en(),{user:n,signOut:r}=jt(),{canUseFavorites:i}=Fl(),{canImportData:s}=Ll(),{quotaData:o,isLoading:a,isAtLimit:l}=Aw(),u=Al();vi();const d=async()=>{await r(),u(Le("/",t))};return c.jsx("nav",{className:"border-b border-border bg-background",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx(St,{to:Le(n?"/search":"/",t),className:"flex items-center gap-2",children:c.jsx("img",{src:"/assets/logo-ecodex-navbar.png",alt:"Ecodex",className:"h-10"})}),c.jsxs("div",{className:"flex items-center gap-4",children:[n?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden md:block",children:c.jsx(eoe,{quotaData:o,isLoading:a,isAtLimit:l})}),c.jsx(St,{to:Le("/search",t),children:c.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:e("navbar:search")})}),i()?c.jsx(St,{to:Le("/favoris",t),children:c.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:e("navbar:favorites")})}):c.jsxs(te,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:e("navbar:favorites_locked")??void 0,children:[c.jsx(Oo,{className:"h-4 w-4 mr-2"}),e("navbar:favorites")]}),s?c.jsx(St,{to:Le("/import",t),children:c.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:e("navbar:import")})}):c.jsxs(te,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:e("navbar:import_locked")??void 0,children:[c.jsx(Oo,{className:"h-4 w-4 mr-2"}),e("navbar:import")]}),c.jsx(St,{to:Le("/settings",t),children:c.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:e("navbar:settings")})}),c.jsx(te,{onClick:d,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:e("navbar:logout")})]}):c.jsxs(c.Fragment,{children:[c.jsx(St,{to:Le("/signup",t),children:c.jsx(te,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:e("common:actions.sign_up")})}),c.jsx(St,{to:Le("/login",t),children:c.jsx(te,{children:e("common:actions.log_in")})})]}),c.jsx(wA,{align:"end"})]})]})})})},toe=()=>{const{origin:e}=Ow(),{language:t}=en(),n=V.useMemo(()=>{const r=["objectID","Source","Date","FE","Incertitude","dataset_name","workspace_id","import_type","is_blurred"],i=["Nom","Description","Commentaires","Secteur","Sous-secteur","Primtre","Localisation","Unit donne d'activit","Contributeur","Mthodologie","Type_de_donnes"],s=t==="en"?["Nom_en","Description_en","Commentaires_en","Secteur_en","Sous-secteur_en","Primtre_en","Localisation_en","Unite_en","Contributeur_en","Mthodologie_en","Type_de_donnes_en"]:["Nom_fr","Description_fr","Commentaires_fr","Secteur_fr","Sous-secteur_fr","Primtre_fr","Localisation_fr","Unite_fr","Contributeur","Mthodologie","Type_de_donnes"],o=t==="en"?["Nom_en","Description_en","Commentaires_en"]:["Nom_fr","Description_fr","Commentaires_fr"],a=t==="en"?["Nom_en","Description_en","Commentaires_en"]:["Nom_fr","Description_fr","Commentaires_fr"];return{hitsPerPage:100,ruleContexts:[`origin:${e}`],attributesToRetrieve:[...r,...s,...i],attributesToHighlight:a,restrictSearchableAttributes:o}},[e,t]);return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(_o,{}),c.jsx("section",{className:"py-20 px-4 bg-primary",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-full max-w-6xl",children:c.jsx(HX,{})})})})}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("aside",{className:"lg:col-span-1",children:c.jsx(o2,{})}),c.jsxs("section",{className:"lg:col-span-3",children:[c.jsx(yO,{...n}),c.jsx(Vse,{}),c.jsx($se,{})]})]})})]})},KE=()=>{const{language:e}=en();return c.jsx(VO,{children:c.jsx(toe,{})},`search-${e}`)},noe=({favoriteIds:e=[]})=>{const{query:t,refine:n}=Sd(),{nbHits:r}=_d(),i=(()=>{try{return BO()}catch{return null}})(),{refresh:s}=Tw(),o=()=>{n("")},a=()=>{const l=(t||"").trim();if(!(l.length<3)){try{i==null||i.forceNextSearch()}catch{}n(l),s()}};return c.jsx("div",{className:"space-y-4",children:c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ha,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),c.jsx(Gt,{type:"text",value:t,onChange:l=>{n(l.target.value)},onKeyDown:l=>{l.key==="Enter"&&a()},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&c.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:c.jsx(Tp,{className:"h-5 w-5"})})]}),c.jsx(te,{variant:"default",onClick:a,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},ip=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=Ll(),{role:s}=i;return t&&(!s||!t.includes(s))?c.jsx(c.Fragment,{children:r}):n&&!i[n]?c.jsx(c.Fragment,{children:r}):c.jsx(c.Fragment,{children:e})},roe=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s})=>{const{hits:o}=Pw(),{currentRefinement:a,nbPages:l,refine:u}=MO(),{removeFromFavorites:d}=Kp(),{getSourceLogo:f}=s2(),{shouldBlurPaidContent:p}=Fl(),[h,m]=y.useState(new Set),{t:g}=nt("search"),{t:b}=nt("search",{keyPrefix:"results"}),{t:v}=nt("search",{keyPrefix:"favoris"}),x=V.useMemo(()=>({blurredNotAddable:b("blurred_content_not_addable_to_favorites"),blurredNotSelectable:b("locked_content_not_selectable")}),[b]),w=k=>x[k],{toast:S}=Vt();let j="fr";try{const{language:k}=en();j=k}catch{console.warn("LanguageProvider not available, defaulting to French")}const _=j,C=o,T=C.length>0&&C.every(k=>e.has(k.objectID)),I=y.useCallback(k=>{const E=k===!0,$=C.map(U=>U.objectID);n($,E)},[C,n]),R=y.useCallback(k=>{m(E=>{const $=new Set(E);return $.has(k)?$.delete(k):$.add(k),$})},[]),F=y.useCallback((k,E)=>{const U=(_==="fr"?{Nom:["Nom_fr","Nom"],Description:["Description_fr","Description"],Commentaires:["Commentaires_fr","Commentaires"],Secteur:["Secteur_fr","Secteur"],"Sous-secteur":["Sous-secteur_fr","Sous-secteur"],Primtre:["Primtre_fr","Primtre"],Localisation:["Localisation_fr","Localisation"],Unite:["Unite_fr","Unit donne d'activit"],Source:["Source"]}:{Nom:["Nom_en","Nom"],Description:["Description_en","Description"],Commentaires:["Commentaires_en","Commentaires"],Secteur:["Secteur_en","Secteur"],"Sous-secteur":["Sous-secteur_en","Sous-secteur"],Primtre:["Primtre_en","Primtre"],Localisation:["Localisation_en","Localisation"],Unite:["Unite_en","Unit donne d'activit"],Source:["Source"]})[E]||[E],N=k._highlightResult||{};for(const K of U){const Q=N[K];if(Q!=null&&Q.value)return Q.value;const Y=k[K];if(Y)return String(Y)}return""},[_]),O=y.useCallback(async k=>{try{await d(k.objectID),S({title:b("favorites_removed")})}catch(E){S({title:b("error_removing_favorite"),variant:"destructive"}),console.error("remove favorite error",E)}},[d,b,S]),D=y.useCallback((k,E,$,U=[])=>{const N=W=>W?k[W]:void 0,Q=N(_==="fr"?E:$);if(Q!=null&&String(Q).trim()!=="")return String(Q);const Y=N(_==="fr"?$:E);if(Y!=null&&String(Y).trim()!=="")return String(Y);for(const W of U){const ie=N(W);if(ie!=null&&String(ie).trim()!=="")return String(ie)}return""},[_]),A=y.useCallback(k=>({id:k.objectID,nom:D(k,"Nom_fr","Nom_en",["Nom"]),description:D(k,"Description_fr","Description_en",["Description"]),fe:k.FE??0,uniteActivite:D(k,"Unite_fr","Unite_en",["Unit donne d'activit"]),perimetre:D(k,"Primtre_fr","Primtre_en",["Primtre"]),source:k.Source,localisation:D(k,"Localisation_fr","Localisation_en",["Localisation"]),date:Number(k.Date??0),secteur:D(k,"Secteur_fr","Secteur_en",["Secteur"]),sousSecteur:D(k,"Sous-secteur_fr","Sous-secteur_en",["Sous-secteur"]),commentaires:D(k,"Commentaires_fr","Commentaires_en",["Commentaires"]),incertitude:k.Incertitude??"",contributeur:D(k,"Contributeur","Contributeur_en"),contributeur_en:D(k,"Contributeur_en","Contributeur_en"),methodologie:D(k,"Mthodologie","Mthodologie_en"),methodologie_en:D(k,"Mthodologie_en","Mthodologie_en"),typeDonnees:D(k,"Type_de_donnes","Type_de_donnes_en"),typeDonnees_en:D(k,"Type_de_donnes_en","Type_de_donnes_en")}),[D]),M=y.useCallback(()=>{const E=C.filter($=>e.has($.objectID)).map(A);if(E.length===0){S({title:b("no_selection"),description:b("select_at_least_one"),variant:"destructive"});return}r==null||r(E)},[C,A,r,e,b,S]),H=y.useCallback(()=>{const E=C.filter($=>e.has($.objectID)).map(A);if(E.length===0){S({title:b("no_selection"),description:b("select_at_least_one"),variant:"destructive"});return}i==null||i(E)},[C,A,i,e,b,S]),B=y.useCallback(()=>{if(!s)return;const k=Array.from(e);if(k.length===0){S({title:b("no_selection"),description:b("select_at_least_one"),variant:"destructive"});return}s(k)},[s,e,b,S]),P=y.useCallback(k=>!!k.workspace_id||k.import_type==="imported",[]);return C.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"text-muted-foreground",children:g("search:favoris.empty.no_match")})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:c.jsx("div",{className:"text-sm text-foreground",children:C.length===1?v("stats.favoritesDisplayed",{formattedCount:C.length}):v("stats.favoritesDisplayed_plural",{formattedCount:C.length})})}),c.jsxs("div",{className:"flex w-full flex-col items-start gap-4 md:flex-row md:items-center md:justify-between p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx(Vi,{id:"select-all",checked:T,onCheckedChange:I}),c.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:[b(T?"deselect_all":"select_all")," (",C.length,")"]})]}),e.size>0&&c.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:flex-wrap sm:justify-end",children:[c.jsxs(te,{variant:"outline",size:"sm",onClick:H,className:"flex w-full items-center justify-center gap-2 text-sm sm:w-auto",children:[c.jsx(tP,{className:"w-4 h-4"}),b("copy")," (",e.size,")"]}),c.jsx(ip,{requirePermission:"canExport",children:c.jsxs(te,{variant:"outline",size:"sm",onClick:M,className:"flex w-full items-center justify-center gap-2 text-sm sm:w-auto",children:[c.jsx(Pb,{className:"w-4 h-4"}),b("export")," (",e.size,")"]})}),c.jsxs(te,{variant:"destructive",size:"sm",onClick:B,className:"flex w-full items-center justify-center gap-2 text-sm sm:w-auto",title:b("remove"),children:[c.jsx(Pp,{className:"w-4 h-4"}),b("remove")," (",e.size,")"]})]})]}),c.jsx("div",{className:"space-y-4",children:C.map(k=>{const E=h.has(k.objectID),$=p(k.Source);return c.jsx(Ae,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:c.jsx(Oe,{className:"p-6",children:c.jsx("div",{className:"flex justify-between items-start gap-4",children:c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx(Vi,{checked:e.has(k.objectID),onCheckedChange:()=>t(k.objectID),onClick:U=>U.stopPropagation(),className:"mt-1 cursor-pointer",title:$?w("blurredNotSelectable"):""}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsx("div",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:{__html:F(k,"Nom")}}),P(k)&&c.jsx(ft,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:b("imported_ef")})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(te,{variant:"ghost",size:"sm",onClick:U=>{U.stopPropagation(),O(k)},className:"text-red-500 hover:text-red-600",children:c.jsx(ly,{className:"h-4 w-4 fill-current"})}),c.jsx(te,{variant:"ghost",size:"sm",onClick:U=>{U.stopPropagation(),R(k.objectID)},children:E?c.jsx(Rb,{className:"h-4 w-4"}):c.jsx(ld,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:b("emission_factor")}),c.jsx(Xh,{isBlurred:$,children:c.jsxs("p",{className:"text-2xl font-bold text-primary",children:[k.FE?(typeof k.FE=="number"?k.FE:Number(k.FE)).toLocaleString("fr-FR",{maximumFractionDigits:4}):""," kgCOeq"]})}),c.jsxs("div",{className:"mt-2",children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:b("unit")}),c.jsx(Xh,{isBlurred:$,showBadge:!1,children:c.jsx("p",{className:"text-sm font-light",children:D(k,"Unite_fr","Unite_en",["Unit donne d'activit"])})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[D(k,"Primtre_fr","Primtre_en",["Primtre"])&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:b("perimeter")}),c.jsx("p",{className:"text-sm font-light",children:D(k,"Primtre_fr","Primtre_en",["Primtre"])})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:b("source")}),c.jsxs("div",{className:"flex items-center gap-2",children:[f(k.Source)&&c.jsx("img",{src:f(k.Source),alt:`Logo ${k.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),c.jsx("p",{className:"text-sm font-light",children:k.Source})]})]}),k.dataset_name&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:b("imported_dataset")}),c.jsx("p",{className:"text-sm font-light",children:k.dataset_name})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[D(k,"Localisation_fr","Localisation_en",["Localisation"])&&c.jsx(ft,{variant:"secondary",children:D(k,"Localisation_fr","Localisation_en",["Localisation"])}),k.Date&&c.jsx(ft,{variant:"outline",children:k.Date}),D(k,"Secteur_fr","Secteur_en",["Secteur"])&&c.jsx(ft,{variant:"outline",children:D(k,"Secteur_fr","Secteur_en",["Secteur"])}),D(k,"Sous-secteur_fr","Sous-secteur_en",["Sous-secteur"])&&c.jsx(ft,{variant:"outline",children:D(k,"Sous-secteur_fr","Sous-secteur_en",["Sous-secteur"])})]}),E&&c.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[k.Description_fr||k.Description_en?c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(nh,{remarkPlugins:[rh],components:{a:({href:U,children:N,...K})=>c.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...K,children:N}),p:({children:U,...N})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...N,children:U})},children:k.Description_fr||k.Description_en})})]}):null,c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),c.jsx("div",{className:"text-xs font-light mt-1 text-muted-foreground",children:c.jsx(gX,{hit:k,attribute:_==="fr"?"Secteur_fr":"Secteur_en"})})]}),k.Incertitude&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),c.jsx("p",{className:"text-sm font-light mt-1",children:k.Incertitude})]}),(k.Contributeur||k.Contributeur_en)&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:_==="fr"?"Contributeur":"Contributor"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(nh,{remarkPlugins:[rh],components:{a:({href:U,children:N,...K})=>c.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...K,children:N}),p:({children:U,...N})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...N,children:U})},children:_==="fr"?k.Contributeur:k.Contributeur_en})})]}),(k.Mthodologie||k.Mthodologie_en)&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:_==="fr"?"Mthodologie":"Methodology"}),c.jsx("p",{className:"text-xs font-light mt-1",children:_==="fr"?k.Mthodologie:k.Mthodologie_en})]}),(k.Type_de_donnes||k.Type_de_donnes_en)&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:_==="fr"?"Type de donnes":"Data Type"}),c.jsx("p",{className:"text-xs font-light mt-1",children:_==="fr"?k.Type_de_donnes:k.Type_de_donnes_en})]}),k.Commentaires_fr||k.Commentaires_en?c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(nh,{remarkPlugins:[rh],components:{a:({href:U,children:N,...K})=>c.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...K,children:N}),p:({children:U,...N})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...N,children:U})},children:k.Commentaires_fr||k.Commentaires_en})})]}):null]})]})]})})})},k.objectID)})}),l>1&&(()=>{let E=Math.max(0,a-Math.floor(2.5)),$=Math.min(l-1,E+5-1);$-E<4&&(E=Math.max(0,$-5+1));const U=[];for(let N=E;N<=$;N++)U.push(N);return c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>u(a-1),disabled:a===0,children:[c.jsx(eP,{className:"w-4 h-4"}),"Prcdent"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[E>0&&c.jsx(te,{variant:a===0?"default":"outline",size:"sm",onClick:()=>u(0),className:"w-10",children:"1"},"first-page"),E>1&&c.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),U.map(N=>c.jsx(te,{variant:N===a?"default":"outline",size:"sm",onClick:()=>u(N),className:"w-10",children:N+1},`page-${N}`)),$<l-2&&c.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),$<l-1&&c.jsx(te,{variant:l-1===a?"default":"outline",size:"sm",onClick:()=>u(l-1),className:"w-10",children:l},"last-page")]}),c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>u(a+1),disabled:a>=l-1,children:["Suivant",c.jsx(Cb,{className:"w-4 h-4"})]})]})})()]})},ioe=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=_d(),i=jd(),{t:s}=nt("search"),{t:o}=nt("search",{keyPrefix:"stats"}),{t:a}=nt("search",{keyPrefix:"favoris.stats"}),l=u=>(u==null?void 0:u.toLocaleString(i==="fr"?"fr-FR":"en-US"))??"0";return c.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[c.jsx("div",{children:n&&t!==e?c.jsx("span",{children:a("relevantFavorites",{sorted:l(t??0),total:l(e??0)})}):c.jsx("span",{className:"font-semibold text-foreground",children:e===0?a("noFavorites"):e===1?a("oneFavoriteFound",{formattedCount:l(e)}):a("multipleFavoritesFound",{formattedCount:l(e),count:e})})}),c.jsx("div",{children:o("timeMs",{time:r})})]})},soe=({favoriteIds:e})=>{const[t,n]=y.useState(new Set),{favorites:r,removeFromFavorites:i}=Kp(),{handleExport:s,handleCopyToClipboard:o}=ZO(),a=v=>{n(x=>{const w=new Set(x);return w.has(v)?w.delete(v):w.add(v),w})},l=(v,x)=>{n(x?new Set(v):w=>{const S=new Set(w);return v.forEach(j=>S.delete(j)),S})},u=async v=>{await o(v)},d=async v=>{await s(v,"facteurs_emissions_favoris")},f=async v=>{try{for(const x of v)await i(x);n(new Set),Gn.success(`${v.length} lment${v.length>1?"s":""} retir${v.length>1?"s":""} des favoris`)}catch{Gn.error("Erreur lors de la suppression des favoris")}},p=[...new Set(r.map(v=>v.source))].filter(Boolean),h=[...new Set(r.map(v=>v.localisation))].filter(Boolean);[...new Set(r.map(v=>v.date.toString()))].filter(Boolean).sort((v,x)=>parseInt(x)-parseInt(v));const m=RX(e),g=UX(),b=(g==null?void 0:g.origin)||"all";return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(_o,{}),c.jsx("section",{className:"py-12 px-4 bg-background border-b",children:c.jsx("div",{className:"container mx-auto",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),c.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et grez vos facteurs d'mission favoris"}),c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsx(noe,{favoriteIds:e})}),c.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-foreground",children:r.length}),c.jsx("span",{children:"favoris au total"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-foreground",children:p.length}),c.jsx("span",{children:"sources"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-foreground",children:h.length}),c.jsx("span",{children:"localisations"})]})]})]})})}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),c.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'mission et ajoutez-les  vos favoris en cliquant sur "})]}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("aside",{className:"lg:col-span-1",children:c.jsx(o2,{})}),c.jsxs("section",{className:"lg:col-span-3",children:[c.jsx(yO,{filters:m,ruleContexts:[`origin:${b}`]}),c.jsx(ioe,{}),c.jsx(roe,{selectedItems:t,onItemSelect:a,onSelectAll:l,onExport:d,onCopyToClipboard:u,onRemoveSelectedFromFavorites:f,favoriteIds:e})]})]})})]})},QE=()=>{const{favorites:e}=Kp(),{language:t}=en(),n=y.useMemo(()=>e.map(r=>r.id),[e]);return c.jsx(zX,{children:c.jsx(VO,{children:c.jsx(soe,{favoriteIds:n})},`favorites-${t}`)})},GE=()=>{const{t:e}=nt("pages",{keyPrefix:"import"}),[t,n]=y.useState(null),[r,i]=y.useState(""),[s,o]=y.useState(!1),[a,l]=y.useState(!1),[u,d]=y.useState(0),[f,p]=y.useState("idle"),[h,m]=y.useState(null),[g,b]=y.useState("idle"),{toast:v}=Vt(),{user:x}=jt(),{currentWorkspace:w}=Gs(),{canImportData:S}=Ll(),j=()=>{const D=["Nom","Nom_en","Description","Description_en","FE","Unit donne d'activit","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Primtre","Primtre_en","Contributeur","Contributeur_en","Mthodologie","Mthodologie_en","Type_de_donnes","Type_de_donnes_en","Commentaires","Commentaires_en"],A=["Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Ma Base Perso","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","ADEME","ADEME","Bas carbone","Low carbon","Facteur d'mission","Emission factor","",""],M=[D.join(","),A.join(",")].join(`
`),H=new Blob([M],{type:"text/csv"}),B=URL.createObjectURL(H),P=document.createElement("a");P.href=B,P.download="template_facteurs_emissions.csv",P.click(),URL.revokeObjectURL(B)},_=D=>{var M;const A=(M=D.target.files)==null?void 0:M[0];A&&(A.type==="text/csv"||A.name.toLowerCase().endsWith(".csv")||A.name.toLowerCase().endsWith(".gz")||A.name.toLowerCase().endsWith(".csv.gz")?(n(A),p("idle"),m(null)):v({title:e("toasts.invalidFormat.title"),description:e("toasts.invalidFormat.description"),variant:"destructive"}))},C=D=>{const A=[];let M="",H=!1,B=0;for(;B<D.length;){const P=D[B],k=D[B+1];P==='"'?H&&k==='"'?(M+='"',B+=2):(H=!H,B++):P===","&&!H?(A.push(M.trim()),M="",B++):(M+=P,B++)}return A.push(M.trim()),A},T=D=>!(!D||D.trim().length===0||/^\d+$/.test(D)||D.match(/^(kg|m|l||kWh|km|unit|unit)$/i)||D.length<2),I=D=>{const A=D.split(/\r?\n/).filter(P=>P.trim()!=="");if(A.length===0)return[];const M=C(A[0]),H=[],B=[];for(let P=1;P<A.length;P++)try{const k=C(A[P]);if(k.length!==M.length){B.length<5&&B.push(`Ligne ${P+1}: ${k.length} colonnes au lieu de ${M.length}`);continue}const E={};M.forEach((N,K)=>{E[N]=k[K]||""});const $=E.source||E.Source||"",U=E.nom||E.Nom||"";if($&&typeof $=="string"&&!T($.trim())){B.length<5&&B.push(`Ligne ${P+1}: Source invalide "${$}" (semble tre un nombre ou une unit)`);continue}H.push(E)}catch(k){B.length<5&&B.push(`Ligne ${P+1}: Erreur de parsing - ${k}`)}return B.length>0&&(console.warn("Erreurs de parsing CSV:",B),v({title:"Avertissements de parsing",description:`${B.length} lignes ignores. Vrifiez le format de votre fichier.`,variant:"destructive"})),H},R=async D=>{const A=D.size,H=D.stream().pipeThrough(new CompressionStream("gzip")),P=await new Response(H).blob(),k=P.size,E=Math.round((1-k/A)*100);return{blob:P,compressionRatio:`${E}%`}},F=async()=>{if(!t||!r.trim()){v({title:e("toasts.missingInfo.title"),description:e("toasts.missingInfo.description"),variant:"destructive"});return}if(!w||!x){v({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'tre dans un workspace."});return}if(!S){v({variant:"destructive",title:"Permission refuse",description:"Vous n'avez pas les permissions pour importer des donnes."});return}l(!0),p("uploading"),d(0);try{let D=t;if(!t.name.toLowerCase().endsWith(".gz")){console.log(" Compression automatique du fichier...");const{blob:Q}=await R(t);D=new File([Q],`${t.name}.gz`,{type:"application/gzip"})}d(15);const A=await t.text();d(30);const M=I(A);if(d(45),p("processing"),M.length===0)throw new Error("Le fichier CSV est vide ou mal format");const H=r.trim(),{data:B,error:P}=await re.from("datasets").insert({name:H,file_name:D.name,file_size:D.size,user_id:x.id,workspace_id:w.id,uploaded_by:x.id}).select().single();if(P)throw new Error(`Erreur lors de la cration du dataset: ${P.message}`);d(60);try{await re.from("fe_sources").upsert({source_name:H,access_level:"free",is_global:!1},{onConflict:"source_name"}),await re.from("fe_source_workspace_assignments").upsert({source_name:H,workspace_id:w.id,assigned_by:x.id},{onConflict:"source_name,workspace_id"})}catch(Q){console.warn("Erreur assignation source au workspace:",Q)}let k=D.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);const E=D.name.toLowerCase().endsWith(".xlsx")?".xlsx":D.name.toLowerCase().endsWith(".gz")?".gz":".csv";k.endsWith(E)||(k=k.replace(/\.[^.]*$/,"")+E);const $=`${Date.now()}_${k}`,{error:U}=await re.storage.from("imports").upload($,D,{upsert:!0});if(U)throw U;d(80),b("indexing");const{data:N,error:K}=await re.functions.invoke("chunked-upload",{body:{file_path:$,filename:D.name,file_size:D.size,replace_all:!0,language:"fr",dataset_name:H,add_to_favorites:s}});if(K)throw K;if(b("success"),s)try{}catch(Q){console.warn("Erreur rafrachissement favoris:",Q)}d(100),p("success"),m({success:0,errors:[]}),v({title:"Import russi ",description:"Vos facteurs d'missions apparaitront d'ici quelques minutes dans l'application !"}),setTimeout(()=>{n(null),i(""),o(!1),p("idle"),d(0);const Q=document.getElementById("file-upload");Q&&(Q.value="")},3e3)}catch(D){console.error("Import error:",D),p("error"),m({success:0,errors:[D instanceof Error?D.message:"Erreur inconnue"]}),v({variant:"destructive",title:"Erreur d'import",description:D instanceof Error?D.message:"Une erreur est survenue lors de l'import."})}finally{l(!1)}},O=()=>{switch(f){case"success":return c.jsx(cd,{className:"w-5 h-5 text-green-500"});case"error":return c.jsx(Ms,{className:"w-5 h-5 text-red-500"});default:return null}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(_o,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[c.jsx(n_,{className:"w-8 h-8 mr-3 text-primary"}),e("pageTitle")]}),c.jsx("p",{className:"text-muted-foreground",children:e("pageSubtitle")})]}),c.jsxs(ip,{requirePermission:"canImportData",fallback:c.jsx(Ae,{className:"mb-6",children:c.jsx(Oe,{className:"pt-6",children:c.jsxs("div",{className:"text-center text-muted-foreground",children:[c.jsx(Ms,{className:"w-12 h-12 mx-auto mb-4"}),c.jsx("p",{children:e("cards.noPermission")})]})})}),children:[c.jsxs(Ae,{className:"mb-6",children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center",children:[c.jsx(Pb,{className:"w-5 h-5 mr-2"}),e("cards.template.title")]}),c.jsx(Ln,{children:e("cards.template.description")})]}),c.jsxs(Oe,{children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(QM,{className:"w-8 h-8 text-muted-foreground mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),c.jsx(te,{onClick:j,variant:"outline",children:e("cards.template.downloadButton")})]}),c.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[c.jsxs("strong",{children:[e("cards.template.requiredColumns"),":"]})," ",e("cards.template.columnsList")]})]})]}),c.jsxs(Ae,{children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center",children:[e("cards.upload.title"),O()]}),c.jsx(Ln,{children:e("cards.upload.description")})]}),c.jsxs(Oe,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"dataset-name",children:e("cards.upload.datasetName")}),c.jsx(Gt,{id:"dataset-name",placeholder:e("cards.upload.datasetPlaceholder"),value:r,onChange:D=>i(D.target.value),onBlur:()=>i(D=>D.trim()),disabled:a})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"file-upload",children:e("cards.upload.fileLabel")}),c.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[c.jsx("input",{id:"file-upload",type:"file",accept:".csv,.gz,.csv.gz,application/gzip",onChange:_,className:"hidden",disabled:a}),t?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx(Rp,{className:"w-8 h-8 text-green-500 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:t.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[(t.size/1024/1024).toFixed(2)," MB"]})]})]}):c.jsxs("div",{children:[c.jsx(n_,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("div",{className:"text-lg font-medium mb-2",children:e("cards.upload.clickToSelect")}),c.jsx("div",{className:"text-sm text-muted-foreground",children:e("cards.upload.acceptedFormats")})]}),c.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e(t?"cards.upload.changeFile":"cards.upload.selectFile")})]})]}),(a||f!=="idle"||g!=="idle")&&c.jsx("div",{className:"p-3 rounded-lg border bg-muted/30 text-sm text-muted-foreground",children:e("cards.upload.processingMessage")}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Vi,{id:"add-favorites",checked:s,onCheckedChange:D=>o(D),disabled:a}),c.jsx(Ve,{htmlFor:"add-favorites",className:"text-sm",children:e("cards.upload.addToFavorites")})]}),c.jsx(te,{onClick:F,className:"w-full",disabled:!t||!r.trim()||a,children:e(a?"cards.upload.uploading":"cards.upload.uploadButton")})]})]})]}),c.jsx(Ae,{className:"mt-6",children:c.jsx(Oe,{className:"pt-6",children:c.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[c.jsxs("div",{children:[c.jsxs("strong",{children:[e("info.sizeLimit.label"),":"]})," ",e("info.sizeLimit.value")]}),c.jsxs("div",{children:[c.jsxs("strong",{children:[e("info.format.label"),":"]})," ",e("info.format.value")]}),c.jsxs("div",{children:[c.jsxs("strong",{children:[e("info.encoding.label"),":"]})," ",e("info.encoding.value")]}),c.jsxs("div",{children:[c.jsxs("strong",{children:[e("info.compression.label"),":"]})," ",e("info.compression.value")]}),c.jsxs("div",{children:[c.jsxs("strong",{children:[e("info.validation.label"),":"]})," ",e("info.validation.value")]}),c.jsxs("div",{children:[c.jsxs("strong",{children:[e("info.workspace.label"),":"]})," ",e("info.workspace.value")]})]})})})]})})]})};var ooe="Separator",YE="horizontal",aoe=["horizontal","vertical"],h2=y.forwardRef((e,t)=>{const{decorative:n,orientation:r=YE,...i}=e,s=loe(r)?r:YE,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return c.jsx(pe.div,{"data-orientation":s,...a,...i,ref:t})});h2.displayName=ooe;function loe(e){return aoe.includes(e)}var p2=h2;const m2=y.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>c.jsx(p2,{ref:i,decorative:n,orientation:t,className:oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));m2.displayName=p2.displayName;function JE(e,[t,n]){return Math.min(n,Math.max(t,e))}var coe=[" ","Enter","ArrowUp","ArrowDown"],uoe=[" ","Enter"],Lo="Select",[hm,pm,doe]=Ep(Lo),[Ul,rle]=ar(Lo,[doe,Pl]),mm=Pl(),[foe,Js]=Ul(Lo),[hoe,poe]=Ul(Lo),g2=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:m}=e,g=mm(t),[b,v]=y.useState(null),[x,w]=y.useState(null),[S,j]=y.useState(!1),_=Gp(u),[C,T]=Ui({prop:r,defaultProp:i??!1,onChange:s,caller:Lo}),[I,R]=Ui({prop:o,defaultProp:a,onChange:l,caller:Lo}),F=y.useRef(null),O=b?m||!!b.closest("form"):!0,[D,A]=y.useState(new Set),M=Array.from(D).map(H=>H.props.value).join(";");return c.jsx(zb,{...g,children:c.jsxs(foe,{required:h,scope:t,trigger:b,onTriggerChange:v,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:$r(),value:I,onValueChange:R,open:C,onOpenChange:T,dir:_,triggerPointerDownPosRef:F,disabled:p,children:[c.jsx(hm.Provider,{scope:t,children:c.jsx(hoe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(H=>{A(B=>new Set(B).add(H))},[]),onNativeOptionRemove:y.useCallback(H=>{A(B=>{const P=new Set(B);return P.delete(H),P})},[]),children:n})}),O?c.jsxs(U2,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:H=>R(H.target.value),disabled:p,form:m,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(D)]},M):null]})})};g2.displayName=Lo;var v2="SelectTrigger",y2=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=mm(n),o=Js(v2,n),a=o.disabled||r,l=Ie(t,o.onTriggerChange),u=pm(n),d=y.useRef("touch"),[f,p,h]=H2(g=>{const b=u().filter(w=>!w.disabled),v=b.find(w=>w.value===o.value),x=B2(b,g,v);x!==void 0&&o.onValueChange(x.value)}),m=g=>{a||(o.onOpenChange(!0),h()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(Hb,{asChild:!0,...s,children:c.jsx(pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":z2(o.value)?"":void 0,...i,ref:l,onClick:ne(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:ne(i.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:ne(i.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(b&&g.key===" ")&&coe.includes(g.key)&&(m(),g.preventDefault())})})})});y2.displayName=v2;var x2="SelectValue",b2=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=e,l=Js(x2,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=Ie(t,l.onValueNodeChange);return Xt(()=>{u(d)},[u,d]),c.jsx(pe.span,{...a,ref:f,style:{pointerEvents:"none"},children:z2(l.value)?c.jsx(c.Fragment,{children:o}):s})});b2.displayName=x2;var moe="SelectIcon",w2=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return c.jsx(pe.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});w2.displayName=moe;var goe="SelectPortal",S2=e=>c.jsx(sd,{asChild:!0,...e});S2.displayName=goe;var $o="SelectContent",_2=y.forwardRef((e,t)=>{const n=Js($o,e.__scopeSelect),[r,i]=y.useState();if(Xt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ho.createPortal(c.jsx(j2,{scope:e.__scopeSelect,children:c.jsx(hm.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),s):null}return c.jsx(E2,{...e,ref:t})});_2.displayName=$o;var Rr=10,[j2,Xs]=Ul($o),voe="SelectContentImpl",yoe=No("SelectContent.RemoveScroll"),E2=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:b,...v}=e,x=Js($o,n),[w,S]=y.useState(null),[j,_]=y.useState(null),C=Ie(t,W=>S(W)),[T,I]=y.useState(null),[R,F]=y.useState(null),O=pm(n),[D,A]=y.useState(!1),M=y.useRef(!1);y.useEffect(()=>{if(w)return lw(w)},[w]),aw();const H=y.useCallback(W=>{const[ie,...ue]=O().map(Ee=>Ee.ref.current),[le]=ue.slice(-1),me=document.activeElement;for(const Ee of W)if(Ee===me||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===ie&&j&&(j.scrollTop=0),Ee===le&&j&&(j.scrollTop=j.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==me))return},[O,j]),B=y.useCallback(()=>H([T,w]),[H,T,w]);y.useEffect(()=>{D&&B()},[D,B]);const{onOpenChange:P,triggerPointerDownPosRef:k}=x;y.useEffect(()=>{if(w){let W={x:0,y:0};const ie=le=>{var me,Ee;W={x:Math.abs(Math.round(le.pageX)-(((me=k.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Ee=k.current)==null?void 0:Ee.y)??0))}},ue=le=>{W.x<=10&&W.y<=10?le.preventDefault():w.contains(le.target)||P(!1),document.removeEventListener("pointermove",ie),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ue,{capture:!0})}}},[w,P,k]),y.useEffect(()=>{const W=()=>P(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[P]);const[E,$]=H2(W=>{const ie=O().filter(me=>!me.disabled),ue=ie.find(me=>me.ref.current===document.activeElement),le=B2(ie,W,ue);le&&setTimeout(()=>le.ref.current.focus())}),U=y.useCallback((W,ie,ue)=>{const le=!M.current&&!ue;(x.value!==void 0&&x.value===ie||le)&&(I(W),le&&(M.current=!0))},[x.value]),N=y.useCallback(()=>w==null?void 0:w.focus(),[w]),K=y.useCallback((W,ie,ue)=>{const le=!M.current&&!ue;(x.value!==void 0&&x.value===ie||le)&&F(W)},[x.value]),Q=r==="popper"?jx:k2,Y=Q===jx?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:b}:{};return c.jsx(j2,{scope:n,content:w,viewport:j,onViewportChange:_,itemRefCallback:U,selectedItem:T,onItemLeave:N,itemTextRefCallback:K,focusSelectedItem:B,selectedItemText:R,position:r,isPositioned:D,searchRef:E,children:c.jsx(em,{as:yoe,allowPinchZoom:!0,children:c.jsx(Xp,{asChild:!0,trapped:x.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ne(i,W=>{var ie;(ie=x.trigger)==null||ie.focus({preventScroll:!0}),W.preventDefault()}),children:c.jsx(El,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:c.jsx(Q,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:W=>W.preventDefault(),...v,...Y,onPlaced:()=>A(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ne(v.onKeyDown,W=>{const ie=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ie&&W.key.length===1&&$(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let le=O().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(W.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const me=W.target,Ee=le.indexOf(me);le=le.slice(Ee+1)}setTimeout(()=>H(le)),W.preventDefault()}})})})})})})});E2.displayName=voe;var xoe="SelectItemAlignedPosition",k2=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Js($o,n),o=Xs($o,n),[a,l]=y.useState(null),[u,d]=y.useState(null),f=Ie(t,C=>d(C)),p=pm(n),h=y.useRef(!1),m=y.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&g&&b&&v){const C=s.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(s.dir!=="rtl"){const me=R.left-T.left,Ee=I.left-me,ct=C.left-Ee,Ot=C.width+ct,It=Math.max(Ot,T.width),Et=window.innerWidth-Rr,lr=JE(Ee,[Rr,Math.max(Rr,Et-It)]);a.style.minWidth=Ot+"px",a.style.left=lr+"px"}else{const me=T.right-R.right,Ee=window.innerWidth-I.right-me,ct=window.innerWidth-C.right-Ee,Ot=C.width+ct,It=Math.max(Ot,T.width),Et=window.innerWidth-Rr,lr=JE(Ee,[Rr,Math.max(Rr,Et-It)]);a.style.minWidth=Ot+"px",a.style.right=lr+"px"}const F=p(),O=window.innerHeight-Rr*2,D=g.scrollHeight,A=window.getComputedStyle(u),M=parseInt(A.borderTopWidth,10),H=parseInt(A.paddingTop,10),B=parseInt(A.borderBottomWidth,10),P=parseInt(A.paddingBottom,10),k=M+H+D+P+B,E=Math.min(b.offsetHeight*5,k),$=window.getComputedStyle(g),U=parseInt($.paddingTop,10),N=parseInt($.paddingBottom,10),K=C.top+C.height/2-Rr,Q=O-K,Y=b.offsetHeight/2,W=b.offsetTop+Y,ie=M+H+W,ue=k-ie;if(ie<=K){const me=F.length>0&&b===F[F.length-1].ref.current;a.style.bottom="0px";const Ee=u.clientHeight-g.offsetTop-g.offsetHeight,ct=Math.max(Q,Y+(me?N:0)+Ee+B),Ot=ie+ct;a.style.height=Ot+"px"}else{const me=F.length>0&&b===F[0].ref.current;a.style.top="0px";const ct=Math.max(K,M+g.offsetTop+(me?U:0)+Y)+ue;a.style.height=ct+"px",g.scrollTop=ie-K+g.offsetTop}a.style.margin=`${Rr}px 0`,a.style.minHeight=E+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,s.trigger,s.valueNode,a,u,g,b,v,s.dir,r]);Xt(()=>w(),[w]);const[S,j]=y.useState();Xt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=y.useCallback(C=>{C&&m.current===!0&&(w(),x==null||x(),m.current=!1)},[w,x]);return c.jsx(woe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(pe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});k2.displayName=xoe;var boe="SelectPopperPosition",jx=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Rr,...s}=e,o=mm(n);return c.jsx(Bb,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jx.displayName=boe;var[woe,r0]=Ul($o,{}),Ex="SelectViewport",C2=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Xs(Ex,n),o=r0(Ex,n),a=Ie(t,s.onViewportChange),l=y.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(hm.Slot,{scope:n,children:c.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ne(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const m=window.innerHeight-Rr*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(g,b);if(v<m){const x=v+h,w=Math.min(m,x),S=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});C2.displayName=Ex;var R2="SelectGroup",[Soe,_oe]=Ul(R2),joe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=$r();return c.jsx(Soe,{scope:n,id:i,children:c.jsx(pe.div,{role:"group","aria-labelledby":i,...r,ref:t})})});joe.displayName=R2;var P2="SelectLabel",T2=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=_oe(P2,n);return c.jsx(pe.div,{id:i.id,...r,ref:t})});T2.displayName=P2;var sp="SelectItem",[Eoe,N2]=Ul(sp),A2=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,a=Js(sp,n),l=Xs(sp,n),u=a.value===r,[d,f]=y.useState(s??""),[p,h]=y.useState(!1),m=Ie(t,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,i)}),g=$r(),b=y.useRef("touch"),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Eoe,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:c.jsx(hm.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:c.jsx(pe.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:ne(o.onFocus,()=>h(!0)),onBlur:ne(o.onBlur,()=>h(!1)),onClick:ne(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:ne(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:ne(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:ne(o.onPointerMove,x=>{var w;b.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ne(o.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(uoe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});A2.displayName=sp;var Sc="SelectItemText",O2=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=Js(Sc,n),a=Xs(Sc,n),l=N2(Sc,n),u=poe(Sc,n),[d,f]=y.useState(null),p=Ie(t,v=>f(v),l.onItemTextChange,v=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,v,l.value,l.disabled)}),h=d==null?void 0:d.textContent,m=y.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Xt(()=>(g(m),()=>b(m)),[g,b,m]),c.jsxs(c.Fragment,{children:[c.jsx(pe.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ho.createPortal(s.children,o.valueNode):null]})});O2.displayName=Sc;var I2="SelectItemIndicator",F2=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return N2(I2,n).isSelected?c.jsx(pe.span,{"aria-hidden":!0,...r,ref:t}):null});F2.displayName=I2;var kx="SelectScrollUpButton",D2=y.forwardRef((e,t)=>{const n=Xs(kx,e.__scopeSelect),r=r0(kx,e.__scopeSelect),[i,s]=y.useState(!1),o=Ie(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx($2,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});D2.displayName=kx;var Cx="SelectScrollDownButton",L2=y.forwardRef((e,t)=>{const n=Xs(Cx,e.__scopeSelect),r=r0(Cx,e.__scopeSelect),[i,s]=y.useState(!1),o=Ie(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx($2,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});L2.displayName=Cx;var $2=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Xs("SelectScrollButton",n),o=y.useRef(null),a=pm(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Xt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(pe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ne(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ne(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ne(i.onPointerLeave,()=>{l()})})}),koe="SelectSeparator",M2=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(pe.div,{"aria-hidden":!0,...r,ref:t})});M2.displayName=koe;var Rx="SelectArrow",Coe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=mm(n),s=Js(Rx,n),o=Xs(Rx,n);return s.open&&o.position==="popper"?c.jsx(Vb,{...i,...r,ref:t}):null});Coe.displayName=Rx;var Roe="SelectBubbleInput",U2=y.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=y.useRef(null),s=Ie(r,i),o=WO(t);return y.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[o,t]),c.jsx(pe.select,{...n,style:{...TR,...n.style},ref:s,defaultValue:t})});U2.displayName=Roe;function z2(e){return e===""||e===void 0}function H2(e){const t=Bn(e),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(o=>{const a=n.current+o;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function B2(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=Poe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Poe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Toe=g2,V2=y2,Noe=b2,Aoe=w2,Ooe=S2,W2=_2,Ioe=C2,q2=T2,K2=A2,Foe=O2,Doe=F2,Q2=D2,G2=L2,Y2=M2;const jo=Toe,Eo=Noe,Fs=y.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(V2,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(Aoe,{asChild:!0,children:c.jsx(ld,{className:"h-4 w-4 opacity-50"})})]}));Fs.displayName=V2.displayName;const J2=y.forwardRef(({className:e,...t},n)=>c.jsx(Q2,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Rb,{className:"h-4 w-4"})}));J2.displayName=Q2.displayName;const X2=y.forwardRef(({className:e,...t},n)=>c.jsx(G2,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(ld,{className:"h-4 w-4"})}));X2.displayName=G2.displayName;const Ds=y.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>c.jsx(Ooe,{children:c.jsxs(W2,{ref:i,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(J2,{}),c.jsx(Ioe,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(X2,{})]})}));Ds.displayName=W2.displayName;const Loe=y.forwardRef(({className:e,...t},n)=>c.jsx(q2,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Loe.displayName=q2.displayName;const ln=y.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(K2,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Doe,{children:c.jsx(Rp,{className:"h-4 w-4"})})}),c.jsx(Foe,{children:t})]}));ln.displayName=K2.displayName;const $oe=y.forwardRef(({className:e,...t},n)=>c.jsx(Y2,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));$oe.displayName=Y2.displayName;var gm="Dialog",[Z2,eF]=ar(gm),[Moe,qr]=Z2(gm),tF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=y.useRef(null),l=y.useRef(null),[u,d]=Ui({prop:r,defaultProp:i??!1,onChange:s,caller:gm});return c.jsx(Moe,{scope:t,triggerRef:a,contentRef:l,contentId:$r(),titleId:$r(),descriptionId:$r(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};tF.displayName=gm;var nF="DialogTrigger",rF=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qr(nF,n),s=Ie(t,i.triggerRef);return c.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":o0(i.open),...r,ref:s,onClick:ne(e.onClick,i.onOpenToggle)})});rF.displayName=nF;var i0="DialogPortal",[Uoe,iF]=Z2(i0,{forceMount:void 0}),sF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=qr(i0,t);return c.jsx(Uoe,{scope:t,forceMount:n,children:y.Children.map(r,o=>c.jsx(Sr,{present:n||s.open,children:c.jsx(sd,{asChild:!0,container:i,children:o})}))})};sF.displayName=i0;var op="DialogOverlay",oF=y.forwardRef((e,t)=>{const n=iF(op,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=qr(op,e.__scopeDialog);return s.modal?c.jsx(Sr,{present:r||s.open,children:c.jsx(Hoe,{...i,ref:t})}):null});oF.displayName=op;var zoe=No("DialogOverlay.RemoveScroll"),Hoe=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qr(op,n);return c.jsx(em,{as:zoe,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(pe.div,{"data-state":o0(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Mo="DialogContent",aF=y.forwardRef((e,t)=>{const n=iF(Mo,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=qr(Mo,e.__scopeDialog);return c.jsx(Sr,{present:r||s.open,children:s.modal?c.jsx(Boe,{...i,ref:t}):c.jsx(Voe,{...i,ref:t})})});aF.displayName=Mo;var Boe=y.forwardRef((e,t)=>{const n=qr(Mo,e.__scopeDialog),r=y.useRef(null),i=Ie(t,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return lw(s)},[]),c.jsx(lF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,s=>s.preventDefault())})}),Voe=y.forwardRef((e,t)=>{const n=qr(Mo,e.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return c.jsx(lF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),lF=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,a=qr(Mo,n),l=y.useRef(null),u=Ie(t,l);return aw(),c.jsxs(c.Fragment,{children:[c.jsx(Xp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(El,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":o0(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(qoe,{titleId:a.titleId}),c.jsx(Qoe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),s0="DialogTitle",cF=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qr(s0,n);return c.jsx(pe.h2,{id:i.titleId,...r,ref:t})});cF.displayName=s0;var uF="DialogDescription",dF=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qr(uF,n);return c.jsx(pe.p,{id:i.descriptionId,...r,ref:t})});dF.displayName=uF;var fF="DialogClose",hF=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qr(fF,n);return c.jsx(pe.button,{type:"button",...r,ref:t,onClick:ne(e.onClick,()=>i.onOpenChange(!1))})});hF.displayName=fF;function o0(e){return e?"open":"closed"}var pF="DialogTitleWarning",[Woe,mF]=Q$(pF,{contentName:Mo,titleName:s0,docsSlug:"dialog"}),qoe=({titleId:e})=>{const t=mF(pF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Koe="DialogDescriptionWarning",Qoe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mF(Koe).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},gF=tF,vF=rF,yF=sF,a0=oF,l0=aF,c0=cF,u0=dF,d0=hF;const Goe=gF,Yoe=vF,Joe=yF,xF=y.forwardRef(({className:e,...t},n)=>c.jsx(a0,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xF.displayName=a0.displayName;const bF=y.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(Joe,{children:[c.jsx(xF,{}),c.jsxs(l0,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(d0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Tp,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bF.displayName=l0.displayName;const wF=({className:e,...t})=>c.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wF.displayName="DialogHeader";const SF=y.forwardRef(({className:e,...t},n)=>c.jsx(c0,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));SF.displayName=c0.displayName;const _F=y.forwardRef(({className:e,...t},n)=>c.jsx(u0,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));_F.displayName=u0.displayName;const Xoe=()=>{const{t:e,i18n:t}=nt("pages",{keyPrefix:"settings.team"}),[n,r]=y.useState([]),[i,s]=y.useState(!0),[o,a]=y.useState(!1),[l,u]=y.useState(""),[d,f]=y.useState("gestionnaire"),[p,h]=y.useState(!1),{currentWorkspace:m}=Gs(),{toast:g}=Vt(),b=y.useCallback(async()=>{if(m!=null&&m.id)try{s(!0);const{data:_,error:C}=await re.rpc("get_workspace_users_with_roles",{target_workspace_id:m.id});if(C)throw C;const T=(_||[]).map(I=>{const R=I;let F=R==null?void 0:R.user_roles;if(typeof F=="string")try{F=JSON.parse(F)}catch{F=[]}const O=Array.isArray(F)?F.map(D=>{const A=D;return{role:String((A==null?void 0:A.role)??(A==null?void 0:A.role_name)??""),created_at:String((A==null?void 0:A.created_at)??"")}}).filter(D=>D.role.length>0):[];return{user_id:String((R==null?void 0:R.user_id)??""),first_name:String((R==null?void 0:R.first_name)??""),last_name:String((R==null?void 0:R.last_name)??""),email:String((R==null?void 0:R.email)??""),created_at:String((R==null?void 0:R.created_at)??""),user_roles:O}});r(T)}catch(_){console.error("Error fetching workspace users:",_),g({variant:"destructive",title:e("toasts.loadError.title"),description:e("toasts.loadError.description")}),r([])}finally{s(!1)}},[m==null?void 0:m.id,e,g]);y.useEffect(()=>{m!=null&&m.id&&b()},[m==null?void 0:m.id,b]);const v=async()=>{if(!(!(m!=null&&m.id)||!l.trim()))try{h(!0);const{data:_,error:C}=await re.functions.invoke("invite-user",{body:{email:l.toLowerCase().trim(),workspaceId:m.id,role:d,redirectTo:`${window.location.origin}/auth/callback?type=invite&workspaceId=${m.id}&role=${d}`}});if(C)throw new Error(C.message||e("toasts.inviteError.description"));const T=_;if(!(T!=null&&T.success)){if((T==null?void 0:T.code)==="existing-user-linked"){g({title:e("toasts.inviteExisting.title"),description:e("toasts.inviteExisting.description",{email:l})}),u(""),a(!1),b();return}throw new Error((T==null?void 0:T.error)||e("toasts.inviteError.description"))}g({title:e("toasts.inviteSuccess.title"),description:e("toasts.inviteSuccess.description",{email:l})}),u(""),a(!1),setTimeout(()=>{b()},1e3)}catch(_){console.error("Error inviting user:",_),g({variant:"destructive",title:e("toasts.inviteError.title"),description:_ instanceof Error?_.message:e("toasts.inviteError.description")})}finally{h(!1)}},x=async(_,C)=>{if(m!=null&&m.id)try{const{error:T}=await re.from("user_roles").update({role:C}).eq("user_id",_).eq("workspace_id",m.id);if(T)throw T;g({title:e("toasts.updateRoleSuccess.title"),description:e("toasts.updateRoleSuccess.description")}),b()}catch(T){console.error("Error updating user role:",T),g({variant:"destructive",title:e("toasts.updateRoleError.title"),description:e("toasts.updateRoleError.description")})}},w=async _=>{if(m!=null&&m.id)try{const{error:C}=await re.from("user_roles").delete().eq("user_id",_).eq("workspace_id",m.id);if(C)throw C;const{error:T}=await re.from("users").delete().eq("user_id",_).eq("workspace_id",m.id);if(T)throw T;g({title:e("toasts.removeUserSuccess.title"),description:e("toasts.removeUserSuccess.description")}),b()}catch(C){console.error("Error removing user:",C),g({variant:"destructive",title:e("toasts.removeUserError.title"),description:e("toasts.removeUserError.description")})}},S=_=>_==="admin"?Rh:nP,j=_=>_==="admin"?"destructive":"secondary";return i?c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(Io,{className:"h-5 w-5"}),e("title")]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:e("description")})]}),c.jsx(Ht,{className:"h-10 w-48"})]})}),c.jsx(Oe,{className:"space-y-4",children:[1,2,3].map(_=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Ht,{className:"h-10 w-10 rounded-full"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ht,{className:"h-4 w-32"}),c.jsx(Ht,{className:"h-3 w-48"})]})]}),c.jsx(Ht,{className:"h-6 w-20"})]},_))})]}):c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(Io,{className:"h-5 w-5"}),e("title")]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:e("description")})]}),c.jsxs(Goe,{open:o,onOpenChange:a,children:[c.jsx(Yoe,{asChild:!0,children:c.jsxs(te,{className:"flex items-center gap-2",children:[c.jsx(iP,{className:"h-4 w-4"}),e("invite.button")]})}),c.jsxs(bF,{children:[c.jsxs(wF,{children:[c.jsx(SF,{children:e("invite.dialogTitle")}),c.jsx(_F,{children:e("invite.dialogDescription")})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ve,{htmlFor:"email",children:"Email"}),c.jsx(Gt,{id:"email",type:"email",placeholder:e("invite.emailPlaceholder"),value:l,onChange:_=>u(_.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ve,{htmlFor:"role",children:e("invite.roleLabel")}),c.jsxs(jo,{value:d,onValueChange:_=>f(_),children:[c.jsx(Fs,{children:c.jsx(Eo,{})}),c.jsxs(Ds,{children:[c.jsx(ln,{value:"gestionnaire",children:e("roles.gestionnaire")}),c.jsx(ln,{value:"admin",children:e("roles.admin")})]})]})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(te,{variant:"outline",onClick:()=>a(!1),children:e("invite.cancel")}),c.jsxs(te,{onClick:v,disabled:!l.trim()||p,children:[c.jsx(Tb,{className:"h-4 w-4 mr-2"}),e(p?"invite.sending":"invite.submit")]})]})]})]})]})]})}),c.jsx(Oe,{children:n.length===0?c.jsx(Vr,{children:c.jsx(Wr,{children:e("empty")})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:e("table.user")}),c.jsx("th",{className:"text-center py-3 px-2 font-medium text-muted-foreground w-36",children:e("table.role")}),c.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground w-28",children:e("table.addedAt")}),c.jsx("th",{className:"w-16"})]})}),c.jsx("tbody",{children:n.map(_=>{var C,T,I,R,F;return c.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[c.jsx("td",{className:"py-4 px-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium",children:((C=_.first_name)==null?void 0:C[0])||_.email[0].toUpperCase()})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-medium",children:_.first_name&&_.last_name?`${_.first_name} ${_.last_name}`:e("table.fallbackName")}),c.jsx("div",{className:"text-sm text-muted-foreground truncate",children:_.email})]})]})}),c.jsx("td",{className:"py-4 px-2 text-center",children:c.jsxs(ft,{variant:j((T=_.user_roles[0])==null?void 0:T.role),className:"flex items-center gap-1 whitespace-nowrap text-xs px-3 py-1.5",children:[V.createElement(S((I=_.user_roles[0])==null?void 0:I.role),{className:"h-3 w-3"}),((R=_.user_roles[0])==null?void 0:R.role)==="admin"?e("roles.admin"):e("roles.gestionnaire")]})}),c.jsx("td",{className:"py-4 px-4 text-sm text-muted-foreground",children:new Date(_.created_at).toLocaleDateString(t.language==="fr"?"fr-FR":"en-GB")}),c.jsx("td",{className:"py-4 px-4",children:c.jsx("div",{className:"flex justify-end",children:c.jsxs(xA,{children:[c.jsx(bA,{asChild:!0,children:c.jsx(te,{variant:"ghost",size:"sm",children:c.jsx(qM,{className:"h-4 w-4"})})}),c.jsxs(gw,{align:"end",children:[c.jsxs(_u,{onClick:()=>{var O;return x(_.user_id,((O=_.user_roles[0])==null?void 0:O.role)==="admin"?"gestionnaire":"admin")},children:[c.jsx(Rh,{className:"h-4 w-4 mr-2"}),((F=_.user_roles[0])==null?void 0:F.role)==="admin"?e("table.downgrade"):e("table.promote")]}),c.jsxs(_u,{onClick:()=>w(_.user_id),className:"text-destructive",children:[c.jsx(Pp,{className:"h-4 w-4 mr-2"}),e("table.remove")]})]})]})})})]},_.user_id)})})]})})})]})};var jF="AlertDialog",[Zoe,ile]=ar(jF,[eF]),Gi=eF(),EF=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gi(t);return c.jsx(gF,{...r,...n,modal:!0})};EF.displayName=jF;var eae="AlertDialogTrigger",kF=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gi(n);return c.jsx(vF,{...i,...r,ref:t})});kF.displayName=eae;var tae="AlertDialogPortal",CF=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gi(t);return c.jsx(yF,{...r,...n})};CF.displayName=tae;var nae="AlertDialogOverlay",RF=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gi(n);return c.jsx(a0,{...i,...r,ref:t})});RF.displayName=nae;var Qa="AlertDialogContent",[rae,iae]=Zoe(Qa),sae=kR("AlertDialogContent"),PF=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=Gi(n),o=y.useRef(null),a=Ie(t,o),l=y.useRef(null);return c.jsx(Woe,{contentName:Qa,titleName:TF,docsSlug:"alert-dialog",children:c.jsx(rae,{scope:n,cancelRef:l,children:c.jsxs(l0,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:ne(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(sae,{children:r}),c.jsx(aae,{contentRef:o})]})})})});PF.displayName=Qa;var TF="AlertDialogTitle",NF=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gi(n);return c.jsx(c0,{...i,...r,ref:t})});NF.displayName=TF;var AF="AlertDialogDescription",OF=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gi(n);return c.jsx(u0,{...i,...r,ref:t})});OF.displayName=AF;var oae="AlertDialogAction",IF=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gi(n);return c.jsx(d0,{...i,...r,ref:t})});IF.displayName=oae;var FF="AlertDialogCancel",DF=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=iae(FF,n),s=Gi(n),o=Ie(t,i);return c.jsx(d0,{...s,...r,ref:o})});DF.displayName=FF;var aae=({contentRef:e})=>{const t=`\`${Qa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qa}\` by passing a \`${AF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},lae=EF,cae=kF,uae=CF,LF=RF,$F=PF,MF=IF,UF=DF,zF=NF,HF=OF;const dae=lae,fae=cae,hae=uae,BF=y.forwardRef(({className:e,...t},n)=>c.jsx(LF,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));BF.displayName=LF.displayName;const VF=y.forwardRef(({className:e,...t},n)=>c.jsxs(hae,{children:[c.jsx(BF,{}),c.jsx($F,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));VF.displayName=$F.displayName;const WF=({className:e,...t})=>c.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});WF.displayName="AlertDialogHeader";const qF=({className:e,...t})=>c.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qF.displayName="AlertDialogFooter";const KF=y.forwardRef(({className:e,...t},n)=>c.jsx(zF,{ref:n,className:oe("text-lg font-semibold",e),...t}));KF.displayName=zF.displayName;const QF=y.forwardRef(({className:e,...t},n)=>c.jsx(HF,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));QF.displayName=HF.displayName;const GF=y.forwardRef(({className:e,...t},n)=>c.jsx(MF,{ref:n,className:oe(iw(),e),...t}));GF.displayName=MF.displayName;const YF=y.forwardRef(({className:e,...t},n)=>c.jsx(UF,{ref:n,className:oe(iw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));YF.displayName=UF.displayName;const XE=()=>{const{t:e}=nt("pages",{keyPrefix:"settings"}),{user:t,signOut:n}=jt(),{userProfile:r,loading:i}=rw(),{currentWorkspace:s,loading:o}=Gs(),{toast:a}=Vt(),[l,u]=y.useState(!1),d=async()=>{try{await n(),a({title:e("toasts.signOutSuccess.title"),description:e("toasts.signOutSuccess.description")})}catch{a({title:e("toasts.signOutError.title"),description:e("toasts.signOutError.description"),variant:"destructive"})}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(_o,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[c.jsx(t_,{className:"w-8 h-8 mr-3 text-primary"}),e("pageTitle")]}),c.jsx("p",{className:"text-muted-foreground",children:e("pageSubtitle")})]}),c.jsxs(Ae,{className:"mb-6",children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center",children:[c.jsx(Kf,{className:"w-5 h-5 mr-2"}),e("account.title")]}),c.jsx(Ln,{children:e("account.description")})]}),c.jsxs(Oe,{className:"space-y-4",children:[i?c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ve,{children:e("account.email")}),c.jsx(Ht,{className:"h-4 w-full mt-1"})]}),c.jsxs("div",{children:[c.jsx(Ve,{children:e("account.fullName")}),c.jsx(Ht,{className:"h-4 w-full mt-1"})]})]})}):c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ve,{className:"text-sm font-medium",children:e("account.email")}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(t==null?void 0:t.email)||e("account.missing")})]}),c.jsxs("div",{children:[c.jsx(Ve,{className:"text-sm font-medium",children:e("account.fullName")}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r!=null&&r.first_name&&(r!=null&&r.last_name)?`${r.first_name} ${r.last_name}`:e("account.missing")})]})]}),c.jsx(m2,{}),i?c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ve,{children:e("account.role")}),c.jsx(Ht,{className:"h-4 w-full mt-1"})]}),c.jsxs("div",{children:[c.jsx(Ve,{children:e("account.workspacePlan")}),c.jsx(Ht,{className:"h-4 w-full mt-1"})]})]}):c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ve,{className:"text-sm font-medium",children:e("account.role")}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(r==null?void 0:r.role)||e("account.roleMissing")})]}),c.jsxs("div",{children:[c.jsx(Ve,{className:"text-sm font-medium",children:e("account.workspacePlan")}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(r==null?void 0:r.plan_type)||e("account.planDefault")})]})]})]})]}),c.jsxs(Ae,{className:"mb-6",children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center",children:[c.jsx(zM,{className:"w-5 h-5 mr-2"}),e("workspace.title")]}),c.jsx(Ln,{children:e("workspace.description")})]}),c.jsx(Oe,{className:"space-y-4",children:o?c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ve,{children:e("workspace.name")}),c.jsx(Ht,{className:"h-4 w-full mt-1"})]}),c.jsxs("div",{children:[c.jsx(Ve,{children:e("workspace.plan")}),c.jsx(Ht,{className:"h-4 w-full mt-1"})]})]}):c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ve,{className:"text-sm font-medium",children:e("workspace.name")}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(s==null?void 0:s.name)||e("workspace.none")})]}),c.jsxs("div",{children:[c.jsx(Ve,{className:"text-sm font-medium",children:e("workspace.plan")}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1 capitalize",children:(s==null?void 0:s.plan_type)||e("workspace.freemium")})]})]})})]}),c.jsx(ip,{requirePermission:"canManageUsers",children:c.jsxs(Ae,{className:"mb-6",children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center",children:[c.jsx(e_,{className:"mr-2 h-5 w-5"}),e("team.title")]}),c.jsx(Ln,{children:e("team.description")})]}),c.jsx(Oe,{children:c.jsx(Xoe,{})})]})}),c.jsxs(Ae,{className:"mb-6",children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center",children:[c.jsx(t_,{className:"w-5 h-5 mr-2"}),e("actions.title")]}),c.jsx(Ln,{children:e("actions.description")})]}),c.jsx(Oe,{className:"space-y-4",children:c.jsxs(dae,{open:l,onOpenChange:u,children:[c.jsx(fae,{asChild:!0,children:c.jsxs(te,{variant:"outline",className:"flex items-center justify-center",children:[c.jsx(rP,{className:"mr-2 h-4 w-4"}),e("actions.logout.button")]})}),c.jsxs(VF,{children:[c.jsxs(WF,{children:[c.jsx(KF,{children:e("actions.logout.confirmTitle")}),c.jsx(QF,{children:e("actions.logout.confirmDescription")})]}),c.jsxs(qF,{children:[c.jsx(YF,{children:e("actions.logout.cancel")}),c.jsx(GF,{onClick:d,children:e("actions.logout.confirm")})]})]})]})})]}),c.jsxs(ip,{allowedRoles:["supra_admin"],children:[c.jsxs(Ae,{className:"mb-6 border-primary/30",children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center text-primary",children:[c.jsx(Io,{className:"mr-2 h-5 w-5"}),e("admin.title")]}),c.jsx(Ln,{children:e("admin.description")})]}),c.jsx(Oe,{children:c.jsxs(te,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[c.jsx(e_,{className:"mr-2 h-4 w-4"}),e("admin.openPanel")]})})]}),c.jsx(Ae,{className:"border-orange-200 bg-orange-50",children:c.jsx(Oe,{className:"pt-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Rh,{className:"h-5 w-5 text-orange-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-orange-800",children:e("adminNotice.title")}),c.jsx("p",{className:"text-sm text-orange-700 mt-1",children:e("adminNotice.description")})]})]})})})]})]})})]})},Rd=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",e),...t})}));Rd.displayName="Table";const Pd=y.forwardRef(({className:e,...t},n)=>c.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",e),...t}));Pd.displayName="TableHeader";const Td=y.forwardRef(({className:e,...t},n)=>c.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",e),...t}));Td.displayName="TableBody";const pae=y.forwardRef(({className:e,...t},n)=>c.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pae.displayName="TableFooter";const rr=y.forwardRef(({className:e,...t},n)=>c.jsx("tr",{ref:n,className:oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rr.displayName="TableRow";const at=y.forwardRef(({className:e,...t},n)=>c.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));at.displayName="TableHead";const Ke=y.forwardRef(({className:e,...t},n)=>c.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableCell";const mae=y.forwardRef(({className:e,...t},n)=>c.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",e),...t}));mae.displayName="TableCaption";const gae=6e4,Vc={};function JF(){Object.keys(Vc).forEach(e=>delete Vc[e])}async function Go(e,t){var a;const{data:n}=await re.auth.getSession(),r=(a=n==null?void 0:n.session)==null?void 0:a.access_token,i={...(t==null?void 0:t.headers)||{},...r?{Authorization:`Bearer ${r}`}:{}},{data:s,error:o}=await re.functions.invoke(e,{body:t==null?void 0:t.body,headers:i});return{data:s,error:o}}async function Wc(e,t){const n=`v1:${e}`,r=Date.now(),i=Vc[n];if(!(t!=null&&t.force)&&i&&r<i.expiresAt&&Array.isArray(i.data))return i.data;if(!(t!=null&&t.force)&&(i!=null&&i.inflight))return i.inflight;const s=(async()=>{const{data:o,error:a}=await Go("get-admin-workspaces",{body:{planFilter:e}});if(a)throw a;const l=(o==null?void 0:o.data)??[];return Vc[n]={data:l,expiresAt:r+gae},l})();return Vc[n]={data:(i==null?void 0:i.data)??[],expiresAt:0,inflight:s},s}async function vae(e,t=1,n=25){const{data:r,error:i}=await Go("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function XF(e,t){const{data:n,error:r}=await Go("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return JF(),n}async function yae(e,t,n){const{data:r,error:i}=await re.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function xae(e){const{error:t}=await Go("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t;JF()}async function bae(e){const{error:t}=await Go("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function ZF(e,t){const{data:n,error:r}=await Go("schedule-source-reindex",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function eD(e,t){const{data:n,error:r}=await Go("schedule-source-reindex",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function wae(e,t,n){const r={assigned_count:0,unassigned_count:0,errors:[]};for(const i of t)try{await ZF(i,e),r.assigned_count++}catch(s){r.errors.push(`Failed to assign ${i}: ${s}`)}for(const i of n)try{await eD(i,e),r.unassigned_count++}catch(s){r.errors.push(`Failed to unassign ${i}: ${s}`)}return r.errors.length>0&&console.warn("Some operations failed:",r.errors),r}const Sae=()=>{const[e,t]=y.useState("paid"),[n,r]=y.useState([]),[i,s]=y.useState(!0),[o,a]=y.useState(null),[l,u]=y.useState(null),{toast:d}=Vt();y.useEffect(()=>{(async()=>{try{s(!0);const m=await Wc(e);r(m)}catch(m){console.error(m)}finally{s(!1)}})()},[e]);const f=m=>m==="pro"?"default":"outline",p=async(m,g)=>{try{await XF(m,g),d({title:"Plan mis  jour",description:`Nouveau plan: ${g}`});const b=await Wc(e,{force:!0});r(b),a(null)}catch(b){console.error(b),d({variant:"destructive",title:"Erreur",description:"Mise  jour du plan impossible"})}},h=async(m,g)=>{if(confirm(`Supprimer l'entreprise "${g}" ?`)){u(m);try{await xae(m),d({title:"Entreprise supprime",description:g});const b=await Wc(e,{force:!0});r(b)}catch(b){console.error(b),d({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(cu,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(jo,{value:e,onValueChange:m=>t(m),children:[c.jsx(Fs,{className:"w-40",children:c.jsx(Eo,{placeholder:"Filtre"})}),c.jsxs(Ds,{children:[c.jsx(ln,{value:"paid",children:"Payantes"}),c.jsx(ln,{value:"freemium",children:"Freemium"}),c.jsx(ln,{value:"all",children:"Toutes"})]})]})})]})}),c.jsx(Oe,{children:i?c.jsx("div",{className:"space-y-3",children:[...Array(5)].map((m,g)=>c.jsx(Ht,{className:"h-12 w-full"},g))}):c.jsxs(Rd,{children:[c.jsx(Pd,{children:c.jsxs(rr,{children:[c.jsx(at,{children:"Entreprise"}),c.jsx(at,{children:"Propritaire"}),c.jsx(at,{children:"Plan"}),c.jsx(at,{children:"Utilisateurs"}),c.jsx(at,{children:"Cre le"}),c.jsx(at,{children:"Actions"})]})}),c.jsxs(Td,{children:[n.map(m=>c.jsxs(rr,{children:[c.jsx(Ke,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cu,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{children:m.name}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",m.id.slice(0,8),"..."]})]})]})}),c.jsx(Ke,{children:m.owner_email}),c.jsx(Ke,{children:c.jsx(ft,{variant:f(m.plan_type),children:m.plan_type})}),c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cy,{className:"h-4 w-4 text-muted-foreground"}),m.user_count]})}),c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(HM,{className:"h-4 w-4 text-muted-foreground"}),new Date(m.created_at).toLocaleDateString("fr-FR")]})}),c.jsx(Ke,{children:c.jsx("div",{className:"flex items-center gap-2",children:o===m.id?c.jsxs(c.Fragment,{children:[c.jsxs(jo,{value:m.plan_type,onValueChange:g=>p(m.id,g),children:[c.jsx(Fs,{className:"w-32",children:c.jsx(Eo,{})}),c.jsxs(Ds,{children:[c.jsx(ln,{value:"freemium",children:"Freemium"}),c.jsx(ln,{value:"pro",children:"Pro"})]})]}),c.jsx(te,{variant:"outline",size:"sm",onClick:()=>a(null),children:"Annuler"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>a(m.id),children:[c.jsx(ZM,{className:"h-4 w-4 mr-2"}),"Modifier"]}),c.jsx(te,{variant:"destructive",size:"sm",onClick:()=>h(m.id,m.name),disabled:l===m.id,children:l===m.id?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(Pp,{className:"h-4 w-4"})})]})})})]},m.id)),n.length===0&&c.jsx(rr,{children:c.jsx(Ke,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouve"})})]})]})})]})},_ae=()=>{const[e,t]=y.useState([]),[n,r]=y.useState([]),[i,s]=y.useState(1),[o]=y.useState(25),[a,l]=y.useState(0),[u,d]=y.useState("all"),[f,p]=y.useState(!0),[h,m]=y.useState(null),[g,b]=y.useState(null),[v,x]=y.useState(null),{toast:w}=Vt(),{startImpersonation:S}=LT();y.useEffect(()=>{j(),_()},[]),y.useEffect(()=>{_()},[u,i]);const j=async()=>{try{const A=await Wc("all");r((A||[]).map(M=>({id:M.id,name:M.name})))}catch(A){console.error("Error fetching workspaces:",A)}},_=async()=>{try{p(!0);const{items:A,total:M}=await vae(u,i,o);t(A),l(M)}catch(A){console.error("Error fetching contacts:",A)}finally{p(!1)}},C=A=>{switch(A){case"pro":return"default";case"freemium":return"outline";default:return"outline"}},T=A=>{switch(A){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},I=A=>{switch(A){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return A}},R=async(A,M)=>{m(`plan-${A.workspace_id}`);try{const H=await XF(A.workspace_id,M);w({title:"Plan du workspace mis  jour",description:`Plan chang vers ${M}. ${(H==null?void 0:H.updatedUsers)??0} utilisateur(s) mis  jour.`}),await _()}catch(H){console.error("Error updating workspace plan:",H),w({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise  jour du plan"})}finally{m(null)}},F=async(A,M)=>{m(`role-${A.user_id}`);try{await yae(A.user_id,A.workspace_id,M),w({title:"Rle mis  jour",description:`Rle chang vers ${M}`}),await _()}catch(H){console.error("Error updating user role:",H),w({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise  jour du rle"})}finally{m(null)}},O=async A=>{x(A.user_id);try{if(await S(A.user_id,A.email||"",A.workspace_id,A.company_name||""))w({title:"Impersonation dmarre",description:`Vous tes maintenant connect en tant que ${A.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(M){console.error("Error starting impersonation:",M),w({variant:"destructive",title:"Erreur",description:"Impossible de dmarrer l'impersonation"})}finally{x(null)}},D=async(A,M)=>{if(confirm(`tes-vous sr de vouloir supprimer le contact "${M}" ? Cette action est irrversible et supprimera toutes les donnes associes.`)){b(A);try{await bae(A),w({title:"Contact supprim",description:`Le contact "${M}" a t supprim avec succs.`}),_()}catch(H){console.error("Error deleting contact:",H),w({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{b(null)}}};return f?c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(Kf,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),c.jsx(Oe,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsx(Ht,{className:"h-10 w-full"}),[...Array(5)].map((A,M)=>c.jsx(Ht,{className:"h-12 w-full"},M))]})})]}):c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(Kf,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",c.jsxs(te,{size:"sm",variant:"outline",onClick:()=>{j(),_()},className:"ml-auto",children:[c.jsx(ud,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),c.jsxs(Oe,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i,"  ",a," rsultats"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(te,{variant:"outline",size:"sm",onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,children:"Prcdent"}),c.jsx(te,{variant:"outline",size:"sm",onClick:()=>s(A=>A+1),disabled:i*o>=a,children:"Suivant"})]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs(jo,{value:u,onValueChange:d,children:[c.jsx(Fs,{className:"w-64",children:c.jsx(Eo,{placeholder:"Filtrer par entreprise"})}),c.jsxs(Ds,{children:[c.jsx(ln,{value:"all",children:"Toutes les entreprises"}),n.map(A=>c.jsx(ln,{value:A.id,children:A.name},A.id))]})]})}),c.jsxs(Rd,{children:[c.jsx(Pd,{children:c.jsxs(rr,{children:[c.jsx(at,{children:"Contact"}),c.jsx(at,{children:"Email"}),c.jsx(at,{children:"Entreprise"}),c.jsx(at,{children:"Plan"}),c.jsx(at,{children:"Rle"}),c.jsx(at,{children:"Ajout le"}),c.jsx(at,{children:"Actions"})]})}),c.jsxs(Td,{children:[e.map(A=>c.jsxs(rr,{children:[c.jsx(Ke,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Kf,{className:"h-4 w-4 text-muted-foreground"}),A.first_name||A.last_name?`${A.first_name} ${A.last_name}`.trim():"Nom non renseign"]})}),c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Tb,{className:"h-4 w-4 text-muted-foreground"}),A.email]})}),c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cu,{className:"h-4 w-4 text-muted-foreground"}),A.company_name]})}),c.jsx(Ke,{children:c.jsx(ft,{variant:C(A.company_plan||"freemium"),children:A.company_plan})}),c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Io,{className:"h-4 w-4"}),c.jsx(ft,{variant:T(A.role),children:I(A.role)})]})}),c.jsx(Ke,{children:new Date(A.created_at).toLocaleDateString("fr-FR")}),c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(te,{variant:"secondary",size:"sm",onClick:()=>O(A),disabled:v===A.user_id||(h==null?void 0:h.includes(A.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===A.user_id?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):c.jsx(e4,{className:"h-4 w-4"})}),c.jsxs(jo,{value:A.company_plan||"freemium",onValueChange:M=>R(A,M),disabled:h===`plan-${A.workspace_id}`,children:[c.jsx(Fs,{className:"w-24",children:c.jsx(Eo,{})}),c.jsxs(Ds,{children:[c.jsx(ln,{value:"freemium",children:"Freemium"}),c.jsx(ln,{value:"pro",children:"Pro"})]})]}),c.jsxs(jo,{value:A.role,onValueChange:M=>F(A,M),disabled:h===`role-${A.user_id}`,children:[c.jsx(Fs,{className:"w-32",children:c.jsx(Eo,{})}),c.jsxs(Ds,{children:[c.jsx(ln,{value:"admin",children:"Administrateur"}),c.jsx(ln,{value:"gestionnaire",children:"Gestionnaire"}),c.jsx(ln,{value:"lecteur",children:"Lecteur"})]})]}),c.jsx(te,{variant:"destructive",size:"sm",onClick:()=>D(A.user_id,A.email||""),disabled:g===A.user_id||(h==null?void 0:h.includes(A.user_id)),children:g===A.user_id?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(Pp,{className:"h-4 w-4"})}),(h===`plan-${A.workspace_id}`||h===`role-${A.user_id}`)&&c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},A.id)),e.length===0&&c.jsx(rr,{children:c.jsx(Ke,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouv"})})]})]})]})]})},tD=V.createContext(void 0),jae=({children:e})=>{const[t,n]=V.useState([]),[r,i]=V.useState(!0),s=V.useRef(0),o=V.useCallback(async(l=!1)=>{const u=Date.now();if(!l&&u-s.current<5e3)return;s.current=u,i(!0);const{data:d,error:f}=await re.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");f||n(d||[]),i(!1)},[]);V.useEffect(()=>{o(!0)},[o]),V.useEffect(()=>{const l=re.channel("fe-sources-realtime").on("postgres_changes",{event:"*",schema:"public",table:"fe_sources",filter:"is_global=eq.true"},()=>{o(!0)}).subscribe();return()=>{re.removeChannel(l)}},[o]);const a=V.useMemo(()=>({sources:t,refresh:()=>o(!0),loading:r}),[t,o,r]);return c.jsx(tD.Provider,{value:a,children:e})};function nD(){const e=V.useContext(tD);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const Eae=()=>{const[e,t]=y.useState([]),[n,r]=y.useState({}),{toast:i}=Vt(),{sources:s,refresh:o,loading:a}=nD();y.useEffect(()=>{const h=(s||[]).map(m=>({source:m.source_name,current_tier:m.access_level,free_count:m.access_level==="free"?1:0,paid_count:m.access_level==="paid"?1:0,total_count:1}))||[];t(h)},[s]);const l=y.useCallback(async(h,m)=>{r(g=>({...g,[h]:{loading:!0,success:!1}}));try{console.log(` Starting update for source: ${h} to tier: ${m}`);const{error:g}=await re.from("fe_sources").update({access_level:m}).eq("source_name",h);if(g)throw g;console.log(` Successfully updated source ${h} to ${m}`),r(b=>({...b,[h]:{loading:!1,success:!0}})),await o(),i({title:"Succs",description:`Source "${h}" mise  jour vers ${m==="paid"?"Payant":"Gratuit"}`}),setTimeout(()=>{r(b=>({...b,[h]:{loading:!1,success:!1}}))},3e3)}catch(g){console.error(" Error updating source tier:",g),r(b=>({...b,[h]:{loading:!1,success:!1}})),i({title:"Erreur de mise  jour",description:g instanceof Error?g.message:"Impossible de mettre  jour le niveau d'accs",variant:"destructive"})}},[i,o]),u=a,d=h=>h==="paid"?"default":"secondary",f=h=>h==="paid"?Oo:ay,p=h=>{const m=n[h.source];return m!=null&&m.loading?c.jsxs(c.Fragment,{children:[c.jsx(Ao,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise  jour..."]}):m!=null&&m.success?c.jsxs(c.Fragment,{children:[c.jsx(cd,{className:"h-3 w-3 mr-1"}),"Termin"]}):h.current_tier==="free"?c.jsxs(c.Fragment,{children:[c.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Passer en Payant"]}):c.jsxs(c.Fragment,{children:[c.jsx(ay,{className:"h-3 w-3 mr-1"}),"Passer en Gratuit"]})};return u?c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(qf,{className:"h-5 w-5"}),"Gestion des Accs aux Sources de Donnes"]})}),c.jsx(Oe,{children:c.jsx("div",{className:"space-y-3",children:[...Array(6)].map((h,m)=>c.jsx(Ht,{className:"h-12 w-full"},m))})})]}):c.jsxs(Ae,{children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(qf,{className:"h-5 w-5"}),"Gestion des Accs aux Sources de Donnes",c.jsxs(te,{size:"sm",variant:"outline",onClick:()=>o(),className:"ml-auto",children:[c.jsx(ud,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Grez les niveaux d'accs des sources de facteurs d'mission.",c.jsx("br",{}),c.jsx("span",{className:"font-medium",children:"Gratuit"})," : accessible  tous les workspaces",c.jsx("br",{}),c.jsx("span",{className:"font-medium",children:"Payant"})," : ncessite une assignation manuelle au workspace"]})]}),c.jsx(Oe,{children:c.jsxs(Rd,{children:[c.jsx(Pd,{children:c.jsxs(rr,{children:[c.jsx(at,{children:"Source"}),c.jsx(at,{children:"Niveau actuel"}),c.jsx(at,{children:"Facteurs Gratuits"}),c.jsx(at,{children:"Facteurs Payants"}),c.jsx(at,{children:"Total"}),c.jsx(at,{children:"Actions"})]})}),c.jsxs(Td,{children:[e.map(h=>{const m=f(h.current_tier),g=n[h.source];return c.jsxs(rr,{children:[c.jsx(Ke,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qf,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"truncate max-w-[200px]",title:h.source,children:h.source})]})}),c.jsx(Ke,{children:c.jsxs(ft,{variant:d(h.current_tier),children:[c.jsx(m,{className:"h-3 w-3 mr-1"}),h.current_tier==="paid"?"Payant":"Gratuit"]})}),c.jsx(Ke,{children:c.jsx("span",{className:"text-muted-foreground",children:h.free_count})}),c.jsx(Ke,{children:c.jsx("span",{className:"text-muted-foreground",children:h.paid_count})}),c.jsx(Ke,{children:c.jsx("span",{className:"font-medium",children:h.total_count})}),c.jsx(Ke,{children:c.jsx(te,{size:"sm",variant:g!=null&&g.success?"default":"outline",onClick:()=>l(h.source,h.current_tier==="free"?"paid":"free"),disabled:g==null?void 0:g.loading,children:p(h)})})]},h.source)}),e.length===0&&c.jsx(rr,{children:c.jsx(Ke,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de donnes trouve"})})]})]})})]})},kae=()=>{const[e,t]=y.useState([]),{sources:n,refresh:r}=nD(),[i,s]=y.useState([]),[o,a]=y.useState(!0),[l,u]=y.useState(""),[d,f]=y.useState(new Set),[p,h]=y.useState({}),{toast:m}=Vt(),g=S=>S==="paid"?"default":"secondary",b=y.useCallback(async()=>{const j=(await Wc("all")||[]).map(_=>({id:_.id,name:_.name,plan_type:_.plan_type}));t(j),!l&&j.length&&u(j[0].id)},[l]),v=y.useCallback(async S=>{if(!S){f(new Set);return}const{data:j,error:_}=await re.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",S);if(_)throw _;f(new Set((j||[]).map(C=>C.source_name)))},[]),x=y.useCallback(()=>{l&&v(l).catch(()=>{})},[l,v]);bX(l,x),y.useEffect(()=>{s(n||[])},[n]),y.useEffect(()=>{(async()=>{try{a(!0),await b()}catch(S){console.error(S),m({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{a(!1)}})()},[b,m]),y.useEffect(()=>{(async()=>{try{l&&(a(!0),await v(l))}catch(S){console.error(S)}finally{a(!1)}})()},[l,v]);const w=y.useCallback(async(S,j)=>{if(l){h(_=>({..._,[S]:!0}));try{j?(await ZF(S,l),f(_=>new Set(_).add(S))):(await eD(S,l),f(_=>{const C=new Set(_);return C.delete(S),C}))}catch(_){console.error(_),m({title:"Erreur",description:"Mise  jour impossible",variant:"destructive"})}finally{h(_=>({..._,[S]:!1}))}}},[l,m]);return o?c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(cu,{className:"h-5 w-5"}),"Assignations Sources  Workspaces"]})}),c.jsx(Oe,{children:c.jsx("div",{className:"space-y-3",children:[...Array(5)].map((S,j)=>c.jsx(Ht,{className:"h-12 w-full"},j))})})]}):c.jsxs(Ae,{children:[c.jsx(He,{children:c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(cu,{className:"h-5 w-5"}),"Assignations Sources  Workspaces",c.jsxs(te,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>l&&v(l))},className:"ml-auto",children:[c.jsx(ud,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),c.jsx(te,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(l)try{const S=i.filter(R=>R.access_level==="paid").map(R=>R.source_name),j=i.filter(R=>R.access_level==="free").map(R=>R.source_name),_=S.filter(R=>d.has(R)),C=S.filter(R=>!d.has(R)),T=[...j,..._],I=C;await wae(l,T,I),m({title:"Synchronisation russie",description:`Assigns: ${T.length}  Dsassigns: ${I.length}`}),await v(l)}catch(S){console.error(S),m({title:"Erreur",description:(S==null?void 0:S.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),c.jsxs(Oe,{className:"space-y-6",children:[c.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs(jo,{value:l,onValueChange:u,children:[c.jsx(Fs,{className:"w-96",children:c.jsx(Eo,{placeholder:"Slectionner un workspace"})}),c.jsx(Ds,{children:e.map(S=>c.jsx(ln,{value:S.id,children:S.name},S.id))})]})})}),c.jsxs(Rd,{children:[c.jsx(Pd,{children:c.jsxs(rr,{children:[c.jsx(at,{children:"Source"}),c.jsx(at,{children:"Access level"}),c.jsx(at,{children:"Activer"}),c.jsx(at,{children:"Dsactiver"})]})}),c.jsxs(Td,{children:[i.map(S=>{const j=S.access_level==="free"||d.has(S.source_name),_=!!p[S.source_name],C=S.access_level==="paid";return c.jsxs(rr,{children:[c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qf,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium",children:S.source_name})]})}),c.jsx(Ke,{children:c.jsx(ft,{variant:g(S.access_level),children:S.access_level})}),c.jsx(Ke,{children:_?c.jsx(Ao,{className:"h-4 w-4 animate-spin"}):c.jsx(Vi,{checked:j,onCheckedChange:()=>C&&w(S.source_name,!0),disabled:!l||!C})}),c.jsx(Ke,{children:_?c.jsx(Ao,{className:"h-4 w-4 animate-spin"}):c.jsx(Vi,{checked:!j,onCheckedChange:()=>C&&w(S.source_name,!1),disabled:!l||!C})})]},S.source_name)}),i.length===0&&c.jsx(rr,{children:c.jsx(Ke,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouve"})})]})]})]})]})},Cae=()=>{const[e,t]=V.useState("access");return c.jsxs(Uy,{value:e,onValueChange:n=>t(n),className:"w-full",children:[c.jsxs(Vh,{children:[c.jsx(bu,{value:"access",children:"Accs aux sources"}),c.jsx(bu,{value:"assignments",children:"Assignations"})]}),c.jsx("div",{className:"mt-4"}),e==="access"&&c.jsx(Wa,{value:"access",asChild:!0,children:c.jsx("div",{children:c.jsx(Eae,{})})}),e==="assignments"&&c.jsx(Wa,{value:"assignments",asChild:!0,children:c.jsx("div",{children:c.jsx(kae,{})})})]})},Rae=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[o,a]=y.useState(!1),{toast:l}=Vt(),u=()=>{const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let m="";for(let g=0;g<16;g++)m+=h.charAt(Math.floor(Math.random()*h.length));r(m)},d=async p=>{p.preventDefault(),a(!0);try{const{data:{session:h}}=await re.auth.getSession();if(!h){l({title:"Erreur d'authentification",description:"Vous devez tre connect pour effectuer cette action.",variant:"destructive"});return}const m=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h.access_token}`},body:JSON.stringify({email:e,password:n})}),g=await m.json();m.ok&&g.success?(l({title:"Succs",description:g.message}),t(""),r("")):l({title:"Erreur",description:g.error||"Une erreur est survenue lors de la cration du compte.",variant:"destructive"})}catch(h){console.error("Error creating supra admin:",h),l({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{a(!1)}},f=p=>p.length>=12&&/[A-Z]/.test(p)&&/[a-z]/.test(p)&&/[0-9]/.test(p)&&/[!@#$%^&*]/.test(p);return c.jsxs(Ae,{className:"w-full max-w-md",children:[c.jsxs(He,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(iP,{className:"h-5 w-5"}),"Crer un Supra Admin"]}),c.jsx(Ln,{children:"Crer un nouveau compte super administrateur avec des privilges levs."})]}),c.jsx(Oe,{children:c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"email",children:"Email"}),c.jsx(Gt,{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),placeholder:"admin@example.com",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{htmlFor:"password",children:"Mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(Gt,{id:"password",type:i?"text":"password",value:n,onChange:p=>r(p.target.value),placeholder:"Mot de passe scuris",required:!0,className:"pr-10"}),c.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?c.jsx(KM,{className:"h-4 w-4"}):c.jsx(nP,{className:"h-4 w-4"})})]}),c.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Gnrer un mot de passe scuris"})]}),n&&c.jsx(Vr,{children:c.jsxs(Wr,{children:["Force du mot de passe: ",f(n)?" Fort":" Faible",!f(n)&&c.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractres, incluant majuscules, minuscules, chiffres et symboles."})]})}),c.jsx(te,{type:"submit",className:"w-full",disabled:o||!f(n),children:o?"Cration en cours...":"Crer le compte"})]})})]})},Pae=()=>{const[e,t]=y.useState(!1),[n,r]=y.useState(null),{toast:i}=Vt(),s=async()=>{t(!0),r(null);try{const{data:{session:o}}=await re.auth.getSession();if(!o){i({title:"Erreur d'authentification",description:"Vous devez tre connect pour effectuer cette action.",variant:"destructive"});return}const a=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/fix-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.access_token}`}}),l=await a.json();a.ok&&l.success?(r(l),i({title:"Rparation termine",description:l.message})):i({title:"Erreur",description:l.error||"Une erreur est survenue lors de la rparation.",variant:"destructive"})}catch(o){console.error("Error during repair:",o),i({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return c.jsx("div",{className:"space-y-4",children:c.jsxs(Ae,{className:"w-full max-w-2xl",children:[c.jsxs(He,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cy,{className:"h-5 w-5"}),c.jsx(Be,{children:"Rparation des utilisateurs orphelins"})]}),c.jsx(Ln,{children:"Rpare les utilisateurs qui existent dans auth.users mais pas dans public.users. Cette situation peut survenir si la fonction handle_new_user a chou lors de l'inscription."})]}),c.jsxs(Oe,{className:"space-y-4",children:[c.jsxs(Vr,{children:[c.jsx(Ph,{className:"h-4 w-4"}),c.jsxs(Wr,{children:[c.jsx("strong",{children:"Attention :"})," Cette opration va crer des workspaces et des profils utilisateur pour tous les utilisateurs orphelins trouvs. Utilisez cette fonction uniquement si vous identifiez des incohrences dans les donnes."]})]}),c.jsx(te,{onClick:s,disabled:e,className:"w-full",variant:"destructive",children:e?c.jsxs(c.Fragment,{children:[c.jsx(Ao,{className:"w-4 h-4 mr-2 animate-spin"}),"Rparation en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx(cy,{className:"w-4 h-4 mr-2"}),"Rparer les utilisateurs orphelins"]})}),n&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Vr,{className:n.success?"border-green-200 bg-green-50":"border-destructive",children:[c.jsx(cd,{className:"h-4 w-4"}),c.jsxs(Wr,{children:[c.jsx("strong",{children:"Rsultat :"})," ",n.message]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:n.orphanUsersFound}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Utilisateurs orphelins trouvs"})]}),c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.usersRepaired}),c.jsx("div",{className:"text-sm text-green-700",children:"Utilisateurs rpars"})]})]}),n.repairedUsers.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-semibold text-sm",children:"Utilisateurs rpars :"}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:n.repairedUsers.map(o=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded text-sm",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:o.email}),c.jsx("div",{className:"text-muted-foreground",children:o.workspace_name})]}),c.jsxs(ft,{variant:"outline",className:"text-xs",children:[o.workspace_id.slice(0,8),"..."]})]},o.user_id))})]})]})]})]})})},cv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_USE_SECURED_KEYS:"true"};var uv={};const Tae=()=>{var B,P;const{toast:e}=Vt(),{isSupraAdmin:t}=Nw(),[n,r]=V.useState(null),[i,s]=V.useState(!1),[o,a]=V.useState(0),[l,u]=V.useState(null),[d,f]=V.useState([]),[p,h]=V.useState(!1),[m,g]=V.useState([]),[b,v]=V.useState(!1),x=V.useRef(!1),w=V.useRef(!1),[S,j]=V.useState("idle"),[_,C]=V.useState(null),[T,I]=V.useState(!0),[R,F]=V.useState(null),O=()=>{const k=["ID","Nom","Nom_en","Description","Description_en","FE","Unit donne d'activit","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Primtre","Primtre_en","Contributeur","Contributeur_en","Mthodologie","Mthodologie_en","Type_de_donnes","Type_de_donnes_en","Commentaires","Commentaires_en"],E=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Base Carbone v23.6","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","ADEME","ADEME","Bas carbone","Low carbon","Facteur d'mission","Emission factor","",""],$=[k.join(","),E.join(",")].join(`
`),U=new Blob([$],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(U),K=document.createElement("a");K.href=N,K.download="template_import_emission_factors_bilingue.csv",K.click(),URL.revokeObjectURL(N)},D=async()=>{var k,E,$;try{const{data:U}=await re.auth.getSession(),N=(k=U==null?void 0:U.session)==null?void 0:k.access_token;if(!N){e({variant:"destructive",title:"Session manquante",description:"Reconnectez-vous pour consulter le statut."});return}const K=(cv==null?void 0:cv.VITE_SUPABASE_URL)||(uv==null?void 0:uv.NEXT_PUBLIC_SUPABASE_URL)||"",Q=typeof K=="string"&&K?K.replace("/rest/v1","").replace(/\/$/,""):"",Y=(typeof window<"u"?window.location.origin:"").replace(/\/$/,""),ie=`${Q||Y}/functions/v1/algolia-batch-optimizer?action=status`,le=await(await fetch(ie,{headers:{Authorization:`Bearer ${N}`}})).json();F(le),e({title:"Statut rcupr",description:`Queue: ${((E=le==null?void 0:le.queue_status)==null?void 0:E.queueSize)??"-"}  Processing: ${String(($=le==null?void 0:le.queue_status)==null?void 0:$.processing)}`})}catch(U){e({variant:"destructive",title:"Erreur statut",description:U.message||String(U)})}},A=async k=>{const $=k.stream().pipeThrough(new CompressionStream("gzip"));return await new Response($).blob()},M=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Slectionnez un fichier CSV."});return}try{s(!0),a(0),a(25);const k=n.size,E=n.name.toLowerCase().endsWith(".gz"),$=E?n:await A(n),U=$.size,N=E?0:Math.round((1-U/k)*100);a(50);let K=n.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);const Q=K.replace(/\.(csv|xlsx|gz)$/i,""),Y=E?`${Date.now()}_${K}`:`${Date.now()}_${Q}.csv.gz`;a(75);const{error:W}=await re.storage.from("imports").upload(Y,$,{upsert:!0});if(W)throw W;u(Y),a(100),h(!1),f([]),e({title:"Upload termin",description:E?`${Y} (dj compress)`:`${Y} (${N}% de compression)`})}catch(k){e({variant:"destructive",title:"Erreur upload",description:k.message||String(k)})}finally{s(!1)}},H=V.useCallback(async()=>{try{if(x.current)return;x.current=!0,v(!0),g([]),w.current=!1}catch{}finally{v(!1),x.current=!1}},[]);return V.useEffect(()=>{let k=!1,E;const $=async()=>{try{(typeof document>"u"||document.visibilityState==="visible")&&await H()}finally{const U=typeof document<"u"&&document.visibilityState!=="visible"?6e4:w.current?5e3:3e4;k||(E=setTimeout($,U))}};return $(),()=>{k=!0,E&&clearTimeout(E)}},[H]),t?c.jsxs(Ae,{children:[c.jsxs(He,{children:[c.jsx(Be,{children:"Import de la base de facteurs (FR/EN)"}),c.jsx(Ln,{children:"Nouveau flux: Dataiku  staging_emission_factors  run_import_from_staging()  projection"})]}),c.jsxs(Oe,{className:"space-y-6",children:[c.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-semibold",children:"1"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Slectionner le fichier"})]}),c.jsx(te,{variant:"outline",size:"sm",onClick:O,children:" Tlcharger le template CSV"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ve,{htmlFor:"file-input",children:"Fichier CSV/XLSX"}),c.jsx(Ih,{children:c.jsxs(vy,{children:[c.jsx(yy,{asChild:!0,children:c.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),c.jsx(Fh,{children:"Formats supports : CSV, XLSX. La compression automatique optimise les transferts volumineux."})]})})]}),c.jsx(Gt,{id:"file-input",type:"file",accept:".csv,.xlsx,.gz,.csv.gz,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/gzip",onChange:k=>{var E;return r(((E=k.target.files)==null?void 0:E[0])||null)}}),c.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[c.jsx(te,{onClick:M,disabled:!n||i,className:"min-w-[200px]",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Upload... ",o,"%"]}):c.jsx(c.Fragment,{children:" Upload dans Storage"})}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Ensuite, excutez dans Dataiku: SELECT public.run_import_from_staging();"})]})]})]}),c.jsxs("div",{className:"border rounded-lg p-4 space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm",children:""}),c.jsx("h3",{className:"text-lg font-semibold",children:"Flux simplifi"})]}),c.jsx("div",{children:"1) Upload du CSV (ou CSV.GZ) dans Storage depuis cette page"}),c.jsxs("div",{children:["2) Dataiku: Overwrite ",c.jsx("code",{className:"mx-1",children:"public.staging_emission_factors"})," puis excuter ",c.jsx("code",{className:"mx-1",children:"SELECT public.run_import_from_staging();"})]}),c.jsx("div",{children:"3) La projection et lassignation des sources sont gres en base. Le connecteur Algolia lit la projection."})]}),c.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center text-sm",children:""}),c.jsx("h3",{className:"text-lg font-semibold",children:"Historique et monitoring des imports"}),c.jsx(Ih,{children:c.jsxs(vy,{children:[c.jsx(yy,{asChild:!0,children:c.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),c.jsx(Fh,{children:"Suivi des imports rcents avec statuts et mtriques"})]})})]}),c.jsx("div",{className:"overflow-auto border rounded-md",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted",children:[c.jsx("th",{className:"p-2 text-left",children:"Cr"}),c.jsx("th",{className:"p-2 text-left",children:"Statut"}),c.jsx("th",{className:"p-2 text-right",children:"Chunks"}),c.jsx("th",{className:"p-2 text-right",children:"Progress"}),c.jsx("th",{className:"p-2 text-right",children:"ETA"}),c.jsx("th",{className:"p-2 text-right",children:"Records"}),c.jsx("th",{className:"p-2 text-left",children:"Index "})]})}),c.jsx("tbody",{children:b?c.jsx("tr",{children:c.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):m.length===0?c.jsx("tr",{children:c.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):m.map(k=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(k.created_at).toLocaleString()}),c.jsx("td",{className:"p-2",children:k.status??"-"}),c.jsxs("td",{className:"p-2 text-right",children:[k.processed_chunks??0,"/",k.total_chunks??0]}),c.jsx("td",{className:"p-2 text-right",children:k.progress_percent!=null?c.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[c.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-2 bg-blue-500",style:{width:`${Math.max(0,Math.min(100,k.progress_percent))}%`}})}),c.jsxs("span",{children:[k.progress_percent,"%"]})]}):"-"}),c.jsx("td",{className:"p-2 text-right",children:k.eta_seconds!=null?c.jsxs("span",{children:["~ ",Math.floor((k.eta_seconds||0)/60).toString().padStart(2,"0"),":",((k.eta_seconds||0)%60).toString().padStart(2,"0")]}):"-"}),c.jsxs("td",{className:"p-2 text-right",children:[k.inserted_records??0,k.total_records?` / ${k.total_records}`:""]}),c.jsx("td",{className:"p-2 whitespace-nowrap",children:k.indexed_at?new Date(k.indexed_at).toLocaleString():"-"})]},k.id))})]})})]}),S!=="idle"&&c.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm ${S==="importing"?"bg-blue-100 text-blue-600":S==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:S==="importing"?"":S==="success"?"":""}),c.jsx("h3",{className:"text-lg font-semibold",children:S==="importing"?"Import en cours...":S==="success"?"Import termin":"Erreur d'import"})]}),c.jsxs("div",{className:"space-y-2",children:[S==="importing"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-sm text-gray-600",children:_}),c.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-3 bg-blue-500 rounded-full animate-pulse",style:{width:"60%"}})})]}),S==="success"&&c.jsx("div",{className:"text-sm text-green-700 bg-green-50 p-3 rounded-md border border-green-200",children:_}),S==="error"&&c.jsx("div",{className:"text-sm text-red-700 bg-red-50 p-3 rounded-md border border-red-200",children:_}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(te,{variant:"outline",size:"sm",onClick:D,children:" Vrifier la synchro Algolia"}),R&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Queue: ",((B=R==null?void 0:R.queue_status)==null?void 0:B.queueSize)??"-"," | Processing: ",String((P=R==null?void 0:R.queue_status)==null?void 0:P.processing)]})]})]})]})]})]}):null},ZE=()=>{const{user:e}=jt(),{isSupraAdmin:t,loading:n}=Nw();Vt();const[r,i]=y.useState(!1);return y.useEffect(()=>{i(!1)},[e,t]),n?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(_o,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Vrification des permissions..."})]})})]}):!e||!t?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(_o,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs(Vr,{className:"max-w-2xl mx-auto",children:[c.jsx(Ph,{className:"h-4 w-4"}),c.jsx(Wr,{children:"Accs refus. Cette page est rserve aux supra administrateurs globaux."})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(_o,{}),c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[c.jsx(Io,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),c.jsx("p",{className:"text-muted-foreground",children:"Gestion avance de la plateforme Ecodex"}),c.jsxs("div",{className:"mt-4",children:[c.jsx(ft,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),c.jsx(ft,{variant:"outline",children:e.email})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),c.jsx(Sae,{})]}),c.jsx(_ae,{}),c.jsx(jae,{children:c.jsx(Cae,{})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),c.jsx(Tae,{})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsx(Rae,{}),c.jsx(Pae,{})]})]})]}),c.jsxs(Ae,{className:"mt-6",children:[c.jsx(He,{children:c.jsx(Be,{children:"Informations de debug"})}),c.jsx(Oe,{children:c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"User ID:"})," ",e.id]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",e.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},ek=()=>{const e=vi(),{language:t}=en(),{t:n}=nt("pages",{keyPrefix:"notFound"});return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:c.jsxs(Ae,{className:"max-w-md w-full text-center",children:[c.jsxs(He,{children:[c.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:c.jsx("span",{className:"text-3xl font-bold text-primary",children:"404"})}),c.jsx(Be,{children:n("title")})]}),c.jsxs(Oe,{className:"space-y-6",children:[c.jsx("p",{className:"text-muted-foreground",children:n("description")}),c.jsx(te,{asChild:!0,className:"inline-flex items-center gap-2",children:c.jsxs("a",{href:Le("/",t),children:[c.jsx(GM,{className:"h-4 w-4"}),n("backHome")]})})]})]})})},Nae=new Sz,Zr=({children:e})=>{const{user:t,loading:n}=jt(),{language:r}=en();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:"Chargement..."})]})}):t?c.jsx(c.Fragment,{children:e}):c.jsx(lT,{to:Le("/login",r),replace:!0})},Nf=({children:e})=>{const{user:t,loading:n}=jt(),{language:r}=en();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:"Chargement..."})]})}):t?c.jsx(lT,{to:Le("/search",r),replace:!0}):c.jsx(c.Fragment,{children:e})},tk=({lang:e})=>{const{setLanguage:t}=en();return y.useEffect(()=>{t(e,{skipStorage:!0})},[e,t]),c.jsx(g5,{})},Aae=()=>c.jsx(jz,{client:Nae,children:c.jsx(YB,{children:c.jsx(JB,{children:c.jsx(XB,{children:c.jsx(ZB,{children:c.jsxs(Ih,{children:[c.jsx(D4,{}),c.jsx(pU,{}),c.jsx(k5,{children:c.jsx(MV,{children:c.jsxs("div",{className:"min-h-screen",children:[c.jsx(R6,{}),c.jsxs(y5,{children:[c.jsxs(ut,{element:c.jsx(tk,{lang:"fr"}),children:[c.jsx(ut,{path:"/",element:c.jsx(C1,{})}),c.jsx(ut,{path:"/login",element:c.jsx(Nf,{children:c.jsx(R1,{})})}),c.jsx(ut,{path:"/signup",element:c.jsx(Nf,{children:c.jsx(P1,{})})}),c.jsx(ut,{path:"/auth/callback",element:c.jsx(T1,{})}),c.jsx(ut,{path:"/search",element:c.jsx(Zr,{children:c.jsx(KE,{})})}),c.jsx(ut,{path:"/favoris",element:c.jsx(Zr,{children:c.jsx(QE,{})})}),c.jsx(ut,{path:"/import",element:c.jsx(Zr,{children:c.jsx(GE,{})})}),c.jsx(ut,{path:"/settings",element:c.jsx(Zr,{children:c.jsx(XE,{})})}),c.jsx(ut,{path:"/admin",element:c.jsx(Zr,{children:c.jsx(ZE,{})})})]}),c.jsxs(ut,{path:"/en",element:c.jsx(tk,{lang:"en"}),children:[c.jsx(ut,{index:!0,element:c.jsx(C1,{})}),c.jsx(ut,{path:"login",element:c.jsx(Nf,{children:c.jsx(R1,{})})}),c.jsx(ut,{path:"signup",element:c.jsx(Nf,{children:c.jsx(P1,{})})}),c.jsx(ut,{path:"auth/callback",element:c.jsx(T1,{})}),c.jsx(ut,{path:"search",element:c.jsx(Zr,{children:c.jsx(KE,{})})}),c.jsx(ut,{path:"favoris",element:c.jsx(Zr,{children:c.jsx(QE,{})})}),c.jsx(ut,{path:"import",element:c.jsx(Zr,{children:c.jsx(GE,{})})}),c.jsx(ut,{path:"settings",element:c.jsx(Zr,{children:c.jsx(XE,{})})}),c.jsx(ut,{path:"admin",element:c.jsx(Zr,{children:c.jsx(ZE,{})})}),c.jsx(ut,{path:"*",element:c.jsx(ek,{})})]}),c.jsx(ut,{path:"*",element:c.jsx(ek,{})})]})]})})})]})})})})})}),_c={cache:{enabled:An.ENABLE_CACHE,ttlMs:An.CACHE_TTL_MS,maxSize:An.MAX_CACHE_SIZE,autoTuning:An.ENABLE_AUTO_TUNING},throttling:{enabled:An.ENABLE_SMART_THROTTLING,requestsPerSecond:An.THROTTLE_REQUESTS_PER_SECOND,burstAllowance:10,adaptiveThrottling:!0},debouncing:{enabled:!0,baseDelayMs:An.DEBOUNCE_DELAY_MS,maxDelayMs:1e3,adaptiveDelay:!0},batching:{enabled:An.ENABLE_BATCHING,delayMs:An.BATCH_DELAY_MS,maxBatchSize:An.MAX_BATCH_SIZE},monitoring:{enabled:An.ENABLE_PERFORMANCE_MONITORING,alertThresholds:{errorRatePercent:5,responseTimeMs:2e3,cacheHitRatePercent:70,requestRatePerMinute:100},metricsRetentionHours:24},suggestions:{enabled:An.ENABLE_SMART_SUGGESTIONS,maxSuggestions:8,prefixCacheEnabled:!0,preloadingEnabled:!0}};({..._c,cache:{..._c.cache},throttling:{..._c.throttling},monitoring:{..._c.monitoring}});const Oae=()=>_c,Iae=e=>{const t=[];return e.cache.ttlMs<=0&&t.push("Cache TTL doit tre positif"),e.cache.maxSize<=0&&t.push("Taille maximale du cache doit tre positive"),e.throttling.requestsPerSecond<=0&&t.push("Taux de throttling doit tre positif"),e.debouncing.baseDelayMs<0&&t.push("Dlai de debouncing doit tre non-ngatif"),e.batching.maxBatchSize<=0&&t.push("Taille maximale de batch doit tre positive"),e.suggestions.maxSuggestions<=0&&t.push("Nombre maximum de suggestions doit tre positif"),(e.monitoring.alertThresholds.errorRatePercent<0||e.monitoring.alertThresholds.errorRatePercent>100)&&t.push("Seuil d'erreur doit tre entre 0 et 100%"),t},Fae=()=>{var i;const e=Oae(),t=typeof navigator<"u"?navigator.userAgent:"",n=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),r=typeof navigator<"u"&&"connection"in navigator&&((i=navigator.connection)==null?void 0:i.effectiveType)==="slow-2g";return n||r?{...e,cache:{...e.cache,ttlMs:e.cache.ttlMs*1.5,maxSize:Math.floor(e.cache.maxSize*.7)},debouncing:{...e.debouncing,baseDelayMs:Math.floor(e.debouncing.baseDelayMs*1.5)},batching:{...e.batching,delayMs:e.batching.delayMs*2,maxBatchSize:Math.floor(e.batching.maxBatchSize*1.5)}}:e},ls=Fae();Iae(ls);class Dae{constructor(){qe(this,"initialized",!1);qe(this,"initPromise",null);qe(this,"lastAlertAt",{});qe(this,"metricsTimer",null)}async initialize(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this.performInitialization(),this.initPromise)}async performInitialization(){console.log(" Initialisation du systme Algolia optimis...");try{ls.monitoring.enabled&&this.initializeMonitoring(),ls.cache.enabled&&this.initializeCache(),ls.cache.autoTuning&&this.startAutoTuning(),this.setupAlerts(),this.recordSuccessfulInit(),this.initialized=!0,console.log(" Systme Algolia optimis initialis avec succs"),An.DEBUG_PERFORMANCE}catch(t){console.error(" Erreur lors de l'initialisation Algolia:",t),this.initialized=!0}}initializeMonitoring(){as.onAlert(t=>{console.warn(` Alerte Algolia [${t.severity}]:`,t.message),this.sendToMonitoringService(t)})}initializeCache(){In.autoTune()}startAutoTuning(){setInterval(()=>{try{const t=as.autoTune();In.autoTune(),An.DEBUG_PERFORMANCE}catch(t){console.warn(" Erreur auto-tuning:",t)}},5*60*1e3)}setupAlerts(){setInterval(()=>{const t=typeof window<"u"?window.__algoliaBlockedUntil:0;if(t&&Date.now()<t)return;const n=as.getMetrics();In.getCacheStats(),n.cacheHitRate<ls.monitoring.alertThresholds.cacheHitRatePercent&&this.shouldLogAlert("cacheHitRate")&&console.warn(` Cache hit rate faible: ${n.cacheHitRate.toFixed(1)}%`),n.averageResponseTime>ls.monitoring.alertThresholds.responseTimeMs&&this.shouldLogAlert("responseTime")&&console.warn(` Temps de rponse lev: ${n.averageResponseTime.toFixed(0)}ms`);const r=n.failedRequests/Math.max(n.totalRequests,1)*100;r>ls.monitoring.alertThresholds.errorRatePercent&&this.shouldLogAlert("errorRate")&&console.warn(` Taux d'erreur lev: ${r.toFixed(1)}%`),n.cacheHitRate<30&&In.autoTune()},2*60*1e3)}shouldLogAlert(t,n=6e4){const r=Date.now();return this.lastAlertAt[t],this.lastAlertAt[t]=r,!0}recordSuccessfulInit(){as.recordRequest(0,!0,"system","algolia_optimization_init")}sendToMonitoringService(t){typeof window<"u"&&"fetch"in window&&fetch("/api/monitoring/algolia-alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert:t,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href})}).catch(n=>{console.warn("Erreur envoi monitoring:",n)})}getStatus(){return{initialized:this.initialized,config:ls,metrics:this.initialized?as.getMetrics():null,cacheStats:this.initialized?In.getCacheStats():null}}async restart(){console.log(" Redmarrage du systme Algolia optimis..."),this.initialized=!1,this.initPromise=null,as.reset(),In.clear(),await this.initialize()}forceOptimization(){if(!this.initialized)return;console.log(" Optimisation force du systme Algolia...");const t=as.autoTune();In.autoTune(),console.log(" Optimisation applique:",t)}}const nk=new Dae;typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{nk.initialize()}):nk.initialize());try{window.trustedTypes&&!window.trustedTypes.getPolicy("default")&&window.trustedTypes.createPolicy("default",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}jR(document.getElementById("root")).render(c.jsx(Aae,{}));
